(()=>{"use strict";var t={36:(t,e)=>{function i(t){return`#${t.toString(16).padStart(6,"0")}`}Object.defineProperty(e,"__esModule",{value:!0}),e.StateDiagram=void 0,e.StateDiagram=class{constructor(){this.queueHidden=!1,this.scale=1,this.lastUpdateInfo=null,this.stateCanvas=document.getElementById("states"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.updateScale(),window.onresize=()=>{this.update(null,null)}}updateScale(){this.scale=(this.stateCanvas.getBoundingClientRect().width-4)/700,this.stateCanvas.width=700*this.scale,this.stateCanvas.height=500*this.scale,this.stateCanvas.style.height=500/700*(this.stateCanvas.getBoundingClientRect().width-4)+"px",this.hitRegionCanvas.height=500*this.scale,this.hitRegionCanvas.width=700*this.scale}update(t,e){if(this.updateScale(),null===t||null===e){if(null===this.lastUpdateInfo)return;t=this.lastUpdateInfo.data,e=this.lastUpdateInfo.activeState}this.clearCanvas(),this.drawTransitions(t),this.drawStates(e,t),this.lastUpdateInfo={data:t,activeState:e}}xTransform(t){return t*this.scale}yTransform(t){return t*this.scale}setQueueHidden(t){this.queueHidden=t}clearCanvas(){let t=this.stateCanvas.getContext("2d"),e=this.hitRegionCanvas.getContext("2d");t.clearRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.clearRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height),t.fillStyle="white",e.fillStyle="white",t.fillRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.fillRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height)}canvas_arrow(t,e,i,s,n){e=this.xTransform(e),i=this.yTransform(i),s=this.xTransform(s),n=this.yTransform(n);let o=10*this.scale,a=s-e,l=n-i,r=Math.atan2(l,a);t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.lineTo(s-o*Math.cos(r-Math.PI/6),n-o*Math.sin(r-Math.PI/6)),t.moveTo(s,n),t.lineTo(s-o*Math.cos(r+Math.PI/6),n-o*Math.sin(r+Math.PI/6)),t.stroke(),t.closePath()}displayTransition(t){let e="";return null===t.input?e+="ε":e+=t.input,this.queueHidden||(e+=" : ",null===t.queueOut?e+="∅":e+=`(${t.queueOut.symbol}, ${t.queueOut.priority})`,e+=" ↦ ",null===t.queueIn?e+="∅":e+=`(${t.queueIn.symbol}, ${t.queueIn.priority})`),e}drawTransitions(t){let e=this.stateCanvas.getContext("2d"),s=this.hitRegionCanvas.getContext("2d"),n=0;e.strokeStyle="black";for(let{transition:o,path:a,labelPosition:l}of t.transitions){e.lineWidth=6*this.scale,e.beginPath();for(let{x:t,y:i}of a)e.lineTo(this.xTransform(t),this.yTransform(i));e.stroke(),e.closePath(),this.canvas_arrow(e,a[a.length-2].x,a[a.length-2].y,a[a.length-1].x,a[a.length-1].y),e.fillStyle="black",e.font=`${Math.round(16*this.scale)}px Arial`,e.textAlign="left",e.textBaseline="middle",e.fillText(this.displayTransition(o),this.xTransform(l.x),this.yTransform(l.y)),s.lineWidth=25*this.scale,s.strokeStyle=i(n),s.beginPath();for(let{x:t,y:e}of a)s.lineTo(this.xTransform(t),this.yTransform(e));s.stroke(),s.closePath(),n+=1}}drawStates(t,e){let i=this.stateCanvas.getContext("2d");for(let[s,{position:n,isAccepting:o}]of e.states)s===t?(i.fillStyle="yellow",i.strokeStyle="red"):(i.fillStyle="white",i.strokeStyle="black"),i.lineWidth=2*this.scale,i.beginPath(),i.arc(this.xTransform(n.x),this.yTransform(n.y),30*this.scale,0,2*Math.PI),i.fill(),i.stroke(),i.closePath(),i.beginPath(),o&&(i.arc(this.xTransform(n.x),this.yTransform(n.y),25*this.scale,0,2*Math.PI),i.stroke()),i.closePath(),i.fillStyle="black",i.font=`${Math.round(16*this.scale)}px Arial`,i.textAlign="center",i.textBaseline="middle",i.fillText(s,this.xTransform(n.x),this.yTransform(n.y))}}},142:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQARun=void 0;class i{constructor(t,e){this.mostRecentlyAddedElement=null,this.mostRecentlyRemovedElement=null,this.maxPriority=-1/0,this.queue=new Map,this.state=t.initialState,this.automaton=t,this.word=e}updateMaxPriority(){this.maxPriority=Math.max(...this.queue.keys())}tryRemoveElement(t){if(t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return void 0!==i&&0!==i&&(e.set(t.symbol,i-1),1===i&&this.updateMaxPriority(),this.mostRecentlyRemovedElement=t,!0)}canRemoveElement(t){if(t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return!(void 0===i||0===i)}addElement(t){let e=this.queue.get(t.priority);void 0===e&&(e=new Map,this.queue.set(t.priority,e));let i=e.get(t.symbol);void 0===i&&(i=0),t.priority>this.maxPriority&&(this.maxPriority=t.priority),e.set(t.symbol,i+1),this.mostRecentlyAddedElement=t}tryRunTransition(t){if(this.mostRecentlyRemovedElement=null,this.mostRecentlyAddedElement=null,t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return e.stateFrom!==this.state?(console.warn(`From state ${e.stateFrom} is not ${this.state}`),!1):null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length?(console.warn(`Input ${e.input} does not match symbol ${this.word[this.word.length-1]}`),!1):null===e.queueOut||this.tryRemoveElement(e.queueOut)?(null!==e.input&&this.word.pop(),this.state=e.stateTo,null!==e.queueIn&&this.addElement(e.queueIn),!0):(console.warn(`Unable to remove element ${e.queueOut} from queue`),!1)}canRunTransition(t){if(t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return!(e.stateFrom!==this.state||null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length||null!==e.queueOut&&!this.canRemoveElement(e.queueOut))}canAccept(){return 0===this.word.length&&this.automaton.acceptingStates.has(this.state)}getMostRecentlyAddedElement(){return this.mostRecentlyAddedElement}getMostRecentlyRemovedElement(){return this.mostRecentlyRemovedElement}}e.PQARun=class{generateTransitions(t){let e=[];for(let i of t){let t,s,n,o,a;if(null===i.input)t=null;else{let e=this.inputLookup.get(i.input);if(void 0===e)throw new Error(`Input ${i.input} not found in input alphabet`);t=e}if(null===i.queueIn)s=null;else{let t=this.queueLookup.get(i.queueIn.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueIn.symbol} not found in input alphabet`);s={symbol:t,priority:i.queueIn.priority}}if(null===i.queueOut)n=null;else{let t=this.queueLookup.get(i.queueOut.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueOut.symbol} not found in input alphabet`);n={symbol:t,priority:i.queueOut.priority}}let l=this.stateLookup.get(i.stateFrom);if(void 0===l)throw new Error(`State ${i.stateFrom} not found in states`);o=l;let r=this.stateLookup.get(i.stateTo);if(void 0===r)throw new Error(`State ${i.stateTo} not found in states`);a=r,e.push({stateFrom:o,stateTo:a,input:t,queueIn:s,queueOut:n})}return e}constructor(t,e,s,n,o,a,l,r=null){this.originData=null,this.states=t,this.inputSymbols=e,this.queueSymbols=s,this.originData=r,this.stateLookup=new Map;for(let e=0;e<t.length;e++)this.stateLookup.set(t[e],e);this.inputLookup=new Map;for(let t=0;t<e.length;t++)this.inputLookup.set(e[t],t);this.queueLookup=new Map;for(let t=0;t<s.length;t++)this.queueLookup.set(s[t],t);if(!this.stateLookup.has(n))throw new Error(`Initial state ${n} not found in states`);let u=new Set;for(let t of o){let e=this.stateLookup.get(t);if(void 0===e)throw new Error(`Accepting state ${t} not found in states`);u.add(e)}let h=this.generateTransitions(a),d={stateCount:t.length,inputAlphabetCount:e.length,queueAlphabetCount:s.length,initialState:this.stateLookup.get(n),acceptingStates:u,transitionCount:a.length,transitions:h},p=[];for(let t of l){let e=this.inputLookup.get(t);if(void 0===e)throw new Error(`Input ${t} not found in input alphabet`);p.push(e)}this.runState=new i(d,p.reverse())}*transitions(){for(let t=0;t<this.runState.automaton.transitionCount;t++){let e,i,s,n=this.runState.automaton.transitions[t];e=null===n.input?null:this.inputSymbols[n.input],i=null===n.queueIn?null:{symbol:this.queueSymbols[n.queueIn.symbol],priority:n.queueIn.priority},s=null===n.queueOut?null:{symbol:this.queueSymbols[n.queueOut.symbol],priority:n.queueOut.priority};let o=this.states[n.stateFrom],a=this.states[n.stateTo];yield{index:t,value:{stateFrom:o,stateTo:a,input:e,queueIn:i,queueOut:s}}}}get state(){return this.states[this.runState.state]}get word(){let t=[];for(let e of this.runState.word)t.push(this.inputSymbols[e]);return t.reverse()}*queue(){for(let[t,e]of this.runState.queue)for(let[i,s]of e)yield{symbol:this.queueSymbols[i],priority:t,count:s}}tryTransition(t){return this.runState.tryRunTransition(t)}canRunTransition(t){return this.runState.canRunTransition(t)}tryTransitionRun(t){for(let e of t)if(!this.tryTransition(e))return!1;return!0}canAccept(){return this.runState.canAccept()}getMostRecentlyAddedElement(){let t=this.runState.getMostRecentlyAddedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}getMostRecentlyRemovedElement(){let t=this.runState.getMostRecentlyRemovedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}}},186:(t,e,i)=>{t.exports=i.p+"assets/442198056ecd5d762369-levels.json"},442:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameUI=void 0;const n=i(468),o=i(36),a=s(i(944)),l=s(i(635)),r=s(i(851));e.GameUI=class{constructor(t){var e;this.data=null,this.queueHidden=!1,this.buttonClickSound=new Audio(a.default),this.resetSound=new Audio(l.default),this.acceptSound=new Audio(r.default),this.stateCanvas=document.getElementById("states"),this.queueTable=document.getElementById("queue"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.wordParagraph=document.getElementById("word"),this.previousButton=document.getElementById("prev"),this.nextButton=document.getElementById("next"),this.levelTitle=document.getElementById("level_name"),this.levelGroupList=document.getElementById("levels"),this.levelDescription=document.getElementById("level_description"),this.welcomeBeginButton=document.getElementById("welcome_begin_button"),this.levelGroups=new Map,this.queueTableFields=new Map,this.game=t,this.stateDiagram=new o.StateDiagram,this.stateDiagram.clearCanvas(),null===(e=document.getElementById("game_start"))||void 0===e||e.showModal()}setPQA(t){if(null===t.originData)throw new Error("PQA has no origin data, unable to construct UI");let e=t.originData;this.data=e,this.setQueueTable(e),this.updatePriorityQueue(t.queue()),this.updateWord(t.word),this.setActiveState(t.state)}getTransitionIdx(t){let e=t.offsetX,i=t.offsetY,s=this.hitRegionCanvas.getContext("2d").getImageData(e,i,1,1).data;return 256*s[0]*256+256*s[1]+s[2]}onStateHover(t,e){let i=t.offsetX,s=t.offsetY;this.hitRegionCanvas.getContext("2d").getImageData(i,s,1,1).data[0]<96?e.canRunTransition(this.getTransitionIdx(t))?this.stateCanvas.style.cursor="pointer":this.stateCanvas.style.cursor="not-allowed":this.stateCanvas.style.cursor="default"}setQueueTable(t){if(t.queueHidden)return this.queueTable.hidden=!0,this.queueHidden=!0,void this.stateDiagram.setQueueHidden(!0);this.queueTable.hidden=!1,this.queueHidden=!1,this.stateDiagram.setQueueHidden(!1),this.queueTable.innerHTML="",this.setQueueTableHead(t),this.setQueueTableBody(t)}setQueueTableHead(t){let e=this.queueTable.createTHead().insertRow();e.insertCell().outerHTML="<th>Priorities</th>";for(let i of t.queueAlphabet){let t=e.insertCell();t.outerHTML=`<th>${i}</th>`,t.scope="col"}}setQueueTableBody(t){let e=this.queueTable.createTBody();for(let i of t.priorities){let s=e.insertRow(),n=s.insertCell();n.outerHTML=`<th>${i}</th>`,n.scope="row";for(let e of t.queueAlphabet){let t=s.insertCell();this.queueTableFields.set([e,i].toString(),t)}}}updatePriorityQueue(t){if(!this.queueTable.hidden)for(let{symbol:e,priority:i,count:s}of t)this.queueTableFields.get([e,i].toString()).innerText=0===s?"":s.toString()}showError(t){console.error(t)}setActiveState(t){this.stateDiagram.update(this.data,t)}updateWord(t){this.wordParagraph.innerText=t.join(" ")}createInProjectile(t){let e=this.game.getMostRecentlyAddedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString());s.innerText=(parseInt(s.innerText)-1).toString();let n=s.getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,n.x,n.y),i.animate([{transform:`translate(${t.x}px, ${t.y}px)`},{transform:`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`}],{duration:200}),setTimeout(()=>{s.innerText=(1+parseInt(s.innerText)).toString(),i.style.transform=`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`},200),setTimeout(()=>{i.remove()},300)}createOutProjectile(t){let e=this.game.getMostRecentlyRemovedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString()).getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,s.x,s.y),i.animate([{transform:`translate(${s.x+.5*s.width}px, ${s.y+.5*s.height}px)`},{transform:`translate(${t.x}px, ${t.y}px)`}],{duration:200}),setTimeout(()=>{i.style.transform=`translate(${t.x}px, ${t.y}px)`},200),setTimeout(()=>{i.remove()},300)}onTransitionClicked(t){this.buttonClickSound.play(),this.createInProjectile(t),this.createOutProjectile(t)}onReset(){this.resetSound.play()}onAccept(){this.acceptSound.play(),document.getElementById("accepted").showModal()}addLevel(t,e,i){if(!this.levelGroups.has(e)){let t=document.createElement("li"),i=document.createElement("h2");i.innerText=e,t.appendChild(i);let s=document.createElement("ol");t.appendChild(s),this.levelGroupList.appendChild(t),this.levelGroups.set(e,s)}let s=this.levelGroups.get(e),o=document.createElement("li"),a=document.createElement("button");a.innerText=t,a.onclick=()=>{var t;null===(t=n.Game.instance)||void 0===t||t.onLevelSelect(i)},o.appendChild(a),s.appendChild(o)}setPrevNext(t,e){null===t?(this.previousButton.disabled=!0,this.previousButton.value=""):(this.previousButton.disabled=!1,this.previousButton.value=t),null===e?(this.nextButton.disabled=!0,this.nextButton.value=""):(this.nextButton.disabled=!1,this.nextButton.value=e)}setLevelName(t){this.levelTitle.innerText=t}setLevelDescription(t){this.levelDescription.innerHTML=t}setFirstLevel(t){this.welcomeBeginButton.onclick=()=>{var e;null===(e=n.Game.instance)||void 0===e||e.onLevelSelect(t)}}}},468:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const s=i(442),n=i(582);class o{constructor(){this.ui=new s.GameUI(this),this.levelData=new n.LevelData(this.ui),this.pqa=null,o.instance=this}loadPQA(t){this.pqa=t.createPQA(),this.ui.setPQA(this.pqa)}onStateHover(t){this.ui.onStateHover(t,this)}onStateClicked(t){var e;let i=this.ui.getTransitionIdx(t);i>=6291456||(this.tryRunTransition(i)&&this.ui.onTransitionClicked(t),this.onStateHover(t),(null===(e=this.pqa)||void 0===e?void 0:e.canAccept())&&this.ui.onAccept())}tryRunTransition(t){let e;if(null===this.pqa)return this.ui.showError("No PQA loaded"),!1;e=this.pqa;let i=e.tryTransition(t);return i||this.ui.showError("Unable to run transition"),this.ui.setActiveState(e.state),this.ui.updatePriorityQueue(e.queue()),this.ui.updateWord(e.word),i}canRunTransition(t){let e;return null!==this.pqa&&(e=this.pqa,e.canRunTransition(t))}resetCurrentPQA(){var t;let e=null===(t=this.pqa)||void 0===t?void 0:t.originData;null!=e&&this.loadPQA(e),this.ui.onReset()}getMostRecentlyAddedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyAddedElement()}getMostRecentlyRemovedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyRemovedElement()}onLevelSelect(t){if(""===t)return;let e=this.levelData.getLevelData(t),i=this.levelData.getPrevious(t),s=this.levelData.getNext(t),n=this.levelData.getName(t),o=this.levelData.getLevelDescription(t);this.ui.setPrevNext(i,s),this.ui.setLevelName(n),this.ui.setLevelDescription(o),this.loadPQA(e)}}e.Game=o,o.instance=null},574:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQAData=void 0;const s=i(142);e.PQAData=class{constructor(t){var e;let i;i="string"==typeof t?JSON.parse(t):t,this.states=new Map;for(let t of i.states)this.states.set(t.name,{position:{x:t.position.x,y:t.position.y},isAccepting:t.isAccepting});this.inputAlphabet=new Set;for(let t of i.inputAlphabet)this.inputAlphabet.add(t);this.queueAlphabet=new Set;for(let t of i.queueAlphabet)this.queueAlphabet.add(t);this.transitions=[];for(let t of i.transitions){let e=t.stateFrom,i=t.stateTo;if(!this.states.has(e))throw new Error(`State ${e} not found in states`);if(!this.states.has(i))throw new Error(`State ${i} not found in states`);let s=t.input;if(null!==s&&!this.inputAlphabet.has(s))throw new Error(`Input Symbol ${s} is not valid`);let n=t.queueIn,o=t.queueOut;if(null!==n&&!this.queueAlphabet.has(n.symbol))throw new Error(`Queue Symbol ${n.symbol} is not valid`);if(null!==o&&!this.queueAlphabet.has(o.symbol))throw new Error(`Queue Symbol ${o.symbol} is not valid`);let a=[];for(let{x:e,y:i}of t.path)a.push({x:e,y:i});let l={x:t.labelPosition.x,y:t.labelPosition.y};this.transitions.push({transition:{stateFrom:e,stateTo:i,input:s,queueIn:n,queueOut:o},path:a,labelPosition:l})}if(!this.states.has(i.initialState))throw new Error(`Initial state ${i.initialState} not found in states`);this.initialState=i.initialState,this.word=i.word,this.priorities=[];for(let t of i.priorities)this.priorities.push(t);this.queueHidden=null!==(e=i.hideQueue)&&void 0!==e&&e}createPQA(){let t=[],e=new Set;for(let[i,{isAccepting:s}]of this.states)s&&e.add(i),t.push(i);let i=Array.from(this.inputAlphabet),n=Array.from(this.queueAlphabet),o=this.initialState,a=[];for(let{transition:t}of this.transitions)a.push(t);return new s.PQARun(t,i,n,o,e,a,this.word,this)}}},582:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,o){function a(t){try{r(s.next(t))}catch(t){o(t)}}function l(t){try{r(s.throw(t))}catch(t){o(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,l)}r((s=s.apply(t,e||[])).next())})},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LevelData=void 0;const o=i(574),a=n(i(186));e.LevelData=class{constructor(t){this.firstLevel=null,this.groups=new Map,this.levels=new Map,this.ui=t,this.loadLevels().then(()=>{})}loadLevels(){return s(this,void 0,void 0,function*(){var t,e,i;let{groups:s,levels:n}=yield window.fetch(a.default).then(t=>t.text()).then(t=>JSON.parse(t));for(let e of n){let i=e,s=new o.PQAData(i),n=i.metadata.name.toString(),a=i.metadata.group.toString(),l=i.metadata.id.toString(),r=null!==(t=i.metadata.description)&&void 0!==t?t:"";this.groups.has(a)||this.groups.set(a,[]);let u=i.metadata.groupIndex;this.groups.get(a)[u]=l,this.levels.set(l,{data:s,group:a,name:n,prev:null,next:null,description:r})}for(let[t,e]of this.groups){let i=e.filter(t=>void 0!==t);this.groups.set(t,i)}s.length>0&&(this.firstLevel=null!==(i=null===(e=this.groups.get(s[0]))||void 0===e?void 0:e[0])&&void 0!==i?i:null),null!==this.firstLevel&&this.ui.setFirstLevel(this.firstLevel);let l=null,r=null;for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e)void 0!==t&&(null!==r&&(this.levels.get(r).next=t,this.levels.get(r).prev=l),l=r,r=t)}null!==r&&(this.levels.get(r).next=null,this.levels.get(r).prev=l);for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e){if(void 0===t)continue;let{group:e,name:i}=this.levels.get(t);this.ui.addLevel(i,e,t)}}})}getLevelData(t){return this.levels.get(t).data}getPrevious(t){return this.levels.get(t).prev}getNext(t){return this.levels.get(t).next}getName(t){return this.levels.get(t).name}getLevelDescription(t){return this.levels.get(t).description}}},635:(t,e,i)=>{t.exports=i.p+"assets/d06d771a9dc497567ad7-54405__korgms2000b__button-click.wav"},851:(t,e,i)=>{t.exports=i.p+"assets/2aca5f35d51e7fefb3e2-66136__aji__ding30603-spedup.wav"},914:(t,e,i)=>{i.r(e)},944:(t,e,i)=>{t.exports=i.p+"assets/b991bc8c7c11af001edf-219069__annabloom__click1.wav"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var n=s.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=s[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{const t=i(468);var e,s;i(914),new t.Game,null===(e=document.getElementById("states"))||void 0===e||e.addEventListener("click",e=>{var i;null===(i=t.Game.instance)||void 0===i||i.onStateClicked(e)}),null===(s=document.getElementById("states"))||void 0===s||s.addEventListener("mousemove",e=>{var i;null===(i=t.Game.instance)||void 0===i||i.onStateHover(e)}),window.Game=t.Game})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsaUJBQThCLElBQVA4UixHQUF5QkEsRUFBR3VDLGlCQUFpQixZQUFjN0gsSUFDNUcsSUFBSXhELEVBQzRCLFFBQS9CQSxFQUFLTixFQUFPOEYsS0FBS0MsZ0JBQTZCLElBQVB6RixHQUF5QkEsRUFBRzhCLGFBQWEwQixLQU16RnJNLE9BQWEsS0FBSXVJLEVBQU84RixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvU3RhdGVEaWFncmFtLnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL1BRQS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9nYW1lVUkudHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9QUUFEYXRhLnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL0xldmVsRGF0YS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcWFfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3BxYV9nYW1lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXRlRGlhZ3JhbSA9IHZvaWQgMDtcbmZ1bmN0aW9uIHRvSGV4Q29kZShuKSB7XG4gICAgcmV0dXJuIGAjJHtuLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCBcIjBcIil9YDtcbn1cbmNsYXNzIFN0YXRlRGlhZ3JhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDEuMDtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKTtcbiAgICAgICAgdGhpcy5oaXRSZWdpb25DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlSGl0UmVnaW9uXCIpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlKCk7XG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKG51bGwsIG51bGwpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGVTY2FsZSgpIHtcbiAgICAgICAgdGhpcy5zY2FsZSA9ICh0aGlzLnN0YXRlQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gNCkgLyA3MDA7IC8vIEl0IHdhcyBpbml0aWFsbHkgNzAwcHggc28gd2UgYXJlIG5vdyBzdHVjayB3aXRoIHRoaXMgYXMgYSBiYXNlbGluZVxuICAgICAgICAvLyB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMud2lkdGggPSA3MDAgKiB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7NTAwIC8gNzAwICogKHRoaXMuc3RhdGVDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSA0KX1weGA7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoID0gNzAwICogdGhpcy5zY2FsZTtcbiAgICB9XG4gICAgdXBkYXRlKHBxYURhdGEsIGFjdGl2ZVN0YXRlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2NhbGUoKTtcbiAgICAgICAgaWYgKHBxYURhdGEgPT09IG51bGwgfHwgYWN0aXZlU3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHFhRGF0YSA9IHRoaXMubGFzdFVwZGF0ZUluZm8uZGF0YTtcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGF0ZSA9IHRoaXMubGFzdFVwZGF0ZUluZm8uYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpO1xuICAgICAgICB0aGlzLmRyYXdUcmFuc2l0aW9ucyhwcWFEYXRhKTtcbiAgICAgICAgdGhpcy5kcmF3U3RhdGVzKGFjdGl2ZVN0YXRlLCBwcWFEYXRhKTtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlSW5mbyA9IHsgZGF0YTogcHFhRGF0YSwgYWN0aXZlU3RhdGU6IGFjdGl2ZVN0YXRlIH07XG4gICAgfVxuICAgIHhUcmFuc2Zvcm0oeCkge1xuICAgICAgICByZXR1cm4geCAqIHRoaXMuc2NhbGU7XG4gICAgfVxuICAgIHlUcmFuc2Zvcm0oeSkge1xuICAgICAgICByZXR1cm4geSAqIHRoaXMuc2NhbGU7XG4gICAgfVxuICAgIHNldFF1ZXVlSGlkZGVuKHF1ZXVlSGlkZGVuKSB7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBxdWV1ZUhpZGRlbjtcbiAgICB9XG4gICAgY2xlYXJDYW52YXMoKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5zdGF0ZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBoaXRDb250ZXh0ID0gdGhpcy5oaXRSZWdpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnN0YXRlQ2FudmFzLndpZHRoLCB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCk7XG4gICAgICAgIGhpdENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgaGl0Q29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5zdGF0ZUNhbnZhcy53aWR0aCwgdGhpcy5zdGF0ZUNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBoaXRDb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICAvLyBUYWtlbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzgwODgyNi9kcmF3aW5nLWFuLWFycm93LXVzaW5nLWh0bWwtY2FudmFzXG4gICAgY2FudmFzX2Fycm93KGNvbnRleHQsIGZyb214LCBmcm9teSwgdG94LCB0b3kpIHtcbiAgICAgICAgZnJvbXggPSB0aGlzLnhUcmFuc2Zvcm0oZnJvbXgpO1xuICAgICAgICBmcm9teSA9IHRoaXMueVRyYW5zZm9ybShmcm9teSk7XG4gICAgICAgIHRveCA9IHRoaXMueFRyYW5zZm9ybSh0b3gpO1xuICAgICAgICB0b3kgPSB0aGlzLnlUcmFuc2Zvcm0odG95KTtcbiAgICAgICAgbGV0IGhlYWRsZW4gPSAxMCAqIHRoaXMuc2NhbGU7IC8vIGxlbmd0aCBvZiBoZWFkIGluIHBpeGVsc1xuICAgICAgICBsZXQgZHggPSB0b3ggLSBmcm9teDtcbiAgICAgICAgbGV0IGR5ID0gdG95IC0gZnJvbXk7XG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oZnJvbXgsIGZyb215KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG94LCB0b3kpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh0b3ggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNiksIHRveSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA2KSk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRveCwgdG95KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG94IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDYpLCB0b3kgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJIC8gNikpO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgICBkaXNwbGF5VHJhbnNpdGlvbih0cmFuc2l0aW9uKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5pbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICfOtSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdHJhbnNpdGlvbi5pbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWV1ZUhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gXCIgOiBcIjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVPdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAn4oiFJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBgKCR7dHJhbnNpdGlvbi5xdWV1ZU91dC5zeW1ib2x9LCAke3RyYW5zaXRpb24ucXVldWVPdXQucHJpb3JpdHl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IFwiIOKGpiBcIjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVJbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICfiiIUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGAoJHt0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sfSwgJHt0cmFuc2l0aW9uLnF1ZXVlSW4ucHJpb3JpdHl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZHJhd1RyYW5zaXRpb25zKGRhdGEpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLnN0YXRlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IGhpdENvbnRleHQgPSB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uSW5kZXggPSAwO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICBmb3IgKGxldCB7IHRyYW5zaXRpb24sIHBhdGgsIGxhYmVsUG9zaXRpb24gfSBvZiBkYXRhLnRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDYgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgeCwgeSB9IG9mIHBhdGgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLnhUcmFuc2Zvcm0oeCksIHRoaXMueVRyYW5zZm9ybSh5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzX2Fycm93KGNvbnRleHQsIHBhdGhbcGF0aC5sZW5ndGggLSAyXS54LCBwYXRoW3BhdGgubGVuZ3RoIC0gMl0ueSwgcGF0aFtwYXRoLmxlbmd0aCAtIDFdLngsIHBhdGhbcGF0aC5sZW5ndGggLSAxXS55KTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7TWF0aC5yb3VuZCgxNiAqIHRoaXMuc2NhbGUpfXB4IEFyaWFsYDtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMuZGlzcGxheVRyYW5zaXRpb24odHJhbnNpdGlvbiksIHRoaXMueFRyYW5zZm9ybShsYWJlbFBvc2l0aW9uLngpLCB0aGlzLnlUcmFuc2Zvcm0obGFiZWxQb3NpdGlvbi55KSk7XG4gICAgICAgICAgICBoaXRDb250ZXh0LmxpbmVXaWR0aCA9IDI1ICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGhpdENvbnRleHQuc3Ryb2tlU3R5bGUgPSB0b0hleENvZGUodHJhbnNpdGlvbkluZGV4KTtcbiAgICAgICAgICAgIGhpdENvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB7IHgsIHkgfSBvZiBwYXRoKSB7XG4gICAgICAgICAgICAgICAgaGl0Q29udGV4dC5saW5lVG8odGhpcy54VHJhbnNmb3JtKHgpLCB0aGlzLnlUcmFuc2Zvcm0oeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGl0Q29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIGhpdENvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uSW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3U3RhdGVzKGFjdGl2ZVN0YXRlLCBkYXRhKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5zdGF0ZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGZvciAobGV0IFtzdGF0ZSwgeyBwb3NpdGlvbiwgaXNBY2NlcHRpbmcgfV0gb2YgZGF0YS5zdGF0ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gYWN0aXZlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwieWVsbG93XCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyh0aGlzLnhUcmFuc2Zvcm0ocG9zaXRpb24ueCksIHRoaXMueVRyYW5zZm9ybShwb3NpdGlvbi55KSwgMzAgKiB0aGlzLnNjYWxlLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGlmIChpc0FjY2VwdGluZykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHRoaXMueFRyYW5zZm9ybShwb3NpdGlvbi54KSwgdGhpcy55VHJhbnNmb3JtKHBvc2l0aW9uLnkpLCAyNSAqIHRoaXMuc2NhbGUsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7TWF0aC5yb3VuZCgxNiAqIHRoaXMuc2NhbGUpfXB4IEFyaWFsYDtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc3RhdGUsIHRoaXMueFRyYW5zZm9ybShwb3NpdGlvbi54KSwgdGhpcy55VHJhbnNmb3JtKHBvc2l0aW9uLnkpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU3RhdGVEaWFncmFtID0gU3RhdGVEaWFncmFtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBRQVJ1biA9IHZvaWQgMDtcbmNsYXNzIFJ1blN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihhdXRvbWF0b24sIHdvcmQpIHtcbiAgICAgICAgdGhpcy5tb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXhQcmlvcml0eSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1dG9tYXRvbi5pbml0aWFsU3RhdGU7XG4gICAgICAgIHRoaXMuYXV0b21hdG9uID0gYXV0b21hdG9uO1xuICAgICAgICB0aGlzLndvcmQgPSB3b3JkO1xuICAgIH1cbiAgICB1cGRhdGVNYXhQcmlvcml0eSgpIHtcbiAgICAgICAgdGhpcy5tYXhQcmlvcml0eSA9IE1hdGgubWF4KC4uLnRoaXMucXVldWUua2V5cygpKTtcbiAgICB9XG4gICAgdHJ5UmVtb3ZlRWxlbWVudChlbGVtKSB7XG4gICAgICAgIGlmIChlbGVtLnByaW9yaXR5IDwgdGhpcy5tYXhQcmlvcml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLnF1ZXVlLmdldChlbGVtLnByaW9yaXR5KTtcbiAgICAgICAgaWYgKG1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvdW50ID0gbWFwLmdldChlbGVtLnN5bWJvbCk7XG4gICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkIHx8IGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnNldChlbGVtLnN5bWJvbCwgY291bnQgLSAxKTtcbiAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1heFByaW9yaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCA9IGVsZW07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYW5SZW1vdmVFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgaWYgKGVsZW0ucHJpb3JpdHkgPCB0aGlzLm1heFByaW9yaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hcCA9IHRoaXMucXVldWUuZ2V0KGVsZW0ucHJpb3JpdHkpO1xuICAgICAgICBpZiAobWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBtYXAuZ2V0KGVsZW0uc3ltYm9sKTtcbiAgICAgICAgcmV0dXJuICEoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PT0gMCk7XG4gICAgfVxuICAgIGFkZEVsZW1lbnQoZWxlbSkge1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5xdWV1ZS5nZXQoZWxlbS5wcmlvcml0eSk7XG4gICAgICAgIGlmIChtYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zZXQoZWxlbS5wcmlvcml0eSwgbWFwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBtYXAuZ2V0KGVsZW0uc3ltYm9sKTtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbS5wcmlvcml0eSA+IHRoaXMubWF4UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMubWF4UHJpb3JpdHkgPSBlbGVtLnByaW9yaXR5O1xuICAgICAgICB9XG4gICAgICAgIG1hcC5zZXQoZWxlbS5zeW1ib2wsIGNvdW50ICsgMSk7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5QWRkZWRFbGVtZW50ID0gZWxlbTtcbiAgICB9XG4gICAgdHJ5UnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSB7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uSWR4ID49IHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25Db3VudCB8fCB0cmFuc2l0aW9uSWR4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFuc2l0aW9uID0gdGhpcy5hdXRvbWF0b24udHJhbnNpdGlvbnNbdHJhbnNpdGlvbklkeF07XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnN0YXRlRnJvbSAhPT0gdGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGcm9tIHN0YXRlICR7dHJhbnNpdGlvbi5zdGF0ZUZyb219IGlzIG5vdCAke3RoaXMuc3RhdGV9YCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsICYmIHRoaXMud29yZC5sZW5ndGggPiAwICYmIHRyYW5zaXRpb24uaW5wdXQgIT0gdGhpcy53b3JkW3RoaXMud29yZC5sZW5ndGggLSAxXSkgfHwgKHRyYW5zaXRpb24uaW5wdXQgIT09IG51bGwgJiYgdGhpcy53b3JkLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW5wdXQgJHt0cmFuc2l0aW9uLmlucHV0fSBkb2VzIG5vdCBtYXRjaCBzeW1ib2wgJHt0aGlzLndvcmRbdGhpcy53b3JkLmxlbmd0aCAtIDFdfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlT3V0ICE9PSBudWxsICYmICF0aGlzLnRyeVJlbW92ZUVsZW1lbnQodHJhbnNpdGlvbi5xdWV1ZU91dCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5hYmxlIHRvIHJlbW92ZSBlbGVtZW50ICR7dHJhbnNpdGlvbi5xdWV1ZU91dH0gZnJvbSBxdWV1ZWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLndvcmQucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRyYW5zaXRpb24uc3RhdGVUbztcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVJbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KHRyYW5zaXRpb24ucXVldWVJbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSB0aGlzLmF1dG9tYXRvbi50cmFuc2l0aW9uQ291bnQgfHwgdHJhbnNpdGlvbklkeCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhbnNpdGlvbiA9IHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25zW3RyYW5zaXRpb25JZHhdO1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5zdGF0ZUZyb20gIT09IHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRyYW5zaXRpb24uaW5wdXQgIT09IG51bGwgJiYgdGhpcy53b3JkLmxlbmd0aCA+IDAgJiYgdHJhbnNpdGlvbi5pbnB1dCAhPSB0aGlzLndvcmRbdGhpcy53b3JkLmxlbmd0aCAtIDFdKSB8fCAodHJhbnNpdGlvbi5pbnB1dCAhPT0gbnVsbCAmJiB0aGlzLndvcmQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKHRyYW5zaXRpb24ucXVldWVPdXQgIT09IG51bGwgJiYgIXRoaXMuY2FuUmVtb3ZlRWxlbWVudCh0cmFuc2l0aW9uLnF1ZXVlT3V0KSk7XG4gICAgfVxuICAgIGNhbkFjY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29yZC5sZW5ndGggPT09IDAgJiYgdGhpcy5hdXRvbWF0b24uYWNjZXB0aW5nU3RhdGVzLmhhcyh0aGlzLnN0YXRlKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQ7XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudDtcbiAgICB9XG59XG4vLyBub2luc3BlY3Rpb24gTm9uQXNjaWlDaGFyYWN0ZXJzXG5jbGFzcyBQUUFSdW4ge1xuICAgIGdlbmVyYXRlVHJhbnNpdGlvbnModHJhbnNpdGlvbnMpIHtcbiAgICAgICAgbGV0IHRyYW5zaXRpb25zSWR4cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB0cmFuc2l0aW9uIG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0LCBzdGF0ZUZyb20sIHN0YXRlVG87XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5pbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmlucHV0TG9va3VwLmdldCh0cmFuc2l0aW9uLmlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke3RyYW5zaXRpb24uaW5wdXR9IG5vdCBmb3VuZCBpbiBpbnB1dCBhbHBoYWJldGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dCA9IHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlSW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZUluID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLnF1ZXVlTG9va3VwLmdldCh0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBzeW1ib2wgJHt0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sfSBub3QgZm91bmQgaW4gaW5wdXQgYWxwaGFiZXRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWVJbiA9IHsgc3ltYm9sOiByZXMsIHByaW9yaXR5OiB0cmFuc2l0aW9uLnF1ZXVlSW4ucHJpb3JpdHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlT3V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcXVldWVPdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMucXVldWVMb29rdXAuZ2V0KHRyYW5zaXRpb24ucXVldWVPdXQuc3ltYm9sKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBzeW1ib2wgJHt0cmFuc2l0aW9uLnF1ZXVlT3V0LnN5bWJvbH0gbm90IGZvdW5kIGluIGlucHV0IGFscGhhYmV0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlT3V0ID0geyBzeW1ib2w6IHJlcywgcHJpb3JpdHk6IHRyYW5zaXRpb24ucXVldWVPdXQucHJpb3JpdHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtYXliZVN0YXRlRnJvbSA9IHRoaXMuc3RhdGVMb29rdXAuZ2V0KHRyYW5zaXRpb24uc3RhdGVGcm9tKTtcbiAgICAgICAgICAgIGlmIChtYXliZVN0YXRlRnJvbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3RyYW5zaXRpb24uc3RhdGVGcm9tfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZUZyb20gPSBtYXliZVN0YXRlRnJvbTtcbiAgICAgICAgICAgIGxldCBtYXliZVN0YXRlVG8gPSB0aGlzLnN0YXRlTG9va3VwLmdldCh0cmFuc2l0aW9uLnN0YXRlVG8pO1xuICAgICAgICAgICAgaWYgKG1heWJlU3RhdGVUbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3RyYW5zaXRpb24uc3RhdGVUb30gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGVUbyA9IG1heWJlU3RhdGVUbztcbiAgICAgICAgICAgIHRyYW5zaXRpb25zSWR4cy5wdXNoKHsgc3RhdGVGcm9tLCBzdGF0ZVRvLCBpbnB1dCwgcXVldWVJbiwgcXVldWVPdXQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25zSWR4cztcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc3RhdGVzLCBpbnB1dFN5bWJvbHMsIHF1ZXVlU3ltYm9scywgaW5pdGlhbFN0YXRlLCBhY2NlcHRpbmdTdGF0ZXMsIHRyYW5zaXRpb25zLCB3b3JkLCBvcmlnaW5EYXRhID0gbnVsbCkge1xuICAgICAgICB0aGlzLm9yaWdpbkRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgdGhpcy5pbnB1dFN5bWJvbHMgPSBpbnB1dFN5bWJvbHM7XG4gICAgICAgIHRoaXMucXVldWVTeW1ib2xzID0gcXVldWVTeW1ib2xzO1xuICAgICAgICB0aGlzLm9yaWdpbkRhdGEgPSBvcmlnaW5EYXRhO1xuICAgICAgICB0aGlzLnN0YXRlTG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUxvb2t1cC5zZXQoc3RhdGVzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0TG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pbnB1dExvb2t1cC5zZXQoaW5wdXRTeW1ib2xzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlTG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlU3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZUxvb2t1cC5zZXQocXVldWVTeW1ib2xzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3RhdGVMb29rdXAuaGFzKGluaXRpYWxTdGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5pdGlhbCBzdGF0ZSAke2luaXRpYWxTdGF0ZX0gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhY2NlcHRpbmdTdGF0ZUlkeCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgc3RhdGUgb2YgYWNjZXB0aW5nU3RhdGVzKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5zdGF0ZUxvb2t1cC5nZXQoc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVJZHguYWRkKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjY2VwdGluZyBzdGF0ZSAke3N0YXRlfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyYW5zaXRpb25zSWR4cyA9IHRoaXMuZ2VuZXJhdGVUcmFuc2l0aW9ucyh0cmFuc2l0aW9ucyk7XG4gICAgICAgIGxldCBhdXRvbWF0b24gPSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50OiBzdGF0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgaW5wdXRBbHBoYWJldENvdW50OiBpbnB1dFN5bWJvbHMubGVuZ3RoLFxuICAgICAgICAgICAgcXVldWVBbHBoYWJldENvdW50OiBxdWV1ZVN5bWJvbHMubGVuZ3RoLFxuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0aGlzLnN0YXRlTG9va3VwLmdldChpbml0aWFsU3RhdGUpLFxuICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVzOiBhY2NlcHRpbmdTdGF0ZUlkeCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25Db3VudDogdHJhbnNpdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zSWR4cyxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHdvcmRJZHggPSBbXTtcbiAgICAgICAgZm9yIChsZXQgc3ltYm9sIG9mIHdvcmQpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmlucHV0TG9va3VwLmdldChzeW1ib2wpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke3N5bWJvbH0gbm90IGZvdW5kIGluIGlucHV0IGFscGhhYmV0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JkSWR4LnB1c2gocmVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1blN0YXRlID0gbmV3IFJ1blN0YXRlKGF1dG9tYXRvbiwgd29yZElkeC5yZXZlcnNlKCkpO1xuICAgIH1cbiAgICAqdHJhbnNpdGlvbnMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydW5TdGF0ZS5hdXRvbWF0b24udHJhbnNpdGlvbkNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uSWR4ID0gdGhpcy5ydW5TdGF0ZS5hdXRvbWF0b24udHJhbnNpdGlvbnNbaV07XG4gICAgICAgICAgICBsZXQgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0O1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHguaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHRoaXMuaW5wdXRTeW1ib2xzW3RyYW5zaXRpb25JZHguaW5wdXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHgucXVldWVJbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHF1ZXVlSW4gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVJbiA9IHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1t0cmFuc2l0aW9uSWR4LnF1ZXVlSW4uc3ltYm9sXSwgcHJpb3JpdHk6IHRyYW5zaXRpb25JZHgucXVldWVJbi5wcmlvcml0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHgucXVldWVPdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZU91dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWV1ZU91dCA9IHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1t0cmFuc2l0aW9uSWR4LnF1ZXVlT3V0LnN5bWJvbF0sIHByaW9yaXR5OiB0cmFuc2l0aW9uSWR4LnF1ZXVlT3V0LnByaW9yaXR5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhdGVGcm9tID0gdGhpcy5zdGF0ZXNbdHJhbnNpdGlvbklkeC5zdGF0ZUZyb21dO1xuICAgICAgICAgICAgbGV0IHN0YXRlVG8gPSB0aGlzLnN0YXRlc1t0cmFuc2l0aW9uSWR4LnN0YXRlVG9dO1xuICAgICAgICAgICAgeWllbGQgeyBpbmRleDogaSwgdmFsdWU6IHsgc3RhdGVGcm9tLCBzdGF0ZVRvLCBpbnB1dCwgcXVldWVJbiwgcXVldWVPdXQgfSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzW3RoaXMucnVuU3RhdGUuc3RhdGVdO1xuICAgIH1cbiAgICBnZXQgd29yZCgpIHtcbiAgICAgICAgbGV0IHdvcmQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLnJ1blN0YXRlLndvcmQpIHtcbiAgICAgICAgICAgIHdvcmQucHVzaCh0aGlzLmlucHV0U3ltYm9sc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdvcmQucmV2ZXJzZSgpO1xuICAgIH1cbiAgICAqcXVldWUoKSB7XG4gICAgICAgIGZvciAobGV0IFtwcmlvcml0eSwgbWFwXSBvZiB0aGlzLnJ1blN0YXRlLnF1ZXVlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBbc3ltYm9sLCBjb3VudF0gb2YgbWFwKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgeyBzeW1ib2w6IHRoaXMucXVldWVTeW1ib2xzW3N5bWJvbF0sIHByaW9yaXR5LCBjb3VudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyeVRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5TdGF0ZS50cnlSdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpO1xuICAgIH1cbiAgICBjYW5SdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuU3RhdGUuY2FuUnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KTtcbiAgICB9XG4gICAgdHJ5VHJhbnNpdGlvblJ1bih0cmFuc2l0aW9ucykge1xuICAgICAgICBmb3IgKGxldCB0cmFuc2l0aW9uSWR4IG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJ5VHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2FuQWNjZXB0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5TdGF0ZS5jYW5BY2NlcHQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5ydW5TdGF0ZS5nZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgc3ltYm9sLCBwcmlvcml0eSB9ID0gcmVzO1xuICAgICAgICByZXR1cm4geyBzeW1ib2w6IHRoaXMucXVldWVTeW1ib2xzW3N5bWJvbF0sIHByaW9yaXR5IH07XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCkge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5ydW5TdGF0ZS5nZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpO1xuICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBzeW1ib2wsIHByaW9yaXR5IH0gPSByZXM7XG4gICAgICAgIHJldHVybiB7IHN5bWJvbDogdGhpcy5xdWV1ZVN5bWJvbHNbc3ltYm9sXSwgcHJpb3JpdHkgfTtcbiAgICB9XG59XG5leHBvcnRzLlBRQVJ1biA9IFBRQVJ1bjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HYW1lVUkgPSB2b2lkIDA7XG5jb25zdCBnYW1lXzEgPSByZXF1aXJlKFwiLi9nYW1lXCIpO1xuY29uc3QgU3RhdGVEaWFncmFtXzEgPSByZXF1aXJlKFwiLi9TdGF0ZURpYWdyYW1cIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBfMjE5MDY5X19hbm5hYmxvb21fX2NsaWNrMV93YXZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hc3NldHMvc291bmRzLzIxOTA2OV9fYW5uYWJsb29tX19jbGljazEud2F2XCIpKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IF81NDQwNV9fa29yZ21zMjAwMGJfX2J1dHRvbl9jbGlja193YXZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hc3NldHMvc291bmRzLzU0NDA1X19rb3JnbXMyMDAwYl9fYnV0dG9uLWNsaWNrLndhdlwiKSk7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBfNjYxMzZfX2FqaV9fZGluZzMwNjAzX3NwZWR1cF93YXZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hc3NldHMvc291bmRzLzY2MTM2X19hamlfX2RpbmczMDYwMy1zcGVkdXAud2F2XCIpKTtcbmNsYXNzIEdhbWVVSSB7XG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idXR0b25DbGlja1NvdW5kID0gbmV3IEF1ZGlvKF8yMTkwNjlfX2FubmFibG9vbV9fY2xpY2sxX3dhdl8xLmRlZmF1bHQpO1xuICAgICAgICB0aGlzLnJlc2V0U291bmQgPSBuZXcgQXVkaW8oXzU0NDA1X19rb3JnbXMyMDAwYl9fYnV0dG9uX2NsaWNrX3dhdl8xLmRlZmF1bHQpO1xuICAgICAgICB0aGlzLmFjY2VwdFNvdW5kID0gbmV3IEF1ZGlvKF82NjEzNl9fYWppX19kaW5nMzA2MDNfc3BlZHVwX3dhdl8xLmRlZmF1bHQpO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZXNcIik7XG4gICAgICAgIHRoaXMucXVldWVUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVldWVcIik7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZUhpdFJlZ2lvblwiKTtcbiAgICAgICAgdGhpcy53b3JkUGFyYWdyYXBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3b3JkXCIpO1xuICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmV2XCIpO1xuICAgICAgICB0aGlzLm5leHRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5leHRcIik7XG4gICAgICAgIHRoaXMubGV2ZWxUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxfbmFtZVwiKTtcbiAgICAgICAgdGhpcy5sZXZlbEdyb3VwTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxzXCIpO1xuICAgICAgICB0aGlzLmxldmVsRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICB0aGlzLndlbGNvbWVCZWdpbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VsY29tZV9iZWdpbl9idXR0b25cIik7XG4gICAgICAgIHRoaXMubGV2ZWxHcm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucXVldWVUYWJsZUZpZWxkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy5zdGF0ZURpYWdyYW0gPSBuZXcgU3RhdGVEaWFncmFtXzEuU3RhdGVEaWFncmFtKCk7XG4gICAgICAgIHRoaXMuc3RhdGVEaWFncmFtLmNsZWFyQ2FudmFzKCk7XG4gICAgICAgIChfYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9zdGFydFwiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNob3dNb2RhbCgpO1xuICAgIH1cbiAgICBzZXRQUUEocHFhKSB7XG4gICAgICAgIGlmIChwcWEub3JpZ2luRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUFFBIGhhcyBubyBvcmlnaW4gZGF0YSwgdW5hYmxlIHRvIGNvbnN0cnVjdCBVSVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHBxYS5vcmlnaW5EYXRhO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnNldFF1ZXVlVGFibGUoZGF0YSk7XG4gICAgICAgIHRoaXMudXBkYXRlUHJpb3JpdHlRdWV1ZShwcWEucXVldWUoKSk7XG4gICAgICAgIHRoaXMudXBkYXRlV29yZChwcWEud29yZCk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlU3RhdGUocHFhLnN0YXRlKTtcbiAgICB9XG4gICAgZ2V0VHJhbnNpdGlvbklkeChldmVudCkge1xuICAgICAgICBsZXQgeCA9IGV2ZW50Lm9mZnNldFg7XG4gICAgICAgIGxldCB5ID0gZXZlbnQub2Zmc2V0WTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBoaXRSZWdpb24gPSBjb250ZXh0LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKS5kYXRhO1xuICAgICAgICByZXR1cm4gaGl0UmVnaW9uWzBdICogMjU2ICogMjU2ICsgaGl0UmVnaW9uWzFdICogMjU2ICsgaGl0UmVnaW9uWzJdO1xuICAgIH1cbiAgICBvblN0YXRlSG92ZXIoZXZlbnQsIGdhbWUpIHtcbiAgICAgICAgbGV0IHggPSBldmVudC5vZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IGV2ZW50Lm9mZnNldFk7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5oaXRSZWdpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgaGl0UmVnaW9uID0gY29udGV4dC5nZXRJbWFnZURhdGEoeCwgeSwgMSwgMSkuZGF0YTtcbiAgICAgICAgaWYgKGhpdFJlZ2lvblswXSA8IDB4NjApIHtcbiAgICAgICAgICAgIGlmIChnYW1lLmNhblJ1blRyYW5zaXRpb24odGhpcy5nZXRUcmFuc2l0aW9uSWR4KGV2ZW50KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNhbnZhcy5zdHlsZS5jdXJzb3IgPSBcIm5vdC1hbGxvd2VkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFF1ZXVlVGFibGUoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5xdWV1ZUhpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZVRhYmxlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVEaWFncmFtLnNldFF1ZXVlSGlkZGVuKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucXVldWVUYWJsZS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXRlRGlhZ3JhbS5zZXRRdWV1ZUhpZGRlbihmYWxzZSk7XG4gICAgICAgIHRoaXMucXVldWVUYWJsZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLnNldFF1ZXVlVGFibGVIZWFkKGRhdGEpO1xuICAgICAgICB0aGlzLnNldFF1ZXVlVGFibGVCb2R5KGRhdGEpO1xuICAgIH1cbiAgICBzZXRRdWV1ZVRhYmxlSGVhZChkYXRhKSB7XG4gICAgICAgIGxldCBoZWFkID0gdGhpcy5xdWV1ZVRhYmxlLmNyZWF0ZVRIZWFkKCk7XG4gICAgICAgIGxldCBjb2x1bW5IZWFkZXJzID0gaGVhZC5pbnNlcnRSb3coKTtcbiAgICAgICAgbGV0IGNlbGwgPSBjb2x1bW5IZWFkZXJzLmluc2VydENlbGwoKTtcbiAgICAgICAgY2VsbC5vdXRlckhUTUwgPSBgPHRoPlByaW9yaXRpZXM8L3RoPmA7XG4gICAgICAgIGZvciAobGV0IHF1ZXVlU3ltYm9sIG9mIGRhdGEucXVldWVBbHBoYWJldCkge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSBjb2x1bW5IZWFkZXJzLmluc2VydENlbGwoKTtcbiAgICAgICAgICAgIGNlbGwub3V0ZXJIVE1MID0gYDx0aD4ke3F1ZXVlU3ltYm9sfTwvdGg+YDtcbiAgICAgICAgICAgIGNlbGwuc2NvcGUgPSBcImNvbFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFF1ZXVlVGFibGVCb2R5KGRhdGEpIHtcbiAgICAgICAgbGV0IGJvZHkgPSB0aGlzLnF1ZXVlVGFibGUuY3JlYXRlVEJvZHkoKTtcbiAgICAgICAgZm9yIChsZXQgcHJpb3JpdHkgb2YgZGF0YS5wcmlvcml0aWVzKSB7XG4gICAgICAgICAgICBsZXQgcm93ID0gYm9keS5pbnNlcnRSb3coKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgaGVhZGVyLm91dGVySFRNTCA9IGA8dGg+JHtwcmlvcml0eX08L3RoPmA7XG4gICAgICAgICAgICBoZWFkZXIuc2NvcGUgPSBcInJvd1wiO1xuICAgICAgICAgICAgZm9yIChsZXQgcXVldWVTeW1ib2wgb2YgZGF0YS5xdWV1ZUFscGhhYmV0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVUYWJsZUZpZWxkcy5zZXQoW3F1ZXVlU3ltYm9sLCBwcmlvcml0eV0udG9TdHJpbmcoKSwgY2VsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlUHJpb3JpdHlRdWV1ZShxdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5xdWV1ZVRhYmxlLmhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHsgc3ltYm9sLCBwcmlvcml0eSwgY291bnQgfSBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZVRhYmxlRmllbGRzLmdldChbc3ltYm9sLCBwcmlvcml0eV0udG9TdHJpbmcoKSkuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVUYWJsZUZpZWxkcy5nZXQoW3N5bWJvbCwgcHJpb3JpdHldLnRvU3RyaW5nKCkpLmlubmVyVGV4dCA9IGNvdW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgc2V0QWN0aXZlU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZURpYWdyYW0udXBkYXRlKHRoaXMuZGF0YSwgc3RhdGUpO1xuICAgIH1cbiAgICB1cGRhdGVXb3JkKHdvcmQpIHtcbiAgICAgICAgdGhpcy53b3JkUGFyYWdyYXBoLmlubmVyVGV4dCA9IHdvcmQuam9pbihcIiBcIik7XG4gICAgfVxuICAgIGNyZWF0ZUluUHJvamVjdGlsZShlKSB7XG4gICAgICAgIGxldCBxdWV1ZUluVHlwZSA9IHRoaXMuZ2FtZS5nZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKHF1ZXVlSW5UeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluUHJvamVjdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluUHJvamVjdGlsZS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdGlsZVwiLCBcInJlZFwiKTtcbiAgICAgICAgbGV0IHRhcmdldEVsZW0gPSB0aGlzLnF1ZXVlVGFibGVGaWVsZHMuZ2V0KFtxdWV1ZUluVHlwZS5zeW1ib2wsIHF1ZXVlSW5UeXBlLnByaW9yaXR5XS50b1N0cmluZygpKTtcbiAgICAgICAgdGFyZ2V0RWxlbS5pbm5lclRleHQgPSAocGFyc2VJbnQodGFyZ2V0RWxlbS5pbm5lclRleHQpIC0gMSkudG9TdHJpbmcoKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRhcmdldEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChpblByb2plY3RpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLngsIGUueSwgdGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICAgICAgaW5Qcm9qZWN0aWxlLmFuaW1hdGUoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2UueH1weCwgJHtlLnl9cHgpYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0YXJnZXQueCArIDAuNSAqIHRhcmdldC53aWR0aH1weCwgJHt0YXJnZXQueSArIDAuNSAqIHRhcmdldC5oZWlnaHR9cHgpYFxuICAgICAgICAgICAgfVxuICAgICAgICBdLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtLmlubmVyVGV4dCA9ICgxICsgcGFyc2VJbnQodGFyZ2V0RWxlbS5pbm5lclRleHQpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgaW5Qcm9qZWN0aWxlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt0YXJnZXQueCArIDAuNSAqIHRhcmdldC53aWR0aH1weCwgJHt0YXJnZXQueSArIDAuNSAqIHRhcmdldC5oZWlnaHR9cHgpYDtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpblByb2plY3RpbGUucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfVxuICAgIGNyZWF0ZU91dFByb2plY3RpbGUoZSkge1xuICAgICAgICBsZXQgcXVldWVPdXRUeXBlID0gdGhpcy5nYW1lLmdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCk7XG4gICAgICAgIGlmIChxdWV1ZU91dFR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0UHJvamVjdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG91dFByb2plY3RpbGUuY2xhc3NMaXN0LmFkZChcInByb2plY3RpbGVcIiwgXCJyZWRcIik7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnF1ZXVlVGFibGVGaWVsZHMuZ2V0KFtxdWV1ZU91dFR5cGUuc3ltYm9sLCBxdWV1ZU91dFR5cGUucHJpb3JpdHldLnRvU3RyaW5nKCkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQob3V0UHJvamVjdGlsZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGUueCwgZS55LCB0YXJnZXQueCwgdGFyZ2V0LnkpO1xuICAgICAgICBvdXRQcm9qZWN0aWxlLmFuaW1hdGUoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RhcmdldC54ICsgMC41ICogdGFyZ2V0LndpZHRofXB4LCAke3RhcmdldC55ICsgMC41ICogdGFyZ2V0LmhlaWdodH1weClgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2UueH1weCwgJHtlLnl9cHgpYFxuICAgICAgICAgICAgfVxuICAgICAgICBdLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRQcm9qZWN0aWxlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtlLnh9cHgsICR7ZS55fXB4KWA7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb3V0UHJvamVjdGlsZS5yZW1vdmUoKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9XG4gICAgb25UcmFuc2l0aW9uQ2xpY2tlZChlKSB7XG4gICAgICAgIHRoaXMuYnV0dG9uQ2xpY2tTb3VuZC5wbGF5KCk7XG4gICAgICAgIHRoaXMuY3JlYXRlSW5Qcm9qZWN0aWxlKGUpO1xuICAgICAgICB0aGlzLmNyZWF0ZU91dFByb2plY3RpbGUoZSk7XG4gICAgfVxuICAgIG9uUmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVzZXRTb3VuZC5wbGF5KCk7XG4gICAgfVxuICAgIG9uQWNjZXB0KCkge1xuICAgICAgICB0aGlzLmFjY2VwdFNvdW5kLnBsYXkoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY2NlcHRlZFwiKS5zaG93TW9kYWwoKTtcbiAgICB9XG4gICAgYWRkTGV2ZWwobGV2ZWxOYW1lLCBncm91cCwgaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxldmVsR3JvdXBzLmhhcyhncm91cCkpIHtcbiAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICAgICAgaGVhZGVyLmlubmVyVGV4dCA9IGdyb3VwO1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgICAgICBsZXQgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvbFwiKTtcbiAgICAgICAgICAgIGdyb3VwRWxlbWVudC5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxHcm91cExpc3QuYXBwZW5kQ2hpbGQoZ3JvdXBFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxHcm91cHMuc2V0KGdyb3VwLCBsaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ3JvdXBFbGVtZW50ID0gdGhpcy5sZXZlbEdyb3Vwcy5nZXQoZ3JvdXApO1xuICAgICAgICBsZXQgbGlzdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gbGV2ZWxOYW1lO1xuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IHsgdmFyIF9hOyAoX2EgPSBnYW1lXzEuR2FtZS5pbnN0YW5jZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uTGV2ZWxTZWxlY3QoaWQpOyB9O1xuICAgICAgICBsaXN0RWxlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBncm91cEVsZW1lbnQuYXBwZW5kQ2hpbGQobGlzdEVsZW0pO1xuICAgIH1cbiAgICBzZXRQcmV2TmV4dChwcmV2LCBuZXh0KSB7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24udmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi52YWx1ZSA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5leHRCdXR0b24udmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5leHRCdXR0b24udmFsdWUgPSBuZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldExldmVsTmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubGV2ZWxUaXRsZS5pbm5lclRleHQgPSBuYW1lO1xuICAgIH1cbiAgICBzZXRMZXZlbERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMubGV2ZWxEZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgc2V0Rmlyc3RMZXZlbChpZCkge1xuICAgICAgICB0aGlzLndlbGNvbWVCZWdpbkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4geyB2YXIgX2E7IChfYSA9IGdhbWVfMS5HYW1lLmluc3RhbmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25MZXZlbFNlbGVjdChpZCk7IH07XG4gICAgfVxufVxuZXhwb3J0cy5HYW1lVUkgPSBHYW1lVUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2FtZSA9IHZvaWQgMDtcbmNvbnN0IGdhbWVVSV8xID0gcmVxdWlyZShcIi4vZ2FtZVVJXCIpO1xuY29uc3QgTGV2ZWxEYXRhXzEgPSByZXF1aXJlKFwiLi9MZXZlbERhdGFcIik7XG5jbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy51aSA9IG5ldyBnYW1lVUlfMS5HYW1lVUkodGhpcyk7XG4gICAgICAgIHRoaXMubGV2ZWxEYXRhID0gbmV3IExldmVsRGF0YV8xLkxldmVsRGF0YSh0aGlzLnVpKTtcbiAgICAgICAgdGhpcy5wcWEgPSBudWxsO1xuICAgICAgICBHYW1lLmluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgbG9hZFBRQShwcWFEYXRhKSB7XG4gICAgICAgIHRoaXMucHFhID0gcHFhRGF0YS5jcmVhdGVQUUEoKTtcbiAgICAgICAgdGhpcy51aS5zZXRQUUEodGhpcy5wcWEpO1xuICAgIH1cbiAgICBvblN0YXRlSG92ZXIoZSkge1xuICAgICAgICB0aGlzLnVpLm9uU3RhdGVIb3ZlcihlLCB0aGlzKTtcbiAgICB9XG4gICAgb25TdGF0ZUNsaWNrZWQoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uSWR4ID0gdGhpcy51aS5nZXRUcmFuc2l0aW9uSWR4KGUpO1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSAweDYwMDAwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyeVJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25UcmFuc2l0aW9uQ2xpY2tlZChlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uU3RhdGVIb3ZlcihlKTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMucHFhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuQWNjZXB0KCkpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25BY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnlSdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgbGV0IHBxYTtcbiAgICAgICAgaWYgKHRoaXMucHFhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnVpLnNob3dFcnJvcihcIk5vIFBRQSBsb2FkZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcWEgPSB0aGlzLnBxYTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gcHFhLnRyeVRyYW5zaXRpb24odHJhbnNpdGlvbklkeCk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnVpLnNob3dFcnJvcihcIlVuYWJsZSB0byBydW4gdHJhbnNpdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVpLnNldEFjdGl2ZVN0YXRlKHBxYS5zdGF0ZSk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlUHJpb3JpdHlRdWV1ZShwcWEucXVldWUoKSk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlV29yZChwcWEud29yZCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICBsZXQgcHFhO1xuICAgICAgICBpZiAodGhpcy5wcWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBxYSA9IHRoaXMucHFhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcWEuY2FuUnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KTtcbiAgICB9XG4gICAgcmVzZXRDdXJyZW50UFFBKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBkYXRhID0gKF9hID0gdGhpcy5wcWEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcmlnaW5EYXRhO1xuICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFBRQShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVpLm9uUmVzZXQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBxYS5nZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBxYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHFhLmdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCk7XG4gICAgfVxuICAgIG9uTGV2ZWxTZWxlY3QodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmxldmVsRGF0YS5nZXRMZXZlbERhdGEodmFsdWUpO1xuICAgICAgICBsZXQgcHJldiA9IHRoaXMubGV2ZWxEYXRhLmdldFByZXZpb3VzKHZhbHVlKTtcbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLmxldmVsRGF0YS5nZXROZXh0KHZhbHVlKTtcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmxldmVsRGF0YS5nZXROYW1lKHZhbHVlKTtcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gdGhpcy5sZXZlbERhdGEuZ2V0TGV2ZWxEZXNjcmlwdGlvbih2YWx1ZSk7XG4gICAgICAgIHRoaXMudWkuc2V0UHJldk5leHQocHJldiwgbmV4dCk7XG4gICAgICAgIHRoaXMudWkuc2V0TGV2ZWxOYW1lKG5hbWUpO1xuICAgICAgICB0aGlzLnVpLnNldExldmVsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgICB0aGlzLmxvYWRQUUEoZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5HYW1lID0gR2FtZTtcbkdhbWUuaW5zdGFuY2UgPSBudWxsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBRQURhdGEgPSB2b2lkIDA7XG5jb25zdCBQUUFfMSA9IHJlcXVpcmUoXCIuL1BRQVwiKTtcbmNsYXNzIFBRQURhdGEge1xuICAgIC8qXG5cbiAgICB7XG4gICAgICAgIHN0YXRlczoge25hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzQWNjZXB0aW5nOiBib29sZWFufVtdLFxuICAgICAgICBpbnB1dEFscGhhYmV0OiBzdHJpbmdbXSxcbiAgICAgICAgcXVldWVBbHBoYWJldDogc3RyaW5nW10sXG4gICAgICAgIHRyYW5zaXRpb25zOlxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZUZyb206IHN0cmluZyxcbiAgICAgICAgICAgIHN0YXRlVG86IHN0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiBzdHJpbmcgfCBudWxsLFxuICAgICAgICAgICAgcXVldWVJbjogeyBzeW1ib2w6IHN0cmluZywgcHJpb3JpdHk6IG51bWJlciB9IHwgbnVsbCxcbiAgICAgICAgICAgIHF1ZXVlT3V0OiB7IHN5bWJvbDogc3RyaW5nLCBwcmlvcml0eTogbnVtYmVyIH0gfCBudWxsLFxuICAgICAgICB9LFxuICAgICAgICBwcmlvcml0aWVzOiBudW1iZXJbXSxcbiAgICAgICAgaW5pdGlhbFN0YXRlOiBzdHJpbmcsXG4gICAgICAgIHdvcmQ6IHN0cmluZ1tdXG5cbiAgICB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IHN0YXRlIG9mIHZhbHVlLnN0YXRlcykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZXMuc2V0KHN0YXRlLm5hbWUsIHsgcG9zaXRpb246IHsgeDogc3RhdGUucG9zaXRpb24ueCwgeTogc3RhdGUucG9zaXRpb24ueSB9LCBpc0FjY2VwdGluZzogc3RhdGUuaXNBY2NlcHRpbmcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dEFscGhhYmV0ID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBzeW1ib2wgb2YgdmFsdWUuaW5wdXRBbHBoYWJldCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEFscGhhYmV0LmFkZChzeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucXVldWVBbHBoYWJldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgc3ltYm9sIG9mIHZhbHVlLnF1ZXVlQWxwaGFiZXQpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVBbHBoYWJldC5hZGQoc3ltYm9sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IHRyYW5zaXRpb24gb2YgdmFsdWUudHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZUZyb20gPSB0cmFuc2l0aW9uLnN0YXRlRnJvbTtcbiAgICAgICAgICAgIGxldCBzdGF0ZVRvID0gdHJhbnNpdGlvbi5zdGF0ZVRvO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXMoc3RhdGVGcm9tKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgJHtzdGF0ZUZyb219IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZXMuaGFzKHN0YXRlVG8pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3N0YXRlVG99IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHRyYW5zaXRpb24uaW5wdXQ7XG4gICAgICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwgJiYgIXRoaXMuaW5wdXRBbHBoYWJldC5oYXMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCBTeW1ib2wgJHtpbnB1dH0gaXMgbm90IHZhbGlkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcXVldWVJbiA9IHRyYW5zaXRpb24ucXVldWVJbjtcbiAgICAgICAgICAgIGxldCBxdWV1ZU91dCA9IHRyYW5zaXRpb24ucXVldWVPdXQ7XG4gICAgICAgICAgICBpZiAocXVldWVJbiAhPT0gbnVsbCAmJiAhdGhpcy5xdWV1ZUFscGhhYmV0LmhhcyhxdWV1ZUluLnN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXVlIFN5bWJvbCAke3F1ZXVlSW4uc3ltYm9sfSBpcyBub3QgdmFsaWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZU91dCAhPT0gbnVsbCAmJiAhdGhpcy5xdWV1ZUFscGhhYmV0LmhhcyhxdWV1ZU91dC5zeW1ib2wpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBTeW1ib2wgJHtxdWV1ZU91dC5zeW1ib2x9IGlzIG5vdCB2YWxpZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgeCwgeSB9IG9mIHRyYW5zaXRpb24ucGF0aCkge1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCh7IHgsIHkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGFiZWxQb3NpdGlvbiA9IHsgeDogdHJhbnNpdGlvbi5sYWJlbFBvc2l0aW9uLngsIHk6IHRyYW5zaXRpb24ubGFiZWxQb3NpdGlvbi55IH07XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zLnB1c2goeyB0cmFuc2l0aW9uOiB7IHN0YXRlRnJvbSwgc3RhdGVUbywgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0IH0sIHBhdGgsIGxhYmVsUG9zaXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXModmFsdWUuaW5pdGlhbFN0YXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbml0aWFsIHN0YXRlICR7dmFsdWUuaW5pdGlhbFN0YXRlfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSB2YWx1ZS5pbml0aWFsU3RhdGU7XG4gICAgICAgIHRoaXMud29yZCA9IHZhbHVlLndvcmQ7XG4gICAgICAgIHRoaXMucHJpb3JpdGllcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcmlvcml0eSBvZiB2YWx1ZS5wcmlvcml0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXRpZXMucHVzaChwcmlvcml0eSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IChfYSA9IHZhbHVlLmhpZGVRdWV1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZVBRQSgpIHtcbiAgICAgICAgbGV0IHN0YXRlcyA9IFtdO1xuICAgICAgICBsZXQgYWNjZXB0aW5nU3RhdGVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBbbmFtZSwgeyBpc0FjY2VwdGluZyB9XSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgICAgICAgaWYgKGlzQWNjZXB0aW5nKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVzLmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnB1dEFscGhhYmV0ID0gQXJyYXkuZnJvbSh0aGlzLmlucHV0QWxwaGFiZXQpO1xuICAgICAgICBsZXQgcXVldWVBbHBoYWJldCA9IEFycmF5LmZyb20odGhpcy5xdWV1ZUFscGhhYmV0KTtcbiAgICAgICAgbGV0IGluaXRpYWxTdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeyB0cmFuc2l0aW9uIH0gb2YgdGhpcy50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgdHJhbnNpdGlvbnMucHVzaCh0cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBRQV8xLlBRQVJ1bihzdGF0ZXMsIGlucHV0QWxwaGFiZXQsIHF1ZXVlQWxwaGFiZXQsIGluaXRpYWxTdGF0ZSwgYWNjZXB0aW5nU3RhdGVzLCB0cmFuc2l0aW9ucywgdGhpcy53b3JkLCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlBRQURhdGEgPSBQUUFEYXRhO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGV2ZWxEYXRhID0gdm9pZCAwO1xuY29uc3QgUFFBRGF0YV8xID0gcmVxdWlyZShcIi4vUFFBRGF0YVwiKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGxldmVsc19qc29uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL2xldmVscy5qc29uXCIpKTtcbmNsYXNzIExldmVsRGF0YSB7XG4gICAgY29uc3RydWN0b3IodWkpIHtcbiAgICAgICAgdGhpcy5maXJzdExldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnVpID0gdWk7XG4gICAgICAgIHRoaXMubG9hZExldmVscygpLnRoZW4oKCkgPT4geyB9KTtcbiAgICB9XG4gICAgbG9hZExldmVscygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgbGV0IHsgZ3JvdXBzLCBsZXZlbHMgfSA9IHlpZWxkIHdpbmRvdy5mZXRjaChsZXZlbHNfanNvbl8xLmRlZmF1bHQpLnRoZW4ociA9PiByLnRleHQoKSkudGhlbihyID0+IEpTT04ucGFyc2UocikpO1xuICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWwgb2YgbGV2ZWxzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZERhdGEgPSBsZXZlbDtcbiAgICAgICAgICAgICAgICBsZXQgcHFhRGF0YSA9IG5ldyBQUUFEYXRhXzEuUFFBRGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHBhcnNlZERhdGEubWV0YWRhdGEubmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGxldCBncm91cCA9IHBhcnNlZERhdGEubWV0YWRhdGEuZ3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBwYXJzZWREYXRhLm1ldGFkYXRhLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gKF9hID0gcGFyc2VkRGF0YS5tZXRhZGF0YS5kZXNjcmlwdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXBzLmhhcyhncm91cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cHMuc2V0KGdyb3VwLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHBhcnNlZERhdGEubWV0YWRhdGEuZ3JvdXBJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwcy5nZXQoZ3JvdXApW2luZGV4XSA9IGlkO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLnNldChpZCwgeyBkYXRhOiBwcWFEYXRhLCBncm91cCwgbmFtZSwgcHJldjogbnVsbCwgbmV4dDogbnVsbCwgZGVzY3JpcHRpb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBbZ3JvdXBOYW1lLCBpZHNdIG9mIHRoaXMuZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzZWRJZHMgPSBpZHMuZmlsdGVyKGlkID0+IGlkICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzLnNldChncm91cE5hbWUsIGNvbXByZXNzZWRJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdExldmVsID0gKF9jID0gKF9iID0gdGhpcy5ncm91cHMuZ2V0KGdyb3Vwc1swXSkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYlswXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0TGV2ZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnNldEZpcnN0TGV2ZWwodGhpcy5maXJzdExldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2SWQgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGN1cnJJZCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cE5hbWUgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5ncm91cHMuZ2V0KGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycklkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5uZXh0ID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5wcmV2ID0gcHJldklkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByZXZJZCA9IGN1cnJJZDtcbiAgICAgICAgICAgICAgICAgICAgY3VycklkID0gaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChjdXJySWQpLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChjdXJySWQpLnByZXYgPSBwcmV2SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cE5hbWUgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5ncm91cHMuZ2V0KGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgeyBncm91cCwgbmFtZSB9ID0gdGhpcy5sZXZlbHMuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5hZGRMZXZlbChuYW1lLCBncm91cCwgaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldExldmVsRGF0YShpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5kYXRhO1xuICAgIH1cbiAgICBnZXRQcmV2aW91cyhpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5wcmV2O1xuICAgIH1cbiAgICBnZXROZXh0KGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxldmVscy5nZXQoaWQpLm5leHQ7XG4gICAgfVxuICAgIGdldE5hbWUoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxzLmdldChpZCkubmFtZTtcbiAgICB9XG4gICAgZ2V0TGV2ZWxEZXNjcmlwdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnRzLkxldmVsRGF0YSA9IExldmVsRGF0YTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2FtZV8xID0gcmVxdWlyZShcIi4vZ2FtZVwiKTtcbnJlcXVpcmUoXCIuL2Fzc2V0cy9zdHlsZS5jc3NcIik7XG5mdW5jdGlvbiBtYWluKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IGdhbWUgPSBuZXcgZ2FtZV8xLkdhbWUoKTtcbiAgICAoX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGdhbWVfMS5HYW1lLmluc3RhbmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25TdGF0ZUNsaWNrZWQoZSk7XG4gICAgfSk7XG4gICAgKF9iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZXNcIikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gZ2FtZV8xLkdhbWUuaW5zdGFuY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblN0YXRlSG92ZXIoZSk7XG4gICAgfSk7XG59XG5tYWluKCk7XG4vLyBFeHBvc2UgdGhlIEdhbWUgY2xhc3MgZm9yIHVzZSBpbiBIVE1MXG4vLyBAdHMtaWdub3JlXG53aW5kb3dbXCJHYW1lXCJdID0gZ2FtZV8xLkdhbWU7XG4iXSwibmFtZXMiOlsidG9IZXhDb2RlIiwibiIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlN0YXRlRGlhZ3JhbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsInF1ZXVlSGlkZGVuIiwic2NhbGUiLCJsYXN0VXBkYXRlSW5mbyIsInN0YXRlQ2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImhpdFJlZ2lvbkNhbnZhcyIsInVwZGF0ZVNjYWxlIiwid2luZG93Iiwib25yZXNpemUiLCJ1cGRhdGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwicHFhRGF0YSIsImFjdGl2ZVN0YXRlIiwiZGF0YSIsImNsZWFyQ2FudmFzIiwiZHJhd1RyYW5zaXRpb25zIiwiZHJhd1N0YXRlcyIsInhUcmFuc2Zvcm0iLCJ4IiwieVRyYW5zZm9ybSIsInkiLCJzZXRRdWV1ZUhpZGRlbiIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGl0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzX2Fycm93IiwiZnJvbXgiLCJmcm9teSIsInRveCIsInRveSIsImhlYWRsZW4iLCJkeCIsImR5IiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjb3MiLCJQSSIsInNpbiIsInN0cm9rZSIsImNsb3NlUGF0aCIsImRpc3BsYXlUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsInJlc3VsdCIsImlucHV0IiwicXVldWVPdXQiLCJzeW1ib2wiLCJwcmlvcml0eSIsInF1ZXVlSW4iLCJ0cmFuc2l0aW9uSW5kZXgiLCJzdHJva2VTdHlsZSIsInBhdGgiLCJsYWJlbFBvc2l0aW9uIiwidHJhbnNpdGlvbnMiLCJsaW5lV2lkdGgiLCJsZW5ndGgiLCJmb250Iiwicm91bmQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInN0YXRlIiwicG9zaXRpb24iLCJpc0FjY2VwdGluZyIsInN0YXRlcyIsImFyYyIsImZpbGwiLCJQUUFSdW4iLCJSdW5TdGF0ZSIsImF1dG9tYXRvbiIsIndvcmQiLCJtb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQiLCJtb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCIsIm1heFByaW9yaXR5IiwicXVldWUiLCJNYXAiLCJpbml0aWFsU3RhdGUiLCJ1cGRhdGVNYXhQcmlvcml0eSIsIm1heCIsImtleXMiLCJ0cnlSZW1vdmVFbGVtZW50IiwiZWxlbSIsIm1hcCIsImdldCIsInVuZGVmaW5lZCIsImNvdW50Iiwic2V0IiwiY2FuUmVtb3ZlRWxlbWVudCIsImFkZEVsZW1lbnQiLCJ0cnlSdW5UcmFuc2l0aW9uIiwidHJhbnNpdGlvbklkeCIsInRyYW5zaXRpb25Db3VudCIsInN0YXRlRnJvbSIsImNvbnNvbGUiLCJ3YXJuIiwicG9wIiwic3RhdGVUbyIsImNhblJ1blRyYW5zaXRpb24iLCJjYW5BY2NlcHQiLCJhY2NlcHRpbmdTdGF0ZXMiLCJoYXMiLCJnZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQiLCJnZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCIsImdlbmVyYXRlVHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uc0lkeHMiLCJyZXMiLCJpbnB1dExvb2t1cCIsIkVycm9yIiwicXVldWVMb29rdXAiLCJtYXliZVN0YXRlRnJvbSIsInN0YXRlTG9va3VwIiwibWF5YmVTdGF0ZVRvIiwicHVzaCIsImlucHV0U3ltYm9scyIsInF1ZXVlU3ltYm9scyIsIm9yaWdpbkRhdGEiLCJpIiwiYWNjZXB0aW5nU3RhdGVJZHgiLCJTZXQiLCJhZGQiLCJzdGF0ZUNvdW50IiwiaW5wdXRBbHBoYWJldENvdW50IiwicXVldWVBbHBoYWJldENvdW50Iiwid29yZElkeCIsInJ1blN0YXRlIiwicmV2ZXJzZSIsImluZGV4IiwidHJ5VHJhbnNpdGlvbiIsInRyeVRyYW5zaXRpb25SdW4iLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiR2FtZVVJIiwiZ2FtZV8xIiwiU3RhdGVEaWFncmFtXzEiLCJfMjE5MDY5X19hbm5hYmxvb21fX2NsaWNrMV93YXZfMSIsIl81NDQwNV9fa29yZ21zMjAwMGJfX2J1dHRvbl9jbGlja193YXZfMSIsIl82NjEzNl9fYWppX19kaW5nMzA2MDNfc3BlZHVwX3dhdl8xIiwiZ2FtZSIsIl9hIiwiYnV0dG9uQ2xpY2tTb3VuZCIsIkF1ZGlvIiwiZGVmYXVsdCIsInJlc2V0U291bmQiLCJhY2NlcHRTb3VuZCIsInF1ZXVlVGFibGUiLCJ3b3JkUGFyYWdyYXBoIiwicHJldmlvdXNCdXR0b24iLCJuZXh0QnV0dG9uIiwibGV2ZWxUaXRsZSIsImxldmVsR3JvdXBMaXN0IiwibGV2ZWxEZXNjcmlwdGlvbiIsIndlbGNvbWVCZWdpbkJ1dHRvbiIsImxldmVsR3JvdXBzIiwicXVldWVUYWJsZUZpZWxkcyIsInN0YXRlRGlhZ3JhbSIsInNob3dNb2RhbCIsInNldFBRQSIsInBxYSIsInNldFF1ZXVlVGFibGUiLCJ1cGRhdGVQcmlvcml0eVF1ZXVlIiwidXBkYXRlV29yZCIsInNldEFjdGl2ZVN0YXRlIiwiZ2V0VHJhbnNpdGlvbklkeCIsImV2ZW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJoaXRSZWdpb24iLCJnZXRJbWFnZURhdGEiLCJvblN0YXRlSG92ZXIiLCJjdXJzb3IiLCJoaWRkZW4iLCJpbm5lckhUTUwiLCJzZXRRdWV1ZVRhYmxlSGVhZCIsInNldFF1ZXVlVGFibGVCb2R5IiwiY29sdW1uSGVhZGVycyIsImNyZWF0ZVRIZWFkIiwiaW5zZXJ0Um93IiwiaW5zZXJ0Q2VsbCIsIm91dGVySFRNTCIsInF1ZXVlU3ltYm9sIiwicXVldWVBbHBoYWJldCIsImNlbGwiLCJzY29wZSIsImJvZHkiLCJjcmVhdGVUQm9keSIsInByaW9yaXRpZXMiLCJyb3ciLCJoZWFkZXIiLCJpbm5lclRleHQiLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiZXJyb3IiLCJqb2luIiwiY3JlYXRlSW5Qcm9qZWN0aWxlIiwiZSIsInF1ZXVlSW5UeXBlIiwiaW5Qcm9qZWN0aWxlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsInRhcmdldEVsZW0iLCJwYXJzZUludCIsInRhcmdldCIsInByZXBlbmQiLCJsb2ciLCJhbmltYXRlIiwidHJhbnNmb3JtIiwiZHVyYXRpb24iLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY3JlYXRlT3V0UHJvamVjdGlsZSIsInF1ZXVlT3V0VHlwZSIsIm91dFByb2plY3RpbGUiLCJvblRyYW5zaXRpb25DbGlja2VkIiwicGxheSIsIm9uUmVzZXQiLCJvbkFjY2VwdCIsImFkZExldmVsIiwibGV2ZWxOYW1lIiwiZ3JvdXAiLCJpZCIsImdyb3VwRWxlbWVudCIsImFwcGVuZENoaWxkIiwibGlzdCIsImxpc3RFbGVtIiwiYnV0dG9uIiwib25jbGljayIsIkdhbWUiLCJpbnN0YW5jZSIsIm9uTGV2ZWxTZWxlY3QiLCJzZXRQcmV2TmV4dCIsInByZXYiLCJuZXh0IiwiZGlzYWJsZWQiLCJzZXRMZXZlbE5hbWUiLCJuYW1lIiwic2V0TGV2ZWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic2V0Rmlyc3RMZXZlbCIsImdhbWVVSV8xIiwiTGV2ZWxEYXRhXzEiLCJ1aSIsImxldmVsRGF0YSIsIkxldmVsRGF0YSIsImxvYWRQUUEiLCJjcmVhdGVQUUEiLCJvblN0YXRlQ2xpY2tlZCIsInJlc2V0Q3VycmVudFBRQSIsImdldExldmVsRGF0YSIsImdldFByZXZpb3VzIiwiZ2V0TmV4dCIsImdldE5hbWUiLCJnZXRMZXZlbERlc2NyaXB0aW9uIiwiUFFBRGF0YSIsIlBRQV8xIiwiSlNPTiIsInBhcnNlIiwiaW5wdXRBbHBoYWJldCIsImhpZGVRdWV1ZSIsIkFycmF5IiwiZnJvbSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIlBRQURhdGFfMSIsImxldmVsc19qc29uXzEiLCJmaXJzdExldmVsIiwiZ3JvdXBzIiwibGV2ZWxzIiwibG9hZExldmVscyIsIl9iIiwiX2MiLCJmZXRjaCIsInIiLCJ0ZXh0IiwibGV2ZWwiLCJwYXJzZWREYXRhIiwibWV0YWRhdGEiLCJncm91cEluZGV4IiwiZ3JvdXBOYW1lIiwiaWRzIiwiY29tcHJlc3NlZElkcyIsImZpbHRlciIsInByZXZJZCIsImN1cnJJZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRlc3QiLCJyZXBsYWNlIiwicCIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9