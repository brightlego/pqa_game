(()=>{"use strict";var t={36:(t,e)=>{function i(t){return`#${t.toString(16).padStart(6,"0")}`}Object.defineProperty(e,"__esModule",{value:!0}),e.StateDiagram=void 0,e.StateDiagram=class{constructor(){this.queueHidden=!1,this.scale=1,this.lastUpdateInfo=null,this.stateCanvas=document.getElementById("states"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.updateScale(),window.onresize=()=>{this.update(null,null)}}updateScale(){this.scale=(this.stateCanvas.getBoundingClientRect().width-4)/700,this.stateCanvas.width=700*this.scale,this.stateCanvas.height=500*this.scale,this.stateCanvas.style.height=500/700*(this.stateCanvas.getBoundingClientRect().width-4)+"px",this.hitRegionCanvas.height=500*this.scale,this.hitRegionCanvas.width=700*this.scale}update(t,e){if(this.updateScale(),null===t||null===e){if(null===this.lastUpdateInfo)return;t=this.lastUpdateInfo.data,e=this.lastUpdateInfo.activeState}this.clearCanvas(),this.drawTransitions(t),this.drawStates(e,t),this.lastUpdateInfo={data:t,activeState:e}}xTransform(t){return t*this.scale}yTransform(t){return t*this.scale}setQueueHidden(t){this.queueHidden=t}clearCanvas(){let t=this.stateCanvas.getContext("2d"),e=this.hitRegionCanvas.getContext("2d");t.clearRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.clearRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height),t.fillStyle="white",e.fillStyle="white",t.fillRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.fillRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height)}canvas_arrow(t,e,i,s,n){e=this.xTransform(e),i=this.yTransform(i),s=this.xTransform(s),n=this.yTransform(n);let o=10*this.scale,a=s-e,l=n-i,r=Math.atan2(l,a);t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.lineTo(s-o*Math.cos(r-Math.PI/6),n-o*Math.sin(r-Math.PI/6)),t.moveTo(s,n),t.lineTo(s-o*Math.cos(r+Math.PI/6),n-o*Math.sin(r+Math.PI/6)),t.stroke(),t.closePath()}displayTransition(t){let e="";return null===t.input?e+="ε":e+=t.input,this.queueHidden||(e+=" : ",null===t.queueOut?e+="∅":e+=`(${t.queueOut.symbol}, ${t.queueOut.priority})`,e+=" ↦ ",null===t.queueIn?e+="∅":e+=`(${t.queueIn.symbol}, ${t.queueIn.priority})`),e}drawTransitions(t){let e=this.stateCanvas.getContext("2d"),s=this.hitRegionCanvas.getContext("2d"),n=0;e.strokeStyle="black";for(let{transition:o,path:a,labelPosition:l}of t.transitions){e.lineWidth=6*this.scale,e.beginPath();for(let{x:t,y:i}of a)e.lineTo(this.xTransform(t),this.yTransform(i));e.stroke(),e.closePath(),this.canvas_arrow(e,a[a.length-2].x,a[a.length-2].y,a[a.length-1].x,a[a.length-1].y),e.fillStyle="black",e.font=`${Math.round(16*this.scale)}px Arial`,e.textAlign="left",e.textBaseline="middle",e.fillText(this.displayTransition(o),this.xTransform(l.x),this.yTransform(l.y)),s.lineWidth=25*this.scale,s.strokeStyle=i(n),s.beginPath();for(let{x:t,y:e}of a)s.lineTo(this.xTransform(t),this.yTransform(e));s.stroke(),s.closePath(),n+=1}}drawStates(t,e){let i=this.stateCanvas.getContext("2d");for(let[s,{position:n,isAccepting:o}]of e.states)s===t?(i.fillStyle="yellow",i.strokeStyle="red"):(i.fillStyle="white",i.strokeStyle="black"),i.lineWidth=2*this.scale,i.beginPath(),i.arc(this.xTransform(n.x),this.yTransform(n.y),30*this.scale,0,2*Math.PI),i.fill(),i.stroke(),i.closePath(),i.beginPath(),o&&(i.arc(this.xTransform(n.x),this.yTransform(n.y),25*this.scale,0,2*Math.PI),i.stroke()),i.closePath(),i.fillStyle="black",i.font=`${Math.round(16*this.scale)}px Arial`,i.textAlign="center",i.textBaseline="middle",i.fillText(s,this.xTransform(n.x),this.yTransform(n.y))}}},142:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQARun=void 0;class i{constructor(t,e){this.mostRecentlyAddedElement=null,this.mostRecentlyRemovedElement=null,this.maxPriority=-1/0,this.queue=new Map,this.state=t.initialState,this.automaton=t,this.word=e}updateMaxPriority(){this.maxPriority=Math.max(...this.queue.keys())}tryRemoveElement(t){if(t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return void 0!==i&&0!==i&&(e.set(t.symbol,i-1),1===i&&this.updateMaxPriority(),this.mostRecentlyRemovedElement=t,!0)}canRemoveElement(t){if(t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return!(void 0===i||0===i)}addElement(t){let e=this.queue.get(t.priority);void 0===e&&(e=new Map,this.queue.set(t.priority,e));let i=e.get(t.symbol);void 0===i&&(i=0),t.priority>this.maxPriority&&(this.maxPriority=t.priority),e.set(t.symbol,i+1),this.mostRecentlyAddedElement=t}tryRunTransition(t){if(this.mostRecentlyRemovedElement=null,this.mostRecentlyAddedElement=null,t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return e.stateFrom!==this.state?(console.warn(`From state ${e.stateFrom} is not ${this.state}`),!1):null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length?(console.warn(`Input ${e.input} does not match symbol ${this.word[this.word.length-1]}`),!1):null===e.queueOut||this.tryRemoveElement(e.queueOut)?(null!==e.input&&this.word.pop(),this.state=e.stateTo,null!==e.queueIn&&this.addElement(e.queueIn),!0):(console.warn(`Unable to remove element ${e.queueOut} from queue`),!1)}canRunTransition(t){if(t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return!(e.stateFrom!==this.state||null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length||null!==e.queueOut&&!this.canRemoveElement(e.queueOut))}canAccept(){return 0===this.word.length&&this.automaton.acceptingStates.has(this.state)}getMostRecentlyAddedElement(){return this.mostRecentlyAddedElement}getMostRecentlyRemovedElement(){return this.mostRecentlyRemovedElement}}e.PQARun=class{generateTransitions(t){let e=[];for(let i of t){let t,s,n,o,a;if(null===i.input)t=null;else{let e=this.inputLookup.get(i.input);if(void 0===e)throw new Error(`Input ${i.input} not found in input alphabet`);t=e}if(null===i.queueIn)s=null;else{let t=this.queueLookup.get(i.queueIn.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueIn.symbol} not found in input alphabet`);s={symbol:t,priority:i.queueIn.priority}}if(null===i.queueOut)n=null;else{let t=this.queueLookup.get(i.queueOut.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueOut.symbol} not found in input alphabet`);n={symbol:t,priority:i.queueOut.priority}}let l=this.stateLookup.get(i.stateFrom);if(void 0===l)throw new Error(`State ${i.stateFrom} not found in states`);o=l;let r=this.stateLookup.get(i.stateTo);if(void 0===r)throw new Error(`State ${i.stateTo} not found in states`);a=r,e.push({stateFrom:o,stateTo:a,input:t,queueIn:s,queueOut:n})}return e}constructor(t,e,s,n,o,a,l,r=null){this.originData=null,this.states=t,this.inputSymbols=e,this.queueSymbols=s,this.originData=r,this.stateLookup=new Map;for(let e=0;e<t.length;e++)this.stateLookup.set(t[e],e);this.inputLookup=new Map;for(let t=0;t<e.length;t++)this.inputLookup.set(e[t],t);this.queueLookup=new Map;for(let t=0;t<s.length;t++)this.queueLookup.set(s[t],t);if(!this.stateLookup.has(n))throw new Error(`Initial state ${n} not found in states`);let u=new Set;for(let t of o){let e=this.stateLookup.get(t);if(void 0===e)throw new Error(`Accepting state ${t} not found in states`);u.add(e)}let h=this.generateTransitions(a),d={stateCount:t.length,inputAlphabetCount:e.length,queueAlphabetCount:s.length,initialState:this.stateLookup.get(n),acceptingStates:u,transitionCount:a.length,transitions:h},p=[];for(let t of l){let e=this.inputLookup.get(t);if(void 0===e)throw new Error(`Input ${t} not found in input alphabet`);p.push(e)}this.runState=new i(d,p.reverse())}*transitions(){for(let t=0;t<this.runState.automaton.transitionCount;t++){let e,i,s,n=this.runState.automaton.transitions[t];e=null===n.input?null:this.inputSymbols[n.input],i=null===n.queueIn?null:{symbol:this.queueSymbols[n.queueIn.symbol],priority:n.queueIn.priority},s=null===n.queueOut?null:{symbol:this.queueSymbols[n.queueOut.symbol],priority:n.queueOut.priority};let o=this.states[n.stateFrom],a=this.states[n.stateTo];yield{index:t,value:{stateFrom:o,stateTo:a,input:e,queueIn:i,queueOut:s}}}}get state(){return this.states[this.runState.state]}get word(){let t=[];for(let e of this.runState.word)t.push(this.inputSymbols[e]);return t.reverse()}*queue(){for(let[t,e]of this.runState.queue)for(let[i,s]of e)yield{symbol:this.queueSymbols[i],priority:t,count:s}}tryTransition(t){return this.runState.tryRunTransition(t)}canRunTransition(t){return this.runState.canRunTransition(t)}tryTransitionRun(t){for(let e of t)if(!this.tryTransition(e))return!1;return!0}canAccept(){return this.runState.canAccept()}getMostRecentlyAddedElement(){let t=this.runState.getMostRecentlyAddedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}getMostRecentlyRemovedElement(){let t=this.runState.getMostRecentlyRemovedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}}},186:(t,e,i)=>{t.exports=i.p+"assets/442198056ecd5d762369-levels.json"},442:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameUI=void 0;const n=i(468),o=i(36),a=s(i(944)),l=s(i(635)),r=s(i(851));e.GameUI=class{constructor(t){var e;this.data=null,this.queueHidden=!1,this.buttonClickSound=new Audio(a.default),this.resetSound=new Audio(l.default),this.acceptSound=new Audio(r.default),this.stateCanvas=document.getElementById("states"),this.queueTable=document.getElementById("queue"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.wordParagraph=document.getElementById("word"),this.previousButton=document.getElementById("prev"),this.nextButton=document.getElementById("next"),this.levelTitle=document.getElementById("level_name"),this.levelGroupList=document.getElementById("levels"),this.levelDescription=document.getElementById("level_description"),this.welcomeBeginButton=document.getElementById("welcome_begin_button"),this.levelGroups=new Map,this.queueTableFields=new Map,this.game=t,this.stateDiagram=new o.StateDiagram,this.stateDiagram.clearCanvas(),null===(e=document.getElementById("game_start"))||void 0===e||e.showModal()}setPQA(t){if(null===t.originData)throw new Error("PQA has no origin data, unable to construct UI");let e=t.originData;this.data=e,this.setQueueTable(e),this.updatePriorityQueue(t.queue()),this.updateWord(t.word),this.setActiveState(t.state)}getTransitionIdx(t){let e=t.offsetX,i=t.offsetY,s=this.hitRegionCanvas.getContext("2d").getImageData(e,i,1,1).data;return 256*s[0]*256+256*s[1]+s[2]}onStateHover(t,e){let i=t.offsetX,s=t.offsetY;this.hitRegionCanvas.getContext("2d").getImageData(i,s,1,1).data[0]<96?e.canRunTransition(this.getTransitionIdx(t))?this.stateCanvas.style.cursor="pointer":this.stateCanvas.style.cursor="not-allowed":this.stateCanvas.style.cursor="default"}setQueueTable(t){if(t.queueHidden)return this.queueTable.hidden=!0,this.queueHidden=!0,void this.stateDiagram.setQueueHidden(!0);this.queueTable.hidden=!1,this.queueHidden=!1,this.stateDiagram.setQueueHidden(!1),this.queueTable.innerHTML="",this.setQueueTableHead(t),this.setQueueTableBody(t)}setQueueTableHead(t){let e=this.queueTable.createTHead().insertRow();e.insertCell().outerHTML="<th>Priorities</th>";for(let i of t.queueAlphabet){let t=e.insertCell();t.outerHTML=`<th>${i}</th>`,t.scope="col"}}setQueueTableBody(t){let e=this.queueTable.createTBody();for(let i of t.priorities){let s=e.insertRow(),n=s.insertCell();n.outerHTML=`<th>${i}</th>`,n.scope="row";for(let e of t.queueAlphabet){let t=s.insertCell();this.queueTableFields.set([e,i].toString(),t)}}}updatePriorityQueue(t){if(!this.queueTable.hidden)for(let{symbol:e,priority:i,count:s}of t)this.queueTableFields.get([e,i].toString()).innerText=0===s?"":s.toString()}showError(t){console.error(t)}setActiveState(t){this.stateDiagram.update(this.data,t)}updateWord(t){this.wordParagraph.innerText=t.join(" ")}createInProjectile(t){let e=this.game.getMostRecentlyAddedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString());s.innerText=(parseInt(s.innerText)-1).toString();let n=s.getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,n.x,n.y),i.animate([{transform:`translate(${t.x}px, ${t.y}px)`},{transform:`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`}],{duration:200}),setTimeout(()=>{s.innerText=(1+parseInt(s.innerText)).toString(),i.style.transform=`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`},200),setTimeout(()=>{i.remove()},300)}createOutProjectile(t){let e=this.game.getMostRecentlyRemovedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString()).getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,s.x,s.y),i.animate([{transform:`translate(${s.x+.5*s.width}px, ${s.y+.5*s.height}px)`},{transform:`translate(${t.x}px, ${t.y}px)`}],{duration:200}),setTimeout(()=>{i.style.transform=`translate(${t.x}px, ${t.y}px)`},200),setTimeout(()=>{i.remove()},300)}onTransitionClicked(t){this.buttonClickSound.play(),this.createInProjectile(t),this.createOutProjectile(t)}onReset(){this.resetSound.play()}onAccept(){this.acceptSound.play(),document.getElementById("accepted").showModal()}addLevel(t,e,i){if(!this.levelGroups.has(e)){let t=document.createElement("li"),i=document.createElement("h2");i.innerText=e,t.appendChild(i);let s=document.createElement("ol");t.appendChild(s),this.levelGroupList.appendChild(t),this.levelGroups.set(e,s)}let s=this.levelGroups.get(e),o=document.createElement("li"),a=document.createElement("button");a.innerText=t,a.onclick=()=>{var t;null===(t=n.Game.instance)||void 0===t||t.onLevelSelect(i)},o.appendChild(a),s.appendChild(o)}setPrevNext(t,e){null===t?(this.previousButton.disabled=!0,this.previousButton.value=""):(this.previousButton.disabled=!1,this.previousButton.value=t),null===e?(this.nextButton.disabled=!0,this.nextButton.value=""):(this.nextButton.disabled=!1,this.nextButton.value=e)}setLevelName(t){this.levelTitle.innerText=t}setLevelDescription(t){this.levelDescription.innerHTML=t}setFirstLevel(t){this.welcomeBeginButton.onclick=()=>{var e;null===(e=n.Game.instance)||void 0===e||e.onLevelSelect(t)},this.game.onLevelSelect(t)}}},468:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const s=i(442),n=i(582);class o{constructor(){this.ui=new s.GameUI(this),this.levelData=new n.LevelData(this.ui),this.pqa=null,o.instance=this}loadPQA(t){this.pqa=t.createPQA(),this.ui.setPQA(this.pqa)}onStateHover(t){this.ui.onStateHover(t,this)}onStateClicked(t){var e;let i=this.ui.getTransitionIdx(t);i>=6291456||(this.tryRunTransition(i)&&this.ui.onTransitionClicked(t),this.onStateHover(t),(null===(e=this.pqa)||void 0===e?void 0:e.canAccept())&&this.ui.onAccept())}tryRunTransition(t){let e;if(null===this.pqa)return this.ui.showError("No PQA loaded"),!1;e=this.pqa;let i=e.tryTransition(t);return i||this.ui.showError("Unable to run transition"),this.ui.setActiveState(e.state),this.ui.updatePriorityQueue(e.queue()),this.ui.updateWord(e.word),i}canRunTransition(t){let e;return null!==this.pqa&&(e=this.pqa,e.canRunTransition(t))}resetCurrentPQA(){var t;let e=null===(t=this.pqa)||void 0===t?void 0:t.originData;null!=e&&this.loadPQA(e),this.ui.onReset()}getMostRecentlyAddedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyAddedElement()}getMostRecentlyRemovedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyRemovedElement()}onLevelSelect(t){if(""===t)return;let e=this.levelData.getLevelData(t),i=this.levelData.getPrevious(t),s=this.levelData.getNext(t),n=this.levelData.getName(t),o=this.levelData.getLevelDescription(t);this.ui.setPrevNext(i,s),this.ui.setLevelName(n),this.ui.setLevelDescription(o),this.loadPQA(e)}}e.Game=o,o.instance=null},574:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQAData=void 0;const s=i(142);e.PQAData=class{constructor(t){var e;let i;i="string"==typeof t?JSON.parse(t):t,this.states=new Map;for(let t of i.states)this.states.set(t.name,{position:{x:t.position.x,y:t.position.y},isAccepting:t.isAccepting});this.inputAlphabet=new Set;for(let t of i.inputAlphabet)this.inputAlphabet.add(t);this.queueAlphabet=new Set;for(let t of i.queueAlphabet)this.queueAlphabet.add(t);this.transitions=[];for(let t of i.transitions){let e=t.stateFrom,i=t.stateTo;if(!this.states.has(e))throw new Error(`State ${e} not found in states`);if(!this.states.has(i))throw new Error(`State ${i} not found in states`);let s=t.input;if(null!==s&&!this.inputAlphabet.has(s))throw new Error(`Input Symbol ${s} is not valid`);let n=t.queueIn,o=t.queueOut;if(null!==n&&!this.queueAlphabet.has(n.symbol))throw new Error(`Queue Symbol ${n.symbol} is not valid`);if(null!==o&&!this.queueAlphabet.has(o.symbol))throw new Error(`Queue Symbol ${o.symbol} is not valid`);let a=[];for(let{x:e,y:i}of t.path)a.push({x:e,y:i});let l={x:t.labelPosition.x,y:t.labelPosition.y};this.transitions.push({transition:{stateFrom:e,stateTo:i,input:s,queueIn:n,queueOut:o},path:a,labelPosition:l})}if(!this.states.has(i.initialState))throw new Error(`Initial state ${i.initialState} not found in states`);this.initialState=i.initialState,this.word=i.word,this.priorities=[];for(let t of i.priorities)this.priorities.push(t);this.queueHidden=null!==(e=i.hideQueue)&&void 0!==e&&e}createPQA(){let t=[],e=new Set;for(let[i,{isAccepting:s}]of this.states)s&&e.add(i),t.push(i);let i=Array.from(this.inputAlphabet),n=Array.from(this.queueAlphabet),o=this.initialState,a=[];for(let{transition:t}of this.transitions)a.push(t);return new s.PQARun(t,i,n,o,e,a,this.word,this)}}},582:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,o){function a(t){try{r(s.next(t))}catch(t){o(t)}}function l(t){try{r(s.throw(t))}catch(t){o(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,l)}r((s=s.apply(t,e||[])).next())})},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LevelData=void 0;const o=i(574),a=n(i(186));e.LevelData=class{constructor(t){this.firstLevel=null,this.groups=new Map,this.levels=new Map,this.ui=t,this.loadLevels().then(()=>{})}loadLevels(){return s(this,void 0,void 0,function*(){var t,e,i;let{groups:s,levels:n}=yield window.fetch(a.default).then(t=>t.text()).then(t=>JSON.parse(t));for(let e of n){let i=e,s=new o.PQAData(i),n=i.metadata.name.toString(),a=i.metadata.group.toString(),l=i.metadata.id.toString(),r=null!==(t=i.metadata.description)&&void 0!==t?t:"";this.groups.has(a)||this.groups.set(a,[]);let u=i.metadata.groupIndex;this.groups.get(a)[u]=l,this.levels.set(l,{data:s,group:a,name:n,prev:null,next:null,description:r})}for(let[t,e]of this.groups){let i=e.filter(t=>void 0!==t);this.groups.set(t,i)}s.length>0&&(this.firstLevel=null!==(i=null===(e=this.groups.get(s[0]))||void 0===e?void 0:e[0])&&void 0!==i?i:null),null!==this.firstLevel&&this.ui.setFirstLevel(this.firstLevel);let l=null,r=null;for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e)void 0!==t&&(null!==r&&(this.levels.get(r).next=t,this.levels.get(r).prev=l),l=r,r=t)}null!==r&&(this.levels.get(r).next=null,this.levels.get(r).prev=l);for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e){if(void 0===t)continue;let{group:e,name:i}=this.levels.get(t);this.ui.addLevel(i,e,t)}}})}getLevelData(t){return this.levels.get(t).data}getPrevious(t){return this.levels.get(t).prev}getNext(t){return this.levels.get(t).next}getName(t){return this.levels.get(t).name}getLevelDescription(t){return this.levels.get(t).description}}},635:(t,e,i)=>{t.exports=i.p+"assets/d06d771a9dc497567ad7-54405__korgms2000b__button-click.wav"},851:(t,e,i)=>{t.exports=i.p+"assets/2aca5f35d51e7fefb3e2-66136__aji__ding30603-spedup.wav"},914:(t,e,i)=>{i.r(e)},944:(t,e,i)=>{t.exports=i.p+"assets/b991bc8c7c11af001edf-219069__annabloom__click1.wav"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var n=s.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=s[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{const t=i(468);var e,s;i(914),new t.Game,null===(e=document.getElementById("states"))||void 0===e||e.addEventListener("click",e=>{var i;null===(i=t.Game.instance)||void 0===i||i.onStateClicked(e)}),null===(s=document.getElementById("states"))||void 0===s||s.addEventListener("mousemove",e=>{var i;null===(i=t.Game.instance)||void 0===i||i.onStateHover(e)}),window.Game=t.Game})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUxQyxRQUE1Q3NGLEVBQUsvUixTQUFTQyxlQUFlLGlCQUE4QixJQUFQOFIsR0FBeUJBLEVBQUd1QyxpQkFBaUIsWUFBYzdILElBQzVHLElBQUl4RCxFQUM0QixRQUEvQkEsRUFBS04sRUFBTzhGLEtBQUtDLGdCQUE2QixJQUFQekYsR0FBeUJBLEVBQUc4QixhQUFhMEIsS0FNekZyTSxPQUFhLEtBQUl1SSxFQUFPOEYsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL1N0YXRlRGlhZ3JhbS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9QUUEudHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvZ2FtZVVJLnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvUFFBRGF0YS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9MZXZlbERhdGEudHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9wcWFfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3BxYV9nYW1lL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGF0ZURpYWdyYW0gPSB2b2lkIDA7XG5mdW5jdGlvbiB0b0hleENvZGUobikge1xuICAgIHJldHVybiBgIyR7bi50b1N0cmluZygxNikucGFkU3RhcnQoNiwgXCIwXCIpfWA7XG59XG5jbGFzcyBTdGF0ZURpYWdyYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnF1ZXVlSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAxLjA7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZXNcIik7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZUhpdFJlZ2lvblwiKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZSgpO1xuICAgICAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShudWxsLCBudWxsKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlU2NhbGUoKSB7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAodGhpcy5zdGF0ZUNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDQpIC8gNzAwOyAvLyBJdCB3YXMgaW5pdGlhbGx5IDcwMHB4IHNvIHdlIGFyZSBub3cgc3R1Y2sgd2l0aCB0aGlzIGFzIGEgYmFzZWxpbmVcbiAgICAgICAgLy8gdGhpcy5zdGF0ZUNhbnZhcy5oZWlnaHQgPSA1MDAgKiB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLndpZHRoID0gNzAwICogdGhpcy5zY2FsZTtcbiAgICAgICAgdGhpcy5zdGF0ZUNhbnZhcy5oZWlnaHQgPSA1MDAgKiB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLnN0eWxlLmhlaWdodCA9IGAkezUwMCAvIDcwMCAqICh0aGlzLnN0YXRlQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gNCl9cHhgO1xuICAgICAgICB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5oZWlnaHQgPSA1MDAgKiB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLmhpdFJlZ2lvbkNhbnZhcy53aWR0aCA9IDcwMCAqIHRoaXMuc2NhbGU7XG4gICAgfVxuICAgIHVwZGF0ZShwcWFEYXRhLCBhY3RpdmVTdGF0ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlKCk7XG4gICAgICAgIGlmIChwcWFEYXRhID09PSBudWxsIHx8IGFjdGl2ZVN0YXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0VXBkYXRlSW5mbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBxYURhdGEgPSB0aGlzLmxhc3RVcGRhdGVJbmZvLmRhdGE7XG4gICAgICAgICAgICAgICAgYWN0aXZlU3RhdGUgPSB0aGlzLmxhc3RVcGRhdGVJbmZvLmFjdGl2ZVN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJDYW52YXMoKTtcbiAgICAgICAgdGhpcy5kcmF3VHJhbnNpdGlvbnMocHFhRGF0YSk7XG4gICAgICAgIHRoaXMuZHJhd1N0YXRlcyhhY3RpdmVTdGF0ZSwgcHFhRGF0YSk7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZUluZm8gPSB7IGRhdGE6IHBxYURhdGEsIGFjdGl2ZVN0YXRlOiBhY3RpdmVTdGF0ZSB9O1xuICAgIH1cbiAgICB4VHJhbnNmb3JtKHgpIHtcbiAgICAgICAgcmV0dXJuIHggKiB0aGlzLnNjYWxlO1xuICAgIH1cbiAgICB5VHJhbnNmb3JtKHkpIHtcbiAgICAgICAgcmV0dXJuIHkgKiB0aGlzLnNjYWxlO1xuICAgIH1cbiAgICBzZXRRdWV1ZUhpZGRlbihxdWV1ZUhpZGRlbikge1xuICAgICAgICB0aGlzLnF1ZXVlSGlkZGVuID0gcXVldWVIaWRkZW47XG4gICAgfVxuICAgIGNsZWFyQ2FudmFzKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuc3RhdGVDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgaGl0Q29udGV4dCA9IHRoaXMuaGl0UmVnaW9uQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zdGF0ZUNhbnZhcy53aWR0aCwgdGhpcy5zdGF0ZUNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBoaXRDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy53aWR0aCwgdGhpcy5oaXRSZWdpb25DYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgIGhpdENvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuc3RhdGVDYW52YXMud2lkdGgsIHRoaXMuc3RhdGVDYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgaGl0Q29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy53aWR0aCwgdGhpcy5oaXRSZWdpb25DYW52YXMuaGVpZ2h0KTtcbiAgICB9XG4gICAgLy8gVGFrZW4gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84MDg4MjYvZHJhd2luZy1hbi1hcnJvdy11c2luZy1odG1sLWNhbnZhc1xuICAgIGNhbnZhc19hcnJvdyhjb250ZXh0LCBmcm9teCwgZnJvbXksIHRveCwgdG95KSB7XG4gICAgICAgIGZyb214ID0gdGhpcy54VHJhbnNmb3JtKGZyb214KTtcbiAgICAgICAgZnJvbXkgPSB0aGlzLnlUcmFuc2Zvcm0oZnJvbXkpO1xuICAgICAgICB0b3ggPSB0aGlzLnhUcmFuc2Zvcm0odG94KTtcbiAgICAgICAgdG95ID0gdGhpcy55VHJhbnNmb3JtKHRveSk7XG4gICAgICAgIGxldCBoZWFkbGVuID0gMTAgKiB0aGlzLnNjYWxlOyAvLyBsZW5ndGggb2YgaGVhZCBpbiBwaXhlbHNcbiAgICAgICAgbGV0IGR4ID0gdG94IC0gZnJvbXg7XG4gICAgICAgIGxldCBkeSA9IHRveSAtIGZyb215O1xuICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKGR5LCBkeCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKGZyb214LCBmcm9teSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHRveCwgdG95KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG94IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDYpLCB0b3kgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNikpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0b3gsIHRveSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHRveCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkgLyA2KSwgdG95IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDYpKTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgZGlzcGxheVRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24uaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnzrUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRyYW5zaXRpb24uaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IFwiIDogXCI7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlT3V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gJ+KIhSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gYCgke3RyYW5zaXRpb24ucXVldWVPdXQuc3ltYm9sfSwgJHt0cmFuc2l0aW9uLnF1ZXVlT3V0LnByaW9yaXR5fSlgO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBcIiDihqYgXCI7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlSW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAn4oiFJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBgKCR7dHJhbnNpdGlvbi5xdWV1ZUluLnN5bWJvbH0sICR7dHJhbnNpdGlvbi5xdWV1ZUluLnByaW9yaXR5fSlgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGRyYXdUcmFuc2l0aW9ucyhkYXRhKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5zdGF0ZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBoaXRDb250ZXh0ID0gdGhpcy5oaXRSZWdpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbkluZGV4ID0gMDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgZm9yIChsZXQgeyB0cmFuc2l0aW9uLCBwYXRoLCBsYWJlbFBvc2l0aW9uIH0gb2YgZGF0YS50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSA2ICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB7IHgsIHkgfSBvZiBwYXRoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odGhpcy54VHJhbnNmb3JtKHgpLCB0aGlzLnlUcmFuc2Zvcm0oeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc19hcnJvdyhjb250ZXh0LCBwYXRoW3BhdGgubGVuZ3RoIC0gMl0ueCwgcGF0aFtwYXRoLmxlbmd0aCAtIDJdLnksIHBhdGhbcGF0aC5sZW5ndGggLSAxXS54LCBwYXRoW3BhdGgubGVuZ3RoIC0gMV0ueSk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGAke01hdGgucm91bmQoMTYgKiB0aGlzLnNjYWxlKX1weCBBcmlhbGA7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLmRpc3BsYXlUcmFuc2l0aW9uKHRyYW5zaXRpb24pLCB0aGlzLnhUcmFuc2Zvcm0obGFiZWxQb3NpdGlvbi54KSwgdGhpcy55VHJhbnNmb3JtKGxhYmVsUG9zaXRpb24ueSkpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5saW5lV2lkdGggPSAyNSAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBoaXRDb250ZXh0LnN0cm9rZVN0eWxlID0gdG9IZXhDb2RlKHRyYW5zaXRpb25JbmRleCk7XG4gICAgICAgICAgICBoaXRDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgeyB4LCB5IH0gb2YgcGF0aCkge1xuICAgICAgICAgICAgICAgIGhpdENvbnRleHQubGluZVRvKHRoaXMueFRyYW5zZm9ybSh4KSwgdGhpcy55VHJhbnNmb3JtKHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhpdENvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICBoaXRDb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbkluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd1N0YXRlcyhhY3RpdmVTdGF0ZSwgZGF0YSkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuc3RhdGVDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBmb3IgKGxldCBbc3RhdGUsIHsgcG9zaXRpb24sIGlzQWNjZXB0aW5nIH1dIG9mIGRhdGEuc3RhdGVzKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGFjdGl2ZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMiAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy54VHJhbnNmb3JtKHBvc2l0aW9uLngpLCB0aGlzLnlUcmFuc2Zvcm0ocG9zaXRpb24ueSksIDMwICogdGhpcy5zY2FsZSwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBpZiAoaXNBY2NlcHRpbmcpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyh0aGlzLnhUcmFuc2Zvcm0ocG9zaXRpb24ueCksIHRoaXMueVRyYW5zZm9ybShwb3NpdGlvbi55KSwgMjUgKiB0aGlzLnNjYWxlLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGAke01hdGgucm91bmQoMTYgKiB0aGlzLnNjYWxlKX1weCBBcmlhbGA7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHN0YXRlLCB0aGlzLnhUcmFuc2Zvcm0ocG9zaXRpb24ueCksIHRoaXMueVRyYW5zZm9ybShwb3NpdGlvbi55KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlN0YXRlRGlhZ3JhbSA9IFN0YXRlRGlhZ3JhbTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QUUFSdW4gPSB2b2lkIDA7XG5jbGFzcyBSdW5TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoYXV0b21hdG9uLCB3b3JkKSB7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5QWRkZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHkgPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdXRvbWF0b24uaW5pdGlhbFN0YXRlO1xuICAgICAgICB0aGlzLmF1dG9tYXRvbiA9IGF1dG9tYXRvbjtcbiAgICAgICAgdGhpcy53b3JkID0gd29yZDtcbiAgICB9XG4gICAgdXBkYXRlTWF4UHJpb3JpdHkoKSB7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHkgPSBNYXRoLm1heCguLi50aGlzLnF1ZXVlLmtleXMoKSk7XG4gICAgfVxuICAgIHRyeVJlbW92ZUVsZW1lbnQoZWxlbSkge1xuICAgICAgICBpZiAoZWxlbS5wcmlvcml0eSA8IHRoaXMubWF4UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFwID0gdGhpcy5xdWV1ZS5nZXQoZWxlbS5wcmlvcml0eSk7XG4gICAgICAgIGlmIChtYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb3VudCA9IG1hcC5nZXQoZWxlbS5zeW1ib2wpO1xuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5zZXQoZWxlbS5zeW1ib2wsIGNvdW50IC0gMSk7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNYXhQcmlvcml0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQgPSBlbGVtO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2FuUmVtb3ZlRWxlbWVudChlbGVtKSB7XG4gICAgICAgIGlmIChlbGVtLnByaW9yaXR5IDwgdGhpcy5tYXhQcmlvcml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLnF1ZXVlLmdldChlbGVtLnByaW9yaXR5KTtcbiAgICAgICAgaWYgKG1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvdW50ID0gbWFwLmdldChlbGVtLnN5bWJvbCk7XG4gICAgICAgIHJldHVybiAhKGNvdW50ID09PSB1bmRlZmluZWQgfHwgY291bnQgPT09IDApO1xuICAgIH1cbiAgICBhZGRFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMucXVldWUuZ2V0KGVsZW0ucHJpb3JpdHkpO1xuICAgICAgICBpZiAobWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMucXVldWUuc2V0KGVsZW0ucHJpb3JpdHksIG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvdW50ID0gbWFwLmdldChlbGVtLnN5bWJvbCk7XG4gICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW0ucHJpb3JpdHkgPiB0aGlzLm1heFByaW9yaXR5KSB7XG4gICAgICAgICAgICB0aGlzLm1heFByaW9yaXR5ID0gZWxlbS5wcmlvcml0eTtcbiAgICAgICAgfVxuICAgICAgICBtYXAuc2V0KGVsZW0uc3ltYm9sLCBjb3VudCArIDEpO1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCA9IGVsZW07XG4gICAgfVxuICAgIHRyeVJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSB0aGlzLmF1dG9tYXRvbi50cmFuc2l0aW9uQ291bnQgfHwgdHJhbnNpdGlvbklkeCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhbnNpdGlvbiA9IHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25zW3RyYW5zaXRpb25JZHhdO1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5zdGF0ZUZyb20gIT09IHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRnJvbSBzdGF0ZSAke3RyYW5zaXRpb24uc3RhdGVGcm9tfSBpcyBub3QgJHt0aGlzLnN0YXRlfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodHJhbnNpdGlvbi5pbnB1dCAhPT0gbnVsbCAmJiB0aGlzLndvcmQubGVuZ3RoID4gMCAmJiB0cmFuc2l0aW9uLmlucHV0ICE9IHRoaXMud29yZFt0aGlzLndvcmQubGVuZ3RoIC0gMV0pIHx8ICh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsICYmIHRoaXMud29yZC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYElucHV0ICR7dHJhbnNpdGlvbi5pbnB1dH0gZG9lcyBub3QgbWF0Y2ggc3ltYm9sICR7dGhpcy53b3JkW3RoaXMud29yZC5sZW5ndGggLSAxXX1gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNpdGlvbi5xdWV1ZU91dCAhPT0gbnVsbCAmJiAhdGhpcy50cnlSZW1vdmVFbGVtZW50KHRyYW5zaXRpb24ucXVldWVPdXQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuYWJsZSB0byByZW1vdmUgZWxlbWVudCAke3RyYW5zaXRpb24ucXVldWVPdXR9IGZyb20gcXVldWVgKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNpdGlvbi5pbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy53b3JkLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0cmFuc2l0aW9uLnN0YXRlVG87XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlSW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudCh0cmFuc2l0aW9uLnF1ZXVlSW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYW5SdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25JZHggPj0gdGhpcy5hdXRvbWF0b24udHJhbnNpdGlvbkNvdW50IHx8IHRyYW5zaXRpb25JZHggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyYW5zaXRpb24gPSB0aGlzLmF1dG9tYXRvbi50cmFuc2l0aW9uc1t0cmFuc2l0aW9uSWR4XTtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24uc3RhdGVGcm9tICE9PSB0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsICYmIHRoaXMud29yZC5sZW5ndGggPiAwICYmIHRyYW5zaXRpb24uaW5wdXQgIT0gdGhpcy53b3JkW3RoaXMud29yZC5sZW5ndGggLSAxXSkgfHwgKHRyYW5zaXRpb24uaW5wdXQgIT09IG51bGwgJiYgdGhpcy53b3JkLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISh0cmFuc2l0aW9uLnF1ZXVlT3V0ICE9PSBudWxsICYmICF0aGlzLmNhblJlbW92ZUVsZW1lbnQodHJhbnNpdGlvbi5xdWV1ZU91dCkpO1xuICAgIH1cbiAgICBjYW5BY2NlcHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmQubGVuZ3RoID09PSAwICYmIHRoaXMuYXV0b21hdG9uLmFjY2VwdGluZ1N0YXRlcy5oYXModGhpcy5zdGF0ZSk7XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9zdFJlY2VudGx5QWRkZWRFbGVtZW50O1xuICAgIH1cbiAgICBnZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQ7XG4gICAgfVxufVxuLy8gbm9pbnNwZWN0aW9uIE5vbkFzY2lpQ2hhcmFjdGVyc1xuY2xhc3MgUFFBUnVuIHtcbiAgICBnZW5lcmF0ZVRyYW5zaXRpb25zKHRyYW5zaXRpb25zKSB7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uc0lkeHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdHJhbnNpdGlvbiBvZiB0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgbGV0IGlucHV0LCBxdWV1ZUluLCBxdWV1ZU91dCwgc3RhdGVGcm9tLCBzdGF0ZVRvO1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24uaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5pbnB1dExvb2t1cC5nZXQodHJhbnNpdGlvbi5pbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgJHt0cmFuc2l0aW9uLmlucHV0fSBub3QgZm91bmQgaW4gaW5wdXQgYWxwaGFiZXRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXQgPSByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5xdWV1ZUluID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcXVldWVJbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5xdWV1ZUxvb2t1cC5nZXQodHJhbnNpdGlvbi5xdWV1ZUluLnN5bWJvbCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVldWUgc3ltYm9sICR7dHJhbnNpdGlvbi5xdWV1ZUluLnN5bWJvbH0gbm90IGZvdW5kIGluIGlucHV0IGFscGhhYmV0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlSW4gPSB7IHN5bWJvbDogcmVzLCBwcmlvcml0eTogdHJhbnNpdGlvbi5xdWV1ZUluLnByaW9yaXR5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5xdWV1ZU91dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHF1ZXVlT3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLnF1ZXVlTG9va3VwLmdldCh0cmFuc2l0aW9uLnF1ZXVlT3V0LnN5bWJvbCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVldWUgc3ltYm9sICR7dHJhbnNpdGlvbi5xdWV1ZU91dC5zeW1ib2x9IG5vdCBmb3VuZCBpbiBpbnB1dCBhbHBoYWJldGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZU91dCA9IHsgc3ltYm9sOiByZXMsIHByaW9yaXR5OiB0cmFuc2l0aW9uLnF1ZXVlT3V0LnByaW9yaXR5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWF5YmVTdGF0ZUZyb20gPSB0aGlzLnN0YXRlTG9va3VwLmdldCh0cmFuc2l0aW9uLnN0YXRlRnJvbSk7XG4gICAgICAgICAgICBpZiAobWF5YmVTdGF0ZUZyb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgJHt0cmFuc2l0aW9uLnN0YXRlRnJvbX0gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGVGcm9tID0gbWF5YmVTdGF0ZUZyb207XG4gICAgICAgICAgICBsZXQgbWF5YmVTdGF0ZVRvID0gdGhpcy5zdGF0ZUxvb2t1cC5nZXQodHJhbnNpdGlvbi5zdGF0ZVRvKTtcbiAgICAgICAgICAgIGlmIChtYXliZVN0YXRlVG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgJHt0cmFuc2l0aW9uLnN0YXRlVG99IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlVG8gPSBtYXliZVN0YXRlVG87XG4gICAgICAgICAgICB0cmFuc2l0aW9uc0lkeHMucHVzaCh7IHN0YXRlRnJvbSwgc3RhdGVUbywgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uc0lkeHM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXRlcywgaW5wdXRTeW1ib2xzLCBxdWV1ZVN5bWJvbHMsIGluaXRpYWxTdGF0ZSwgYWNjZXB0aW5nU3RhdGVzLCB0cmFuc2l0aW9ucywgd29yZCwgb3JpZ2luRGF0YSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5EYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG4gICAgICAgIHRoaXMuaW5wdXRTeW1ib2xzID0gaW5wdXRTeW1ib2xzO1xuICAgICAgICB0aGlzLnF1ZXVlU3ltYm9scyA9IHF1ZXVlU3ltYm9scztcbiAgICAgICAgdGhpcy5vcmlnaW5EYXRhID0gb3JpZ2luRGF0YTtcbiAgICAgICAgdGhpcy5zdGF0ZUxvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVMb29rdXAuc2V0KHN0YXRlc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dExvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dFN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRMb29rdXAuc2V0KGlucHV0U3ltYm9sc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZUxvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZVN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVMb29rdXAuc2V0KHF1ZXVlU3ltYm9sc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlTG9va3VwLmhhcyhpbml0aWFsU3RhdGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluaXRpYWwgc3RhdGUgJHtpbml0aWFsU3RhdGV9IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYWNjZXB0aW5nU3RhdGVJZHggPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAobGV0IHN0YXRlIG9mIGFjY2VwdGluZ1N0YXRlcykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuc3RhdGVMb29rdXAuZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFjY2VwdGluZ1N0YXRlSWR4LmFkZChyZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY2NlcHRpbmcgc3RhdGUgJHtzdGF0ZX0gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFuc2l0aW9uc0lkeHMgPSB0aGlzLmdlbmVyYXRlVHJhbnNpdGlvbnModHJhbnNpdGlvbnMpO1xuICAgICAgICBsZXQgYXV0b21hdG9uID0ge1xuICAgICAgICAgICAgc3RhdGVDb3VudDogc3RhdGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGlucHV0QWxwaGFiZXRDb3VudDogaW5wdXRTeW1ib2xzLmxlbmd0aCxcbiAgICAgICAgICAgIHF1ZXVlQWxwaGFiZXRDb3VudDogcXVldWVTeW1ib2xzLmxlbmd0aCxcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZTogdGhpcy5zdGF0ZUxvb2t1cC5nZXQoaW5pdGlhbFN0YXRlKSxcbiAgICAgICAgICAgIGFjY2VwdGluZ1N0YXRlczogYWNjZXB0aW5nU3RhdGVJZHgsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQ291bnQ6IHRyYW5zaXRpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiB0cmFuc2l0aW9uc0lkeHMsXG4gICAgICAgIH07XG4gICAgICAgIGxldCB3b3JkSWR4ID0gW107XG4gICAgICAgIGZvciAobGV0IHN5bWJvbCBvZiB3b3JkKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5pbnB1dExvb2t1cC5nZXQoc3ltYm9sKTtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgJHtzeW1ib2x9IG5vdCBmb3VuZCBpbiBpbnB1dCBhbHBoYWJldGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29yZElkeC5wdXNoKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5TdGF0ZSA9IG5ldyBSdW5TdGF0ZShhdXRvbWF0b24sIHdvcmRJZHgucmV2ZXJzZSgpKTtcbiAgICB9XG4gICAgKnRyYW5zaXRpb25zKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucnVuU3RhdGUuYXV0b21hdG9uLnRyYW5zaXRpb25Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbklkeCA9IHRoaXMucnVuU3RhdGUuYXV0b21hdG9uLnRyYW5zaXRpb25zW2ldO1xuICAgICAgICAgICAgbGV0IGlucHV0LCBxdWV1ZUluLCBxdWV1ZU91dDtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uSWR4LmlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSB0aGlzLmlucHV0U3ltYm9sc1t0cmFuc2l0aW9uSWR4LmlucHV0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uSWR4LnF1ZXVlSW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZUluID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXVlSW4gPSB7IHN5bWJvbDogdGhpcy5xdWV1ZVN5bWJvbHNbdHJhbnNpdGlvbklkeC5xdWV1ZUluLnN5bWJvbF0sIHByaW9yaXR5OiB0cmFuc2l0aW9uSWR4LnF1ZXVlSW4ucHJpb3JpdHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uSWR4LnF1ZXVlT3V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcXVldWVPdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVPdXQgPSB7IHN5bWJvbDogdGhpcy5xdWV1ZVN5bWJvbHNbdHJhbnNpdGlvbklkeC5xdWV1ZU91dC5zeW1ib2xdLCBwcmlvcml0eTogdHJhbnNpdGlvbklkeC5xdWV1ZU91dC5wcmlvcml0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXRlRnJvbSA9IHRoaXMuc3RhdGVzW3RyYW5zaXRpb25JZHguc3RhdGVGcm9tXTtcbiAgICAgICAgICAgIGxldCBzdGF0ZVRvID0gdGhpcy5zdGF0ZXNbdHJhbnNpdGlvbklkeC5zdGF0ZVRvXTtcbiAgICAgICAgICAgIHlpZWxkIHsgaW5kZXg6IGksIHZhbHVlOiB7IHN0YXRlRnJvbSwgc3RhdGVUbywgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0IH0gfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1t0aGlzLnJ1blN0YXRlLnN0YXRlXTtcbiAgICB9XG4gICAgZ2V0IHdvcmQoKSB7XG4gICAgICAgIGxldCB3b3JkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgb2YgdGhpcy5ydW5TdGF0ZS53b3JkKSB7XG4gICAgICAgICAgICB3b3JkLnB1c2godGhpcy5pbnB1dFN5bWJvbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3b3JkLnJldmVyc2UoKTtcbiAgICB9XG4gICAgKnF1ZXVlKCkge1xuICAgICAgICBmb3IgKGxldCBbcHJpb3JpdHksIG1hcF0gb2YgdGhpcy5ydW5TdGF0ZS5xdWV1ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgW3N5bWJvbCwgY291bnRdIG9mIG1hcCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1tzeW1ib2xdLCBwcmlvcml0eSwgY291bnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnlUcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuU3RhdGUudHJ5UnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KTtcbiAgICB9XG4gICAgY2FuUnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1blN0YXRlLmNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCk7XG4gICAgfVxuICAgIHRyeVRyYW5zaXRpb25SdW4odHJhbnNpdGlvbnMpIHtcbiAgICAgICAgZm9yIChsZXQgdHJhbnNpdGlvbklkeCBvZiB0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyeVRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhbkFjY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuU3RhdGUuY2FuQWNjZXB0KCk7XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucnVuU3RhdGUuZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCk7XG4gICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IHN5bWJvbCwgcHJpb3JpdHkgfSA9IHJlcztcbiAgICAgICAgcmV0dXJuIHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1tzeW1ib2xdLCBwcmlvcml0eSB9O1xuICAgIH1cbiAgICBnZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucnVuU3RhdGUuZ2V0TW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgc3ltYm9sLCBwcmlvcml0eSB9ID0gcmVzO1xuICAgICAgICByZXR1cm4geyBzeW1ib2w6IHRoaXMucXVldWVTeW1ib2xzW3N5bWJvbF0sIHByaW9yaXR5IH07XG4gICAgfVxufVxuZXhwb3J0cy5QUUFSdW4gPSBQUUFSdW47XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2FtZVVJID0gdm9pZCAwO1xuY29uc3QgZ2FtZV8xID0gcmVxdWlyZShcIi4vZ2FtZVwiKTtcbmNvbnN0IFN0YXRlRGlhZ3JhbV8xID0gcmVxdWlyZShcIi4vU3RhdGVEaWFncmFtXCIpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgXzIxOTA2OV9fYW5uYWJsb29tX19jbGljazFfd2F2XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL3NvdW5kcy8yMTkwNjlfX2FubmFibG9vbV9fY2xpY2sxLndhdlwiKSk7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBfNTQ0MDVfX2tvcmdtczIwMDBiX19idXR0b25fY2xpY2tfd2F2XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL3NvdW5kcy81NDQwNV9fa29yZ21zMjAwMGJfX2J1dHRvbi1jbGljay53YXZcIikpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgXzY2MTM2X19hamlfX2RpbmczMDYwM19zcGVkdXBfd2F2XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL3NvdW5kcy82NjEzNl9fYWppX19kaW5nMzA2MDMtc3BlZHVwLndhdlwiKSk7XG5jbGFzcyBHYW1lVUkge1xuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnV0dG9uQ2xpY2tTb3VuZCA9IG5ldyBBdWRpbyhfMjE5MDY5X19hbm5hYmxvb21fX2NsaWNrMV93YXZfMS5kZWZhdWx0KTtcbiAgICAgICAgdGhpcy5yZXNldFNvdW5kID0gbmV3IEF1ZGlvKF81NDQwNV9fa29yZ21zMjAwMGJfX2J1dHRvbl9jbGlja193YXZfMS5kZWZhdWx0KTtcbiAgICAgICAgdGhpcy5hY2NlcHRTb3VuZCA9IG5ldyBBdWRpbyhfNjYxMzZfX2FqaV9fZGluZzMwNjAzX3NwZWR1cF93YXZfMS5kZWZhdWx0KTtcbiAgICAgICAgdGhpcy5zdGF0ZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhdGVzXCIpO1xuICAgICAgICB0aGlzLnF1ZXVlVGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXVlXCIpO1xuICAgICAgICB0aGlzLmhpdFJlZ2lvbkNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhdGVIaXRSZWdpb25cIik7XG4gICAgICAgIHRoaXMud29yZFBhcmFncmFwaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid29yZFwiKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJldlwiKTtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXh0XCIpO1xuICAgICAgICB0aGlzLmxldmVsVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX25hbWVcIik7XG4gICAgICAgIHRoaXMubGV2ZWxHcm91cExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsc1wiKTtcbiAgICAgICAgdGhpcy5sZXZlbERlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbF9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgdGhpcy53ZWxjb21lQmVnaW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlbGNvbWVfYmVnaW5fYnV0dG9uXCIpO1xuICAgICAgICB0aGlzLmxldmVsR3JvdXBzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnF1ZXVlVGFibGVGaWVsZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICAgIHRoaXMuc3RhdGVEaWFncmFtID0gbmV3IFN0YXRlRGlhZ3JhbV8xLlN0YXRlRGlhZ3JhbSgpO1xuICAgICAgICB0aGlzLnN0YXRlRGlhZ3JhbS5jbGVhckNhbnZhcygpO1xuICAgICAgICAoX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfc3RhcnRcIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93TW9kYWwoKTtcbiAgICB9XG4gICAgc2V0UFFBKHBxYSkge1xuICAgICAgICBpZiAocHFhLm9yaWdpbkRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBRQSBoYXMgbm8gb3JpZ2luIGRhdGEsIHVuYWJsZSB0byBjb25zdHJ1Y3QgVUlcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSBwcWEub3JpZ2luRGF0YTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5zZXRRdWV1ZVRhYmxlKGRhdGEpO1xuICAgICAgICB0aGlzLnVwZGF0ZVByaW9yaXR5UXVldWUocHFhLnF1ZXVlKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVdvcmQocHFhLndvcmQpO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZVN0YXRlKHBxYS5zdGF0ZSk7XG4gICAgfVxuICAgIGdldFRyYW5zaXRpb25JZHgoZXZlbnQpIHtcbiAgICAgICAgbGV0IHggPSBldmVudC5vZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IGV2ZW50Lm9mZnNldFk7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5oaXRSZWdpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgaGl0UmVnaW9uID0gY29udGV4dC5nZXRJbWFnZURhdGEoeCwgeSwgMSwgMSkuZGF0YTtcbiAgICAgICAgcmV0dXJuIGhpdFJlZ2lvblswXSAqIDI1NiAqIDI1NiArIGhpdFJlZ2lvblsxXSAqIDI1NiArIGhpdFJlZ2lvblsyXTtcbiAgICB9XG4gICAgb25TdGF0ZUhvdmVyKGV2ZW50LCBnYW1lKSB7XG4gICAgICAgIGxldCB4ID0gZXZlbnQub2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5vZmZzZXRZO1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuaGl0UmVnaW9uQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IGhpdFJlZ2lvbiA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpLmRhdGE7XG4gICAgICAgIGlmIChoaXRSZWdpb25bMF0gPCAweDYwKSB7XG4gICAgICAgICAgICBpZiAoZ2FtZS5jYW5SdW5UcmFuc2l0aW9uKHRoaXMuZ2V0VHJhbnNpdGlvbklkeChldmVudCkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNhbnZhcy5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDYW52YXMuc3R5bGUuY3Vyc29yID0gXCJub3QtYWxsb3dlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUNhbnZhcy5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRRdWV1ZVRhYmxlKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEucXVldWVIaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVUYWJsZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlRGlhZ3JhbS5zZXRRdWV1ZUhpZGRlbih0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlVGFibGUuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZURpYWdyYW0uc2V0UXVldWVIaWRkZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLnF1ZXVlVGFibGUuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5zZXRRdWV1ZVRhYmxlSGVhZChkYXRhKTtcbiAgICAgICAgdGhpcy5zZXRRdWV1ZVRhYmxlQm9keShkYXRhKTtcbiAgICB9XG4gICAgc2V0UXVldWVUYWJsZUhlYWQoZGF0YSkge1xuICAgICAgICBsZXQgaGVhZCA9IHRoaXMucXVldWVUYWJsZS5jcmVhdGVUSGVhZCgpO1xuICAgICAgICBsZXQgY29sdW1uSGVhZGVycyA9IGhlYWQuaW5zZXJ0Um93KCk7XG4gICAgICAgIGxldCBjZWxsID0gY29sdW1uSGVhZGVycy5pbnNlcnRDZWxsKCk7XG4gICAgICAgIGNlbGwub3V0ZXJIVE1MID0gYDx0aD5Qcmlvcml0aWVzPC90aD5gO1xuICAgICAgICBmb3IgKGxldCBxdWV1ZVN5bWJvbCBvZiBkYXRhLnF1ZXVlQWxwaGFiZXQpIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gY29sdW1uSGVhZGVycy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICBjZWxsLm91dGVySFRNTCA9IGA8dGg+JHtxdWV1ZVN5bWJvbH08L3RoPmA7XG4gICAgICAgICAgICBjZWxsLnNjb3BlID0gXCJjb2xcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRRdWV1ZVRhYmxlQm9keShkYXRhKSB7XG4gICAgICAgIGxldCBib2R5ID0gdGhpcy5xdWV1ZVRhYmxlLmNyZWF0ZVRCb2R5KCk7XG4gICAgICAgIGZvciAobGV0IHByaW9yaXR5IG9mIGRhdGEucHJpb3JpdGllcykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IGJvZHkuaW5zZXJ0Um93KCk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gcm93Lmluc2VydENlbGwoKTtcbiAgICAgICAgICAgIGhlYWRlci5vdXRlckhUTUwgPSBgPHRoPiR7cHJpb3JpdHl9PC90aD5gO1xuICAgICAgICAgICAgaGVhZGVyLnNjb3BlID0gXCJyb3dcIjtcbiAgICAgICAgICAgIGZvciAobGV0IHF1ZXVlU3ltYm9sIG9mIGRhdGEucXVldWVBbHBoYWJldCkge1xuICAgICAgICAgICAgICAgIGxldCBjZWxsID0gcm93Lmluc2VydENlbGwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlVGFibGVGaWVsZHMuc2V0KFtxdWV1ZVN5bWJvbCwgcHJpb3JpdHldLnRvU3RyaW5nKCksIGNlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVByaW9yaXR5UXVldWUocXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMucXVldWVUYWJsZS5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB7IHN5bWJvbCwgcHJpb3JpdHksIGNvdW50IH0gb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVUYWJsZUZpZWxkcy5nZXQoW3N5bWJvbCwgcHJpb3JpdHldLnRvU3RyaW5nKCkpLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlVGFibGVGaWVsZHMuZ2V0KFtzeW1ib2wsIHByaW9yaXR5XS50b1N0cmluZygpKS5pbm5lclRleHQgPSBjb3VudC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHNldEFjdGl2ZVN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGVEaWFncmFtLnVwZGF0ZSh0aGlzLmRhdGEsIHN0YXRlKTtcbiAgICB9XG4gICAgdXBkYXRlV29yZCh3b3JkKSB7XG4gICAgICAgIHRoaXMud29yZFBhcmFncmFwaC5pbm5lclRleHQgPSB3b3JkLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgICBjcmVhdGVJblByb2plY3RpbGUoZSkge1xuICAgICAgICBsZXQgcXVldWVJblR5cGUgPSB0aGlzLmdhbWUuZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCk7XG4gICAgICAgIGlmIChxdWV1ZUluVHlwZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpblByb2plY3RpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpblByb2plY3RpbGUuY2xhc3NMaXN0LmFkZChcInByb2plY3RpbGVcIiwgXCJyZWRcIik7XG4gICAgICAgIGxldCB0YXJnZXRFbGVtID0gdGhpcy5xdWV1ZVRhYmxlRmllbGRzLmdldChbcXVldWVJblR5cGUuc3ltYm9sLCBxdWV1ZUluVHlwZS5wcmlvcml0eV0udG9TdHJpbmcoKSk7XG4gICAgICAgIHRhcmdldEVsZW0uaW5uZXJUZXh0ID0gKHBhcnNlSW50KHRhcmdldEVsZW0uaW5uZXJUZXh0KSAtIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0YXJnZXRFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQoaW5Qcm9qZWN0aWxlKTtcbiAgICAgICAgY29uc29sZS5sb2coZS54LCBlLnksIHRhcmdldC54LCB0YXJnZXQueSk7XG4gICAgICAgIGluUHJvamVjdGlsZS5hbmltYXRlKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtlLnh9cHgsICR7ZS55fXB4KWBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGFyZ2V0LnggKyAwLjUgKiB0YXJnZXQud2lkdGh9cHgsICR7dGFyZ2V0LnkgKyAwLjUgKiB0YXJnZXQuaGVpZ2h0fXB4KWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSwge1xuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGFyZ2V0RWxlbS5pbm5lclRleHQgPSAoMSArIHBhcnNlSW50KHRhcmdldEVsZW0uaW5uZXJUZXh0KSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGluUHJvamVjdGlsZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7dGFyZ2V0LnggKyAwLjUgKiB0YXJnZXQud2lkdGh9cHgsICR7dGFyZ2V0LnkgKyAwLjUgKiB0YXJnZXQuaGVpZ2h0fXB4KWA7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaW5Qcm9qZWN0aWxlLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH1cbiAgICBjcmVhdGVPdXRQcm9qZWN0aWxlKGUpIHtcbiAgICAgICAgbGV0IHF1ZXVlT3V0VHlwZSA9IHRoaXMuZ2FtZS5nZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpO1xuICAgICAgICBpZiAocXVldWVPdXRUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dFByb2plY3RpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBvdXRQcm9qZWN0aWxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0aWxlXCIsIFwicmVkXCIpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5xdWV1ZVRhYmxlRmllbGRzLmdldChbcXVldWVPdXRUeXBlLnN5bWJvbCwgcXVldWVPdXRUeXBlLnByaW9yaXR5XS50b1N0cmluZygpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKG91dFByb2plY3RpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLngsIGUueSwgdGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICAgICAgb3V0UHJvamVjdGlsZS5hbmltYXRlKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0YXJnZXQueCArIDAuNSAqIHRhcmdldC53aWR0aH1weCwgJHt0YXJnZXQueSArIDAuNSAqIHRhcmdldC5oZWlnaHR9cHgpYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtlLnh9cHgsICR7ZS55fXB4KWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSwge1xuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb3V0UHJvamVjdGlsZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZS54fXB4LCAke2UueX1weClgO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG91dFByb2plY3RpbGUucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfVxuICAgIG9uVHJhbnNpdGlvbkNsaWNrZWQoZSkge1xuICAgICAgICB0aGlzLmJ1dHRvbkNsaWNrU291bmQucGxheSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUluUHJvamVjdGlsZShlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVPdXRQcm9qZWN0aWxlKGUpO1xuICAgIH1cbiAgICBvblJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlc2V0U291bmQucGxheSgpO1xuICAgIH1cbiAgICBvbkFjY2VwdCgpIHtcbiAgICAgICAgdGhpcy5hY2NlcHRTb3VuZC5wbGF5KCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWNjZXB0ZWRcIikuc2hvd01vZGFsKCk7XG4gICAgfVxuICAgIGFkZExldmVsKGxldmVsTmFtZSwgZ3JvdXAsIGlkKSB7XG4gICAgICAgIGlmICghdGhpcy5sZXZlbEdyb3Vwcy5oYXMoZ3JvdXApKSB7XG4gICAgICAgICAgICBsZXQgZ3JvdXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgICAgIGhlYWRlci5pbm5lclRleHQgPSBncm91cDtcbiAgICAgICAgICAgIGdyb3VwRWxlbWVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgICAgICAgICAgbGV0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib2xcIik7XG4gICAgICAgICAgICBncm91cEVsZW1lbnQuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsR3JvdXBMaXN0LmFwcGVuZENoaWxkKGdyb3VwRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsR3JvdXBzLnNldChncm91cCwgbGlzdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdyb3VwRWxlbWVudCA9IHRoaXMubGV2ZWxHcm91cHMuZ2V0KGdyb3VwKTtcbiAgICAgICAgbGV0IGxpc3RFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGxldmVsTmFtZTtcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7IHZhciBfYTsgKF9hID0gZ2FtZV8xLkdhbWUuaW5zdGFuY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbkxldmVsU2VsZWN0KGlkKTsgfTtcbiAgICAgICAgbGlzdEVsZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgZ3JvdXBFbGVtZW50LmFwcGVuZENoaWxkKGxpc3RFbGVtKTtcbiAgICB9XG4gICAgc2V0UHJldk5leHQocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uLnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24udmFsdWUgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLnZhbHVlID0gbmV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRMZXZlbE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLmxldmVsVGl0bGUuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICB9XG4gICAgc2V0TGV2ZWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmxldmVsRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHNldEZpcnN0TGV2ZWwoaWQpIHtcbiAgICAgICAgdGhpcy53ZWxjb21lQmVnaW5CdXR0b24ub25jbGljayA9ICgpID0+IHsgdmFyIF9hOyAoX2EgPSBnYW1lXzEuR2FtZS5pbnN0YW5jZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uTGV2ZWxTZWxlY3QoaWQpOyB9O1xuICAgICAgICB0aGlzLmdhbWUub25MZXZlbFNlbGVjdChpZCk7XG4gICAgfVxufVxuZXhwb3J0cy5HYW1lVUkgPSBHYW1lVUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2FtZSA9IHZvaWQgMDtcbmNvbnN0IGdhbWVVSV8xID0gcmVxdWlyZShcIi4vZ2FtZVVJXCIpO1xuY29uc3QgTGV2ZWxEYXRhXzEgPSByZXF1aXJlKFwiLi9MZXZlbERhdGFcIik7XG5jbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy51aSA9IG5ldyBnYW1lVUlfMS5HYW1lVUkodGhpcyk7XG4gICAgICAgIHRoaXMubGV2ZWxEYXRhID0gbmV3IExldmVsRGF0YV8xLkxldmVsRGF0YSh0aGlzLnVpKTtcbiAgICAgICAgdGhpcy5wcWEgPSBudWxsO1xuICAgICAgICBHYW1lLmluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgbG9hZFBRQShwcWFEYXRhKSB7XG4gICAgICAgIHRoaXMucHFhID0gcHFhRGF0YS5jcmVhdGVQUUEoKTtcbiAgICAgICAgdGhpcy51aS5zZXRQUUEodGhpcy5wcWEpO1xuICAgIH1cbiAgICBvblN0YXRlSG92ZXIoZSkge1xuICAgICAgICB0aGlzLnVpLm9uU3RhdGVIb3ZlcihlLCB0aGlzKTtcbiAgICB9XG4gICAgb25TdGF0ZUNsaWNrZWQoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uSWR4ID0gdGhpcy51aS5nZXRUcmFuc2l0aW9uSWR4KGUpO1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSAweDYwMDAwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyeVJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25UcmFuc2l0aW9uQ2xpY2tlZChlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uU3RhdGVIb3ZlcihlKTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMucHFhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuQWNjZXB0KCkpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25BY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnlSdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgbGV0IHBxYTtcbiAgICAgICAgaWYgKHRoaXMucHFhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnVpLnNob3dFcnJvcihcIk5vIFBRQSBsb2FkZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcWEgPSB0aGlzLnBxYTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gcHFhLnRyeVRyYW5zaXRpb24odHJhbnNpdGlvbklkeCk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnVpLnNob3dFcnJvcihcIlVuYWJsZSB0byBydW4gdHJhbnNpdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVpLnNldEFjdGl2ZVN0YXRlKHBxYS5zdGF0ZSk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlUHJpb3JpdHlRdWV1ZShwcWEucXVldWUoKSk7XG4gICAgICAgIHRoaXMudWkudXBkYXRlV29yZChwcWEud29yZCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICBsZXQgcHFhO1xuICAgICAgICBpZiAodGhpcy5wcWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBxYSA9IHRoaXMucHFhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcWEuY2FuUnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KTtcbiAgICB9XG4gICAgcmVzZXRDdXJyZW50UFFBKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBkYXRhID0gKF9hID0gdGhpcy5wcWEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcmlnaW5EYXRhO1xuICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFBRQShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVpLm9uUmVzZXQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBxYS5nZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBxYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHFhLmdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCk7XG4gICAgfVxuICAgIG9uTGV2ZWxTZWxlY3QodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmxldmVsRGF0YS5nZXRMZXZlbERhdGEodmFsdWUpO1xuICAgICAgICBsZXQgcHJldiA9IHRoaXMubGV2ZWxEYXRhLmdldFByZXZpb3VzKHZhbHVlKTtcbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLmxldmVsRGF0YS5nZXROZXh0KHZhbHVlKTtcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmxldmVsRGF0YS5nZXROYW1lKHZhbHVlKTtcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gdGhpcy5sZXZlbERhdGEuZ2V0TGV2ZWxEZXNjcmlwdGlvbih2YWx1ZSk7XG4gICAgICAgIHRoaXMudWkuc2V0UHJldk5leHQocHJldiwgbmV4dCk7XG4gICAgICAgIHRoaXMudWkuc2V0TGV2ZWxOYW1lKG5hbWUpO1xuICAgICAgICB0aGlzLnVpLnNldExldmVsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgICB0aGlzLmxvYWRQUUEoZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5HYW1lID0gR2FtZTtcbkdhbWUuaW5zdGFuY2UgPSBudWxsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBRQURhdGEgPSB2b2lkIDA7XG5jb25zdCBQUUFfMSA9IHJlcXVpcmUoXCIuL1BRQVwiKTtcbmNsYXNzIFBRQURhdGEge1xuICAgIC8qXG5cbiAgICB7XG4gICAgICAgIHN0YXRlczoge25hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzQWNjZXB0aW5nOiBib29sZWFufVtdLFxuICAgICAgICBpbnB1dEFscGhhYmV0OiBzdHJpbmdbXSxcbiAgICAgICAgcXVldWVBbHBoYWJldDogc3RyaW5nW10sXG4gICAgICAgIHRyYW5zaXRpb25zOlxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZUZyb206IHN0cmluZyxcbiAgICAgICAgICAgIHN0YXRlVG86IHN0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiBzdHJpbmcgfCBudWxsLFxuICAgICAgICAgICAgcXVldWVJbjogeyBzeW1ib2w6IHN0cmluZywgcHJpb3JpdHk6IG51bWJlciB9IHwgbnVsbCxcbiAgICAgICAgICAgIHF1ZXVlT3V0OiB7IHN5bWJvbDogc3RyaW5nLCBwcmlvcml0eTogbnVtYmVyIH0gfCBudWxsLFxuICAgICAgICB9LFxuICAgICAgICBwcmlvcml0aWVzOiBudW1iZXJbXSxcbiAgICAgICAgaW5pdGlhbFN0YXRlOiBzdHJpbmcsXG4gICAgICAgIHdvcmQ6IHN0cmluZ1tdXG5cbiAgICB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IHN0YXRlIG9mIHZhbHVlLnN0YXRlcykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZXMuc2V0KHN0YXRlLm5hbWUsIHsgcG9zaXRpb246IHsgeDogc3RhdGUucG9zaXRpb24ueCwgeTogc3RhdGUucG9zaXRpb24ueSB9LCBpc0FjY2VwdGluZzogc3RhdGUuaXNBY2NlcHRpbmcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dEFscGhhYmV0ID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBzeW1ib2wgb2YgdmFsdWUuaW5wdXRBbHBoYWJldCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEFscGhhYmV0LmFkZChzeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucXVldWVBbHBoYWJldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgc3ltYm9sIG9mIHZhbHVlLnF1ZXVlQWxwaGFiZXQpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVBbHBoYWJldC5hZGQoc3ltYm9sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IHRyYW5zaXRpb24gb2YgdmFsdWUudHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZUZyb20gPSB0cmFuc2l0aW9uLnN0YXRlRnJvbTtcbiAgICAgICAgICAgIGxldCBzdGF0ZVRvID0gdHJhbnNpdGlvbi5zdGF0ZVRvO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXMoc3RhdGVGcm9tKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgJHtzdGF0ZUZyb219IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZXMuaGFzKHN0YXRlVG8pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3N0YXRlVG99IG5vdCBmb3VuZCBpbiBzdGF0ZXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHRyYW5zaXRpb24uaW5wdXQ7XG4gICAgICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwgJiYgIXRoaXMuaW5wdXRBbHBoYWJldC5oYXMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCBTeW1ib2wgJHtpbnB1dH0gaXMgbm90IHZhbGlkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcXVldWVJbiA9IHRyYW5zaXRpb24ucXVldWVJbjtcbiAgICAgICAgICAgIGxldCBxdWV1ZU91dCA9IHRyYW5zaXRpb24ucXVldWVPdXQ7XG4gICAgICAgICAgICBpZiAocXVldWVJbiAhPT0gbnVsbCAmJiAhdGhpcy5xdWV1ZUFscGhhYmV0LmhhcyhxdWV1ZUluLnN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXVlIFN5bWJvbCAke3F1ZXVlSW4uc3ltYm9sfSBpcyBub3QgdmFsaWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZU91dCAhPT0gbnVsbCAmJiAhdGhpcy5xdWV1ZUFscGhhYmV0LmhhcyhxdWV1ZU91dC5zeW1ib2wpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBTeW1ib2wgJHtxdWV1ZU91dC5zeW1ib2x9IGlzIG5vdCB2YWxpZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgeCwgeSB9IG9mIHRyYW5zaXRpb24ucGF0aCkge1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaCh7IHgsIHkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGFiZWxQb3NpdGlvbiA9IHsgeDogdHJhbnNpdGlvbi5sYWJlbFBvc2l0aW9uLngsIHk6IHRyYW5zaXRpb24ubGFiZWxQb3NpdGlvbi55IH07XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zLnB1c2goeyB0cmFuc2l0aW9uOiB7IHN0YXRlRnJvbSwgc3RhdGVUbywgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0IH0sIHBhdGgsIGxhYmVsUG9zaXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXModmFsdWUuaW5pdGlhbFN0YXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbml0aWFsIHN0YXRlICR7dmFsdWUuaW5pdGlhbFN0YXRlfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSB2YWx1ZS5pbml0aWFsU3RhdGU7XG4gICAgICAgIHRoaXMud29yZCA9IHZhbHVlLndvcmQ7XG4gICAgICAgIHRoaXMucHJpb3JpdGllcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcmlvcml0eSBvZiB2YWx1ZS5wcmlvcml0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXRpZXMucHVzaChwcmlvcml0eSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IChfYSA9IHZhbHVlLmhpZGVRdWV1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZVBRQSgpIHtcbiAgICAgICAgbGV0IHN0YXRlcyA9IFtdO1xuICAgICAgICBsZXQgYWNjZXB0aW5nU3RhdGVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBbbmFtZSwgeyBpc0FjY2VwdGluZyB9XSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgICAgICAgaWYgKGlzQWNjZXB0aW5nKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVzLmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnB1dEFscGhhYmV0ID0gQXJyYXkuZnJvbSh0aGlzLmlucHV0QWxwaGFiZXQpO1xuICAgICAgICBsZXQgcXVldWVBbHBoYWJldCA9IEFycmF5LmZyb20odGhpcy5xdWV1ZUFscGhhYmV0KTtcbiAgICAgICAgbGV0IGluaXRpYWxTdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeyB0cmFuc2l0aW9uIH0gb2YgdGhpcy50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgdHJhbnNpdGlvbnMucHVzaCh0cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBRQV8xLlBRQVJ1bihzdGF0ZXMsIGlucHV0QWxwaGFiZXQsIHF1ZXVlQWxwaGFiZXQsIGluaXRpYWxTdGF0ZSwgYWNjZXB0aW5nU3RhdGVzLCB0cmFuc2l0aW9ucywgdGhpcy53b3JkLCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlBRQURhdGEgPSBQUUFEYXRhO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGV2ZWxEYXRhID0gdm9pZCAwO1xuY29uc3QgUFFBRGF0YV8xID0gcmVxdWlyZShcIi4vUFFBRGF0YVwiKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGxldmVsc19qc29uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL2xldmVscy5qc29uXCIpKTtcbmNsYXNzIExldmVsRGF0YSB7XG4gICAgY29uc3RydWN0b3IodWkpIHtcbiAgICAgICAgdGhpcy5maXJzdExldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnVpID0gdWk7XG4gICAgICAgIHRoaXMubG9hZExldmVscygpLnRoZW4oKCkgPT4geyB9KTtcbiAgICB9XG4gICAgbG9hZExldmVscygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgbGV0IHsgZ3JvdXBzLCBsZXZlbHMgfSA9IHlpZWxkIHdpbmRvdy5mZXRjaChsZXZlbHNfanNvbl8xLmRlZmF1bHQpLnRoZW4ociA9PiByLnRleHQoKSkudGhlbihyID0+IEpTT04ucGFyc2UocikpO1xuICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWwgb2YgbGV2ZWxzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZERhdGEgPSBsZXZlbDtcbiAgICAgICAgICAgICAgICBsZXQgcHFhRGF0YSA9IG5ldyBQUUFEYXRhXzEuUFFBRGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHBhcnNlZERhdGEubWV0YWRhdGEubmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGxldCBncm91cCA9IHBhcnNlZERhdGEubWV0YWRhdGEuZ3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBwYXJzZWREYXRhLm1ldGFkYXRhLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gKF9hID0gcGFyc2VkRGF0YS5tZXRhZGF0YS5kZXNjcmlwdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXBzLmhhcyhncm91cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cHMuc2V0KGdyb3VwLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHBhcnNlZERhdGEubWV0YWRhdGEuZ3JvdXBJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwcy5nZXQoZ3JvdXApW2luZGV4XSA9IGlkO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLnNldChpZCwgeyBkYXRhOiBwcWFEYXRhLCBncm91cCwgbmFtZSwgcHJldjogbnVsbCwgbmV4dDogbnVsbCwgZGVzY3JpcHRpb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBbZ3JvdXBOYW1lLCBpZHNdIG9mIHRoaXMuZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzZWRJZHMgPSBpZHMuZmlsdGVyKGlkID0+IGlkICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzLnNldChncm91cE5hbWUsIGNvbXByZXNzZWRJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdExldmVsID0gKF9jID0gKF9iID0gdGhpcy5ncm91cHMuZ2V0KGdyb3Vwc1swXSkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYlswXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0TGV2ZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnNldEZpcnN0TGV2ZWwodGhpcy5maXJzdExldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2SWQgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGN1cnJJZCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cE5hbWUgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5ncm91cHMuZ2V0KGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycklkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5uZXh0ID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5wcmV2ID0gcHJldklkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByZXZJZCA9IGN1cnJJZDtcbiAgICAgICAgICAgICAgICAgICAgY3VycklkID0gaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChjdXJySWQpLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChjdXJySWQpLnByZXYgPSBwcmV2SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cE5hbWUgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5ncm91cHMuZ2V0KGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIG9mIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgeyBncm91cCwgbmFtZSB9ID0gdGhpcy5sZXZlbHMuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5hZGRMZXZlbChuYW1lLCBncm91cCwgaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldExldmVsRGF0YShpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5kYXRhO1xuICAgIH1cbiAgICBnZXRQcmV2aW91cyhpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5wcmV2O1xuICAgIH1cbiAgICBnZXROZXh0KGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxldmVscy5nZXQoaWQpLm5leHQ7XG4gICAgfVxuICAgIGdldE5hbWUoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxzLmdldChpZCkubmFtZTtcbiAgICB9XG4gICAgZ2V0TGV2ZWxEZXNjcmlwdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnRzLkxldmVsRGF0YSA9IExldmVsRGF0YTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2FtZV8xID0gcmVxdWlyZShcIi4vZ2FtZVwiKTtcbnJlcXVpcmUoXCIuL2Fzc2V0cy9zdHlsZS5jc3NcIik7XG5mdW5jdGlvbiBtYWluKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IGdhbWUgPSBuZXcgZ2FtZV8xLkdhbWUoKTtcbiAgICAoX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGdhbWVfMS5HYW1lLmluc3RhbmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25TdGF0ZUNsaWNrZWQoZSk7XG4gICAgfSk7XG4gICAgKF9iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZXNcIikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gZ2FtZV8xLkdhbWUuaW5zdGFuY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblN0YXRlSG92ZXIoZSk7XG4gICAgfSk7XG59XG5tYWluKCk7XG4vLyBFeHBvc2UgdGhlIEdhbWUgY2xhc3MgZm9yIHVzZSBpbiBIVE1MXG4vLyBAdHMtaWdub3JlXG53aW5kb3dbXCJHYW1lXCJdID0gZ2FtZV8xLkdhbWU7XG4iXSwibmFtZXMiOlsidG9IZXhDb2RlIiwibiIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlN0YXRlRGlhZ3JhbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsInF1ZXVlSGlkZGVuIiwic2NhbGUiLCJsYXN0VXBkYXRlSW5mbyIsInN0YXRlQ2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImhpdFJlZ2lvbkNhbnZhcyIsInVwZGF0ZVNjYWxlIiwid2luZG93Iiwib25yZXNpemUiLCJ1cGRhdGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwicHFhRGF0YSIsImFjdGl2ZVN0YXRlIiwiZGF0YSIsImNsZWFyQ2FudmFzIiwiZHJhd1RyYW5zaXRpb25zIiwiZHJhd1N0YXRlcyIsInhUcmFuc2Zvcm0iLCJ4IiwieVRyYW5zZm9ybSIsInkiLCJzZXRRdWV1ZUhpZGRlbiIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGl0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzX2Fycm93IiwiZnJvbXgiLCJmcm9teSIsInRveCIsInRveSIsImhlYWRsZW4iLCJkeCIsImR5IiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjb3MiLCJQSSIsInNpbiIsInN0cm9rZSIsImNsb3NlUGF0aCIsImRpc3BsYXlUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsInJlc3VsdCIsImlucHV0IiwicXVldWVPdXQiLCJzeW1ib2wiLCJwcmlvcml0eSIsInF1ZXVlSW4iLCJ0cmFuc2l0aW9uSW5kZXgiLCJzdHJva2VTdHlsZSIsInBhdGgiLCJsYWJlbFBvc2l0aW9uIiwidHJhbnNpdGlvbnMiLCJsaW5lV2lkdGgiLCJsZW5ndGgiLCJmb250Iiwicm91bmQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInN0YXRlIiwicG9zaXRpb24iLCJpc0FjY2VwdGluZyIsInN0YXRlcyIsImFyYyIsImZpbGwiLCJQUUFSdW4iLCJSdW5TdGF0ZSIsImF1dG9tYXRvbiIsIndvcmQiLCJtb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQiLCJtb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCIsIm1heFByaW9yaXR5IiwicXVldWUiLCJNYXAiLCJpbml0aWFsU3RhdGUiLCJ1cGRhdGVNYXhQcmlvcml0eSIsIm1heCIsImtleXMiLCJ0cnlSZW1vdmVFbGVtZW50IiwiZWxlbSIsIm1hcCIsImdldCIsInVuZGVmaW5lZCIsImNvdW50Iiwic2V0IiwiY2FuUmVtb3ZlRWxlbWVudCIsImFkZEVsZW1lbnQiLCJ0cnlSdW5UcmFuc2l0aW9uIiwidHJhbnNpdGlvbklkeCIsInRyYW5zaXRpb25Db3VudCIsInN0YXRlRnJvbSIsImNvbnNvbGUiLCJ3YXJuIiwicG9wIiwic3RhdGVUbyIsImNhblJ1blRyYW5zaXRpb24iLCJjYW5BY2NlcHQiLCJhY2NlcHRpbmdTdGF0ZXMiLCJoYXMiLCJnZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQiLCJnZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCIsImdlbmVyYXRlVHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uc0lkeHMiLCJyZXMiLCJpbnB1dExvb2t1cCIsIkVycm9yIiwicXVldWVMb29rdXAiLCJtYXliZVN0YXRlRnJvbSIsInN0YXRlTG9va3VwIiwibWF5YmVTdGF0ZVRvIiwicHVzaCIsImlucHV0U3ltYm9scyIsInF1ZXVlU3ltYm9scyIsIm9yaWdpbkRhdGEiLCJpIiwiYWNjZXB0aW5nU3RhdGVJZHgiLCJTZXQiLCJhZGQiLCJzdGF0ZUNvdW50IiwiaW5wdXRBbHBoYWJldENvdW50IiwicXVldWVBbHBoYWJldENvdW50Iiwid29yZElkeCIsInJ1blN0YXRlIiwicmV2ZXJzZSIsImluZGV4IiwidHJ5VHJhbnNpdGlvbiIsInRyeVRyYW5zaXRpb25SdW4iLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiR2FtZVVJIiwiZ2FtZV8xIiwiU3RhdGVEaWFncmFtXzEiLCJfMjE5MDY5X19hbm5hYmxvb21fX2NsaWNrMV93YXZfMSIsIl81NDQwNV9fa29yZ21zMjAwMGJfX2J1dHRvbl9jbGlja193YXZfMSIsIl82NjEzNl9fYWppX19kaW5nMzA2MDNfc3BlZHVwX3dhdl8xIiwiZ2FtZSIsIl9hIiwiYnV0dG9uQ2xpY2tTb3VuZCIsIkF1ZGlvIiwiZGVmYXVsdCIsInJlc2V0U291bmQiLCJhY2NlcHRTb3VuZCIsInF1ZXVlVGFibGUiLCJ3b3JkUGFyYWdyYXBoIiwicHJldmlvdXNCdXR0b24iLCJuZXh0QnV0dG9uIiwibGV2ZWxUaXRsZSIsImxldmVsR3JvdXBMaXN0IiwibGV2ZWxEZXNjcmlwdGlvbiIsIndlbGNvbWVCZWdpbkJ1dHRvbiIsImxldmVsR3JvdXBzIiwicXVldWVUYWJsZUZpZWxkcyIsInN0YXRlRGlhZ3JhbSIsInNob3dNb2RhbCIsInNldFBRQSIsInBxYSIsInNldFF1ZXVlVGFibGUiLCJ1cGRhdGVQcmlvcml0eVF1ZXVlIiwidXBkYXRlV29yZCIsInNldEFjdGl2ZVN0YXRlIiwiZ2V0VHJhbnNpdGlvbklkeCIsImV2ZW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJoaXRSZWdpb24iLCJnZXRJbWFnZURhdGEiLCJvblN0YXRlSG92ZXIiLCJjdXJzb3IiLCJoaWRkZW4iLCJpbm5lckhUTUwiLCJzZXRRdWV1ZVRhYmxlSGVhZCIsInNldFF1ZXVlVGFibGVCb2R5IiwiY29sdW1uSGVhZGVycyIsImNyZWF0ZVRIZWFkIiwiaW5zZXJ0Um93IiwiaW5zZXJ0Q2VsbCIsIm91dGVySFRNTCIsInF1ZXVlU3ltYm9sIiwicXVldWVBbHBoYWJldCIsImNlbGwiLCJzY29wZSIsImJvZHkiLCJjcmVhdGVUQm9keSIsInByaW9yaXRpZXMiLCJyb3ciLCJoZWFkZXIiLCJpbm5lclRleHQiLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiZXJyb3IiLCJqb2luIiwiY3JlYXRlSW5Qcm9qZWN0aWxlIiwiZSIsInF1ZXVlSW5UeXBlIiwiaW5Qcm9qZWN0aWxlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsInRhcmdldEVsZW0iLCJwYXJzZUludCIsInRhcmdldCIsInByZXBlbmQiLCJsb2ciLCJhbmltYXRlIiwidHJhbnNmb3JtIiwiZHVyYXRpb24iLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY3JlYXRlT3V0UHJvamVjdGlsZSIsInF1ZXVlT3V0VHlwZSIsIm91dFByb2plY3RpbGUiLCJvblRyYW5zaXRpb25DbGlja2VkIiwicGxheSIsIm9uUmVzZXQiLCJvbkFjY2VwdCIsImFkZExldmVsIiwibGV2ZWxOYW1lIiwiZ3JvdXAiLCJpZCIsImdyb3VwRWxlbWVudCIsImFwcGVuZENoaWxkIiwibGlzdCIsImxpc3RFbGVtIiwiYnV0dG9uIiwib25jbGljayIsIkdhbWUiLCJpbnN0YW5jZSIsIm9uTGV2ZWxTZWxlY3QiLCJzZXRQcmV2TmV4dCIsInByZXYiLCJuZXh0IiwiZGlzYWJsZWQiLCJzZXRMZXZlbE5hbWUiLCJuYW1lIiwic2V0TGV2ZWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic2V0Rmlyc3RMZXZlbCIsImdhbWVVSV8xIiwiTGV2ZWxEYXRhXzEiLCJ1aSIsImxldmVsRGF0YSIsIkxldmVsRGF0YSIsImxvYWRQUUEiLCJjcmVhdGVQUUEiLCJvblN0YXRlQ2xpY2tlZCIsInJlc2V0Q3VycmVudFBRQSIsImdldExldmVsRGF0YSIsImdldFByZXZpb3VzIiwiZ2V0TmV4dCIsImdldE5hbWUiLCJnZXRMZXZlbERlc2NyaXB0aW9uIiwiUFFBRGF0YSIsIlBRQV8xIiwiSlNPTiIsInBhcnNlIiwiaW5wdXRBbHBoYWJldCIsImhpZGVRdWV1ZSIsIkFycmF5IiwiZnJvbSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIlBRQURhdGFfMSIsImxldmVsc19qc29uXzEiLCJmaXJzdExldmVsIiwiZ3JvdXBzIiwibGV2ZWxzIiwibG9hZExldmVscyIsIl9iIiwiX2MiLCJmZXRjaCIsInIiLCJ0ZXh0IiwibGV2ZWwiLCJwYXJzZWREYXRhIiwibWV0YWRhdGEiLCJncm91cEluZGV4IiwiZ3JvdXBOYW1lIiwiaWRzIiwiY29tcHJlc3NlZElkcyIsImZpbHRlciIsInByZXZJZCIsImN1cnJJZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRlc3QiLCJyZXBsYWNlIiwicCIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9