(()=>{"use strict";var t={36:(t,e)=>{function i(t){return`#${t.toString(16).padStart(6,"0")}`}Object.defineProperty(e,"__esModule",{value:!0}),e.StateDiagram=void 0,e.StateDiagram=class{constructor(){this.queueHidden=!1,this.scale=1,this.lastUpdateInfo=null,this.stateCanvas=document.getElementById("states"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.updateScale(),window.onresize=()=>{this.update(null,null)}}updateScale(){this.scale=(this.stateCanvas.getBoundingClientRect().width-4)/700,this.stateCanvas.width=700*this.scale,this.stateCanvas.height=500*this.scale,this.stateCanvas.style.height=500/700*(this.stateCanvas.getBoundingClientRect().width-4)+"px",this.hitRegionCanvas.height=500*this.scale,this.hitRegionCanvas.width=700*this.scale}update(t,e){if(this.updateScale(),null===t||null===e){if(null===this.lastUpdateInfo)return;t=this.lastUpdateInfo.data,e=this.lastUpdateInfo.activeState}this.clearCanvas(),this.drawTransitions(t),this.drawStates(e,t),this.lastUpdateInfo={data:t,activeState:e}}xTransform(t){return t*this.scale}yTransform(t){return t*this.scale}setQueueHidden(t){this.queueHidden=t}clearCanvas(){let t=this.stateCanvas.getContext("2d"),e=this.hitRegionCanvas.getContext("2d");t.clearRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.clearRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height),t.fillStyle="white",e.fillStyle="white",t.fillRect(0,0,this.stateCanvas.width,this.stateCanvas.height),e.fillRect(0,0,this.hitRegionCanvas.width,this.hitRegionCanvas.height)}canvas_arrow(t,e,i,s,n){e=this.xTransform(e),i=this.yTransform(i),s=this.xTransform(s),n=this.yTransform(n);let l=10*this.scale,o=s-e,a=n-i,r=Math.atan2(a,o);t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.lineTo(s-l*Math.cos(r-Math.PI/6),n-l*Math.sin(r-Math.PI/6)),t.moveTo(s,n),t.lineTo(s-l*Math.cos(r+Math.PI/6),n-l*Math.sin(r+Math.PI/6)),t.stroke(),t.closePath()}displayTransition(t){let e="";return null===t.input?e+="ε":e+=t.input,this.queueHidden||(e+=" : ",null===t.queueOut?e+="∅":e+=`(${t.queueOut.symbol}, ${t.queueOut.priority})`,e+=" ↦ ",null===t.queueIn?e+="∅":e+=`(${t.queueIn.symbol}, ${t.queueIn.priority})`),e}drawTransitions(t){let e=this.stateCanvas.getContext("2d"),s=this.hitRegionCanvas.getContext("2d"),n=0;e.strokeStyle="black";for(let{transition:l,path:o,labelPosition:a,labelAlign:r}of t.transitions){e.lineWidth=6*this.scale,e.beginPath();for(let{x:t,y:i}of o)e.lineTo(this.xTransform(t),this.yTransform(i));e.stroke(),e.closePath(),this.canvas_arrow(e,o[o.length-2].x,o[o.length-2].y,o[o.length-1].x,o[o.length-1].y),e.fillStyle="black",e.font=`${Math.round(16*this.scale)}px Arial`,e.textAlign=r,e.textBaseline="middle",e.fillText(this.displayTransition(l),this.xTransform(a.x),this.yTransform(a.y)),s.lineWidth=25*this.scale,s.strokeStyle=i(n),s.beginPath();for(let{x:t,y:e}of o)s.lineTo(this.xTransform(t),this.yTransform(e));s.stroke(),s.closePath(),n+=1}}drawStates(t,e){let i=this.stateCanvas.getContext("2d");for(let[s,{position:n,isAccepting:l}]of e.states)s===t?(i.fillStyle="yellow",i.strokeStyle="red"):(i.fillStyle="white",i.strokeStyle="black"),i.lineWidth=2*this.scale,i.beginPath(),i.arc(this.xTransform(n.x),this.yTransform(n.y),30*this.scale,0,2*Math.PI),i.fill(),i.stroke(),i.closePath(),i.beginPath(),l&&(i.arc(this.xTransform(n.x),this.yTransform(n.y),25*this.scale,0,2*Math.PI),i.stroke()),i.closePath(),i.fillStyle="black",i.font=`${Math.round(16*this.scale)}px Arial`,i.textAlign="center",i.textBaseline="middle"}}},142:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQARun=void 0;class i{constructor(t,e){this.mostRecentlyAddedElement=null,this.mostRecentlyRemovedElement=null,this.maxPriority=-1/0,this.queue=new Map,this.state=t.initialState,this.automaton=t,this.word=e}updateMaxPriority(){this.maxPriority=-1/0;for(let[t,e]of this.queue)for(let[i,s]of e)if(s>0&&t>this.maxPriority){this.maxPriority=t;break}}tryRemoveElement(t){if(t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return void 0!==i&&0!==i&&(e.set(t.symbol,i-1),1===i&&this.updateMaxPriority(),this.mostRecentlyRemovedElement=t,!0)}canRemoveElement(t){if(console.log(t,this.queue,this.maxPriority),t.priority<this.maxPriority)return!1;let e=this.queue.get(t.priority);if(void 0===e)return!1;let i=e.get(t.symbol);return!(void 0===i||0===i)}addElement(t){let e=this.queue.get(t.priority);void 0===e&&(e=new Map,this.queue.set(t.priority,e));let i=e.get(t.symbol);void 0===i&&(i=0),t.priority>this.maxPriority&&(this.maxPriority=t.priority),e.set(t.symbol,i+1),this.mostRecentlyAddedElement=t}tryRunTransition(t){if(this.mostRecentlyRemovedElement=null,this.mostRecentlyAddedElement=null,t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return e.stateFrom!==this.state?(console.warn(`From state ${e.stateFrom} is not ${this.state}`),!1):null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length?(console.warn(`Input ${e.input} does not match symbol ${this.word[this.word.length-1]}`),!1):null===e.queueOut||this.tryRemoveElement(e.queueOut)?(null!==e.input&&this.word.pop(),this.state=e.stateTo,null!==e.queueIn&&this.addElement(e.queueIn),!0):(console.warn(`Unable to remove element ${e.queueOut} from queue`),!1)}canRunTransition(t){if(t>=this.automaton.transitionCount||t<0)return!1;let e=this.automaton.transitions[t];return!(e.stateFrom!==this.state||null!==e.input&&this.word.length>0&&e.input!=this.word[this.word.length-1]||null!==e.input&&0===this.word.length||null!==e.queueOut&&!this.canRemoveElement(e.queueOut))}canAccept(){return 0===this.word.length&&this.automaton.acceptingStates.has(this.state)}getMostRecentlyAddedElement(){return this.mostRecentlyAddedElement}getMostRecentlyRemovedElement(){return this.mostRecentlyRemovedElement}}e.PQARun=class{generateTransitions(t){let e=[];for(let i of t){let t,s,n,l,o;if(null===i.input)t=null;else{let e=this.inputLookup.get(i.input);if(void 0===e)throw new Error(`Input ${i.input} not found in input alphabet`);t=e}if(null===i.queueIn)s=null;else{let t=this.queueLookup.get(i.queueIn.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueIn.symbol} not found in input alphabet`);s={symbol:t,priority:i.queueIn.priority}}if(null===i.queueOut)n=null;else{let t=this.queueLookup.get(i.queueOut.symbol);if(void 0===t)throw new Error(`Queue symbol ${i.queueOut.symbol} not found in input alphabet`);n={symbol:t,priority:i.queueOut.priority}}let a=this.stateLookup.get(i.stateFrom);if(void 0===a)throw new Error(`State ${i.stateFrom} not found in states`);l=a;let r=this.stateLookup.get(i.stateTo);if(void 0===r)throw new Error(`State ${i.stateTo} not found in states`);o=r,e.push({stateFrom:l,stateTo:o,input:t,queueIn:s,queueOut:n})}return e}constructor(t,e,s,n,l,o,a,r=null){this.originData=null,this.states=t,this.inputSymbols=e,this.queueSymbols=s,this.originData=r,this.stateLookup=new Map;for(let e=0;e<t.length;e++)this.stateLookup.set(t[e],e);this.inputLookup=new Map;for(let t=0;t<e.length;t++)this.inputLookup.set(e[t],t);this.queueLookup=new Map;for(let t=0;t<s.length;t++)this.queueLookup.set(s[t],t);if(!this.stateLookup.has(n))throw new Error(`Initial state ${n} not found in states`);let u=new Set;for(let t of l){let e=this.stateLookup.get(t);if(void 0===e)throw new Error(`Accepting state ${t} not found in states`);u.add(e)}let h=this.generateTransitions(o),d={stateCount:t.length,inputAlphabetCount:e.length,queueAlphabetCount:s.length,initialState:this.stateLookup.get(n),acceptingStates:u,transitionCount:o.length,transitions:h},c=[];for(let t of a){let e=this.inputLookup.get(t);if(void 0===e)throw new Error(`Input ${t} not found in input alphabet`);c.push(e)}this.runState=new i(d,c.reverse())}*transitions(){for(let t=0;t<this.runState.automaton.transitionCount;t++){let e,i,s,n=this.runState.automaton.transitions[t];e=null===n.input?null:this.inputSymbols[n.input],i=null===n.queueIn?null:{symbol:this.queueSymbols[n.queueIn.symbol],priority:n.queueIn.priority},s=null===n.queueOut?null:{symbol:this.queueSymbols[n.queueOut.symbol],priority:n.queueOut.priority};let l=this.states[n.stateFrom],o=this.states[n.stateTo];yield{index:t,value:{stateFrom:l,stateTo:o,input:e,queueIn:i,queueOut:s}}}}get state(){return this.states[this.runState.state]}get word(){let t=[];for(let e of this.runState.word)t.push(this.inputSymbols[e]);return t.reverse()}*queue(){for(let[t,e]of this.runState.queue)for(let[i,s]of e)yield{symbol:this.queueSymbols[i],priority:t,count:s}}tryTransition(t){return this.runState.tryRunTransition(t)}canRunTransition(t){return this.runState.canRunTransition(t)}tryTransitionRun(t){for(let e of t)if(!this.tryTransition(e))return!1;return!0}canAccept(){return this.runState.canAccept()}getMostRecentlyAddedElement(){let t=this.runState.getMostRecentlyAddedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}getMostRecentlyRemovedElement(){let t=this.runState.getMostRecentlyRemovedElement();if(null===t)return null;let{symbol:e,priority:i}=t;return{symbol:this.queueSymbols[e],priority:i}}}},156:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(468);i(914);const l=s(i(407));!function(){var t,e,i;new n.Game,null===(t=document.getElementById("states"))||void 0===t||t.addEventListener("click",t=>{var e;null===(e=n.Game.instance)||void 0===e||e.onStateClicked(t)}),null===(e=document.getElementById("states"))||void 0===e||e.addEventListener("mousemove",t=>{var e;null===(e=n.Game.instance)||void 0===e||e.onStateHover(t)});let s=new Image;s.src=l.default,null===(i=document.getElementById("github-icon"))||void 0===i||i.appendChild(s)}(),window.Game=n.Game},186:(t,e,i)=>{t.exports=i.p+"assets/87aceaa0385aaf2e36f0-levels.json"},407:(t,e,i)=>{t.exports=i.p+"assets/6fa18895f6e6c7772cab-github-mark.svg"},442:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameUI=void 0;const n=i(468),l=i(36),o=s(i(944)),a=s(i(635)),r=s(i(851));e.GameUI=class{constructor(t){var e;this.data=null,this.queueHidden=!1,this.buttonClickSound=new Audio(o.default),this.resetSound=new Audio(a.default),this.acceptSound=new Audio(r.default),this.stateCanvas=document.getElementById("states"),this.queueTable=document.getElementById("queue"),this.hitRegionCanvas=document.getElementById("stateHitRegion"),this.wordParagraph=document.getElementById("word"),this.previousButton=document.getElementById("prev"),this.nextButton=document.getElementById("next"),this.levelTitle=document.getElementById("level_name"),this.levelGroupList=document.getElementById("levels"),this.levelDescription=document.getElementById("level_description"),this.welcomeBeginButton=document.getElementById("welcome_begin_button"),this.levelGroups=new Map,this.queueTableFields=new Map,this.levels=new Map,this.game=t,this.stateDiagram=new l.StateDiagram,this.stateDiagram.clearCanvas(),null===(e=document.getElementById("game_start"))||void 0===e||e.showModal()}setPQA(t,e=!0){var i;if(null===t.originData)throw new Error("PQA has no origin data, unable to construct UI");let s=t.originData;this.data=s,this.setQueueTable(s),this.updatePriorityQueue(t.queue()),this.updateWord(t.word),this.setActiveState(t.state),!(null===(i=document.getElementById("game_start"))||void 0===i?void 0:i.open)&&e&&this.showDescription()}showDescription(){var t,e;null===(t=document.getElementById("description"))||void 0===t||t.showModal(),null===(e=document.getElementById("description"))||void 0===e||e.scrollTo(0,0)}getTransitionIdx(t){let e=t.offsetX,i=t.offsetY,s=this.hitRegionCanvas.getContext("2d").getImageData(e,i,1,1).data;return 256*s[0]*256+256*s[1]+s[2]}onStateHover(t,e){let i=t.offsetX,s=t.offsetY;this.hitRegionCanvas.getContext("2d").getImageData(i,s,1,1).data[0]<96?e.canRunTransition(this.getTransitionIdx(t))?this.stateCanvas.style.cursor="pointer":this.stateCanvas.style.cursor="not-allowed":this.stateCanvas.style.cursor="default"}setQueueTable(t){if(t.queueHidden)return this.queueTable.hidden=!0,this.queueHidden=!0,void this.stateDiagram.setQueueHidden(!0);this.queueTable.hidden=!1,this.queueHidden=!1,this.stateDiagram.setQueueHidden(!1),this.queueTable.innerHTML="",this.setQueueTableHead(t),this.setQueueTableBody(t)}setQueueTableHead(t){let e=this.queueTable.createTHead().insertRow();e.insertCell().outerHTML="<th>Priorities</th>";for(let i of t.queueAlphabet){let t=e.insertCell();t.outerHTML=`<th>${i}</th>`,t.scope="col"}}setQueueTableBody(t){let e=this.queueTable.createTBody();for(let i of t.priorities){let s=e.insertRow(),n=s.insertCell();n.outerHTML=`<th>${i}</th>`,n.scope="row";for(let e of t.queueAlphabet){let t=s.insertCell();this.queueTableFields.set([e,i].toString(),t)}}}updatePriorityQueue(t){if(!this.queueTable.hidden)for(let{symbol:e,priority:i,count:s}of t)this.queueTableFields.get([e,i].toString()).innerText=0===s?"":s.toString()}showError(t){console.error(t)}setActiveState(t){this.stateDiagram.update(this.data,t)}updateWord(t){this.wordParagraph.innerText=t.join(" ")}createInProjectile(t){let e=this.game.getMostRecentlyAddedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString());s.innerText=(parseInt(s.innerText)-1).toString(),"0"===s.innerText&&(s.innerText="");let n=s.getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,n.x,n.y),i.animate([{transform:`translate(${t.x}px, ${t.y}px)`},{transform:`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`}],{duration:200}),setTimeout(()=>{""===s.innerText&&(s.innerText="0"),s.innerText=(1+parseInt(s.innerText)).toString(),i.style.transform=`translate(${n.x+.5*n.width}px, ${n.y+.5*n.height}px)`},200),setTimeout(()=>{i.remove()},300)}createOutProjectile(t){let e=this.game.getMostRecentlyRemovedElement();if(null===e)return;let i=document.createElement("div");i.classList.add("projectile","red");let s=this.queueTableFields.get([e.symbol,e.priority].toString()).getBoundingClientRect();document.body.prepend(i),console.log(t.x,t.y,s.x,s.y),i.animate([{transform:`translate(${s.x+.5*s.width}px, ${s.y+.5*s.height}px)`},{transform:`translate(${t.x}px, ${t.y}px)`}],{duration:200}),setTimeout(()=>{i.style.transform=`translate(${t.x}px, ${t.y}px)`},200),setTimeout(()=>{i.remove()},300)}onTransitionClicked(t){this.buttonClickSound.play(),this.createInProjectile(t),this.createOutProjectile(t)}onReset(){this.resetSound.play().then(()=>{})}onAccept(){this.acceptSound.play().then(()=>{}),document.getElementById("accepted").showModal()}addLevel(t,e,i){if(!this.levelGroups.has(e)){let t=document.createElement("li"),i=document.createElement("h2");i.innerText=e,t.appendChild(i);let s=document.createElement("ol");t.appendChild(s),this.levelGroupList.appendChild(t),this.levelGroups.set(e,s)}let s=this.levelGroups.get(e),l=document.createElement("li"),o=document.createElement("button");o.innerText=t,o.onclick=()=>{var t;null===(t=n.Game.instance)||void 0===t||t.onLevelSelect(i)},l.appendChild(o),this.levels.set(i,o),s.appendChild(l)}setPrevNext(t,e){null===t?(this.previousButton.disabled=!0,this.previousButton.value=""):(this.previousButton.disabled=!this.game.levelData.isLevelUnlocked(t),this.previousButton.value=t),null===e?(this.nextButton.disabled=!0,this.nextButton.value=""):(this.nextButton.disabled=!this.game.levelData.isLevelUnlocked(e),this.nextButton.value=e)}setLevelName(t){this.levelTitle.innerText=t}setLevelDescription(t){this.levelDescription.innerHTML=t}setFirstLevel(t){this.welcomeBeginButton.onclick=()=>{var e;null===(e=n.Game.instance)||void 0===e||e.onLevelSelect(t)},this.game.onLevelSelect(t)}setUnlockedLevels(t){for(let t of this.levels.values())t.disabled=!0;this.previousButton.disabled=!0,this.nextButton.disabled=!0;for(let e of t)this.previousButton.value===e&&(this.previousButton.disabled=!1),this.nextButton.value===e&&(this.nextButton.disabled=!1),this.levels.has(e)&&(this.levels.get(e).disabled=!1)}setCurrentLevel(t){for(let t of this.levels.values())t.classList.remove("current");this.levels.has(t)&&this.levels.get(t).classList.add("current")}}},468:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const s=i(442),n=i(582);class l{constructor(){this.nextLevel=null,this.ui=new s.GameUI(this),this.levelData=new n.LevelData(this.ui),this.pqa=null,l.instance=this,this.hasAccepted=!1}loadPQA(t,e=!0){this.pqa=t.createPQA(),this.hasAccepted=!1,this.ui.setPQA(this.pqa,e)}onStateHover(t){this.ui.onStateHover(t,this)}onStateClicked(t){var e;let i=this.ui.getTransitionIdx(t);i>=6291456||(this.tryRunTransition(i)&&this.ui.onTransitionClicked(t),this.onStateHover(t),(null===(e=this.pqa)||void 0===e?void 0:e.canAccept())&&!this.hasAccepted&&(this.ui.onAccept(),null!==this.nextLevel&&this.levelData.unlockLevel(this.nextLevel),this.hasAccepted=!0))}tryRunTransition(t){let e;if(null===this.pqa)return this.ui.showError("No PQA loaded"),!1;e=this.pqa;let i=e.tryTransition(t);return i||this.ui.showError("Unable to run transition"),this.ui.setActiveState(e.state),this.ui.updatePriorityQueue(e.queue()),this.ui.updateWord(e.word),i}canRunTransition(t){let e;return null!==this.pqa&&(e=this.pqa,e.canRunTransition(t))}resetCurrentPQA(){var t;let e=null===(t=this.pqa)||void 0===t?void 0:t.originData;null!=e&&this.loadPQA(e,!1),this.ui.onReset()}getMostRecentlyAddedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyAddedElement()}getMostRecentlyRemovedElement(){return null===this.pqa?null:this.pqa.getMostRecentlyRemovedElement()}onLevelSelect(t){if(""===t)return;let e=this.levelData.getLevelData(t),i=this.levelData.getPrevious(t),s=this.levelData.getNext(t),n=this.levelData.getName(t),l=this.levelData.getLevelDescription(t);this.ui.setPrevNext(i,s),this.nextLevel=s,this.ui.setLevelName(n),this.ui.setLevelDescription(l),this.ui.setCurrentLevel(t),this.loadPQA(e)}resetProgress(){localStorage.removeItem("unlockedLevels"),window.location.reload()}}e.Game=l,l.instance=null},574:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PQAData=void 0;const s=i(142);e.PQAData=class{constructor(t){var e,i,s,n,l;let o;o="string"==typeof t?JSON.parse(t):t,this.states=new Map;for(let t of o.states)this.states.set(t.name,{position:{x:t.position.x,y:t.position.y},isAccepting:t.isAccepting});this.inputAlphabet=new Set;for(let t of o.inputAlphabet)this.inputAlphabet.add(t);this.queueAlphabet=new Set;for(let t of o.queueAlphabet)this.queueAlphabet.add(t);this.transitions=[];for(let t of o.transitions){let l=t.stateFrom,o=t.stateTo;if(!this.states.has(l))throw new Error(`State ${l} not found in states`);if(!this.states.has(o))throw new Error(`State ${o} not found in states`);let a=t.input;if(null!==a&&!this.inputAlphabet.has(a))throw new Error(`Input Symbol ${a} is not valid`);let r,u=t.queueIn,h=t.queueOut;if(null!==u&&!this.queueAlphabet.has(u.symbol))throw new Error(`Queue Symbol ${u.symbol} is not valid`);if(null!==h&&!this.queueAlphabet.has(h.symbol))throw new Error(`Queue Symbol ${h.symbol} is not valid`);r=void 0!==(null===(e=t.path)||void 0===e?void 0:e.offset)||void 0===t.path?[{state:l,offset:null===(i=t.path)||void 0===i?void 0:i.offset},{state:o,offset:null===(s=t.path)||void 0===s?void 0:s.offset}]:t.path;let d=this.createPath(r),c=this.createLabelPosition(t.labelPosition,d),p=null!==(n=t.labelAlign)&&void 0!==n?n:"left";this.transitions.push({transition:{stateFrom:l,stateTo:o,input:a,queueIn:u,queueOut:h},path:d,labelPosition:c,labelAlign:p})}if(!this.states.has(o.initialState))throw new Error(`Initial state ${o.initialState} not found in states`);this.initialState=o.initialState,this.word=o.word,this.priorities=[];for(let t of o.priorities)this.priorities.push(t);this.queueHidden=null!==(l=o.hideQueue)&&void 0!==l&&l}createLabelPosition(t,e){if(void 0===t.angle)return t;let i,s=(e[0].x+e[e.length-1].x)/2,n=(e[0].y+e[e.length-1].y)/2;if("number"==typeof t.angle)i=t.angle;else switch(t.angle){case"N":i=90;break;case"NE":i=45;break;case"E":i=0;break;case"SE":i=-45;break;case"S":i=-90;break;case"SW":i=-135;break;case"W":i=180;break;case"NW":i=135;break;default:throw new Error(`Invalid angle ${t.angle}`)}return i=-i/360*2*Math.PI,{x:s+20*Math.cos(i),y:n+20*Math.sin(i)}}createPath(t){var e,i,s,n;let l=[];for(let s of t)if(void 0!==s.state){if(!this.states.has(s.state))throw new Error(`State ${s} not found in states`);l.push(null!==(i=null===(e=this.states.get(s.state))||void 0===e?void 0:e.position)&&void 0!==i?i:{x:0,y:0})}else l.push(s);if(t.length>1){let e,i=t[0];if(void 0!==i.state){let t=null!==(s=i.offset)&&void 0!==s?s:0,n=l[0],o=l[1],a=Math.sqrt((n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y)),r=(Math.sqrt(900-t*t)-2)/a;e={x:n.x+(n.y-o.y)*t/a+r*(o.x-n.x),y:n.y+(o.x-n.x)*t/a+r*(o.y-n.y)}}else e=l[0];let o,a=t[t.length-1];if(void 0!==a.state){let e=null!==(n=a.offset)&&void 0!==n?n:0,i=l[t.length-2],s=l[t.length-1],r=Math.sqrt((i.x-s.x)*(i.x-s.x)+(i.y-s.y)*(i.y-s.y)),u=1-(Math.sqrt(900-e*e)+2)/r;o={x:i.x+(i.y-s.y)*e/r+u*(s.x-i.x),y:i.y+(s.x-i.x)*e/r+u*(s.y-i.y)}}else o=l[t.length-1];l[0]=e,l[t.length-1]=o}return l}createPQA(){let t=[],e=new Set;for(let[i,{isAccepting:s}]of this.states)s&&e.add(i),t.push(i);let i=Array.from(this.inputAlphabet),n=Array.from(this.queueAlphabet),l=this.initialState,o=[];for(let{transition:t}of this.transitions)o.push(t);return new s.PQARun(t,i,n,l,e,o,this.word,this)}}},582:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,l){function o(t){try{r(s.next(t))}catch(t){l(t)}}function a(t){try{r(s.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}r((s=s.apply(t,e||[])).next())})},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LevelData=void 0;const l=i(574),o=n(i(186));e.LevelData=class{constructor(t){var e;this.groups=new Map,this.levels=new Map,this.firstLevel=null,this.ui=t,this.unlockedLevels=new Set(JSON.parse(null!==(e=localStorage.getItem("unlockedLevels"))&&void 0!==e?e:"[]")),this.loadLevels().then(()=>{null!==this.firstLevel&&this.unlockLevel(this.firstLevel),this.ui.setUnlockedLevels(this.unlockedLevels)})}loadLevels(){return s(this,void 0,void 0,function*(){var t,e,i;let{groups:s,levels:n}=yield window.fetch(o.default).then(t=>t.text()).then(t=>JSON.parse(t));for(let e of n){let i=e,s=new l.PQAData(i),n=i.metadata.name.toString(),o=i.metadata.group.toString(),a=i.metadata.id.toString(),r=null!==(t=i.metadata.description)&&void 0!==t?t:"";this.groups.has(o)||this.groups.set(o,[]);let u=i.metadata.groupIndex;this.groups.get(o)[u]=a,this.levels.set(a,{data:s,group:o,name:n,prev:null,next:null,description:r})}for(let[t,e]of this.groups){let i=e.filter(t=>void 0!==t);this.groups.set(t,i)}s.length>0&&(this.firstLevel=null!==(i=null===(e=this.groups.get(s[0]))||void 0===e?void 0:e[0])&&void 0!==i?i:null),null!==this.firstLevel&&this.ui.setFirstLevel(this.firstLevel);let a=null,r=null;for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e)void 0!==t&&(null!==r&&(this.levels.get(r).next=t,this.levels.get(r).prev=a),a=r,r=t)}null!==r&&(this.levels.get(r).next=null,this.levels.get(r).prev=a);for(let t of s){let e=this.groups.get(t);if(void 0!==e)for(let t of e){if(void 0===t)continue;let{group:e,name:i}=this.levels.get(t);this.ui.addLevel(i,e,t)}}})}getLevelData(t){return this.levels.get(t).data}getPrevious(t){return this.levels.get(t).prev}getNext(t){return this.levels.get(t).next}getName(t){return this.levels.get(t).name}getLevelDescription(t){return this.levels.get(t).description}unlockLevel(t){this.unlockedLevels.add(t);let e=Array.from(this.unlockedLevels);localStorage.setItem("unlockedLevels",JSON.stringify(e)),this.ui.setUnlockedLevels(this.unlockedLevels)}isLevelUnlocked(t){return this.unlockedLevels.has(t)}}},635:(t,e,i)=>{t.exports=i.p+"assets/d06d771a9dc497567ad7-54405__korgms2000b__button-click.wav"},851:(t,e,i)=>{t.exports=i.p+"assets/2aca5f35d51e7fefb3e2-66136__aji__ding30603-spedup.wav"},914:(t,e,i)=>{i.r(e)},944:(t,e,i)=>{t.exports=i.p+"assets/b991bc8c7c11af001edf-219069__annabloom__click1.wav"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,i),l.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var n=s.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=s[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVwRSxTQUFXLElBQ3RGLElBQUk3UixFQUFXMlYsRUFBb0JNLEVBQUVqVyxTQUNyQyxJQUFLc1csR0FBYXRXLElBQ2JBLEVBQVN3VyxlQUFrRSxXQUFqRHhXLEVBQVN3VyxjQUFjQyxRQUFRQyxnQkFDNURKLEVBQVl0VyxFQUFTd1csY0FBY2hOLE1BQy9COE0sR0FBVyxDQUNmLElBQUlLLEVBQVUzVyxFQUFTNFcscUJBQXFCLFVBQzVDLEdBQUdELEVBQVE3UyxPQUVWLElBREEsSUFBSTZELEVBQUlnUCxFQUFRN1MsT0FBUyxFQUNsQjZELEdBQUssS0FBTzJPLElBQWMsYUFBYU8sS0FBS1AsS0FBYUEsRUFBWUssRUFBUWhQLEtBQUs2QixHQUUzRixDQUlELElBQUs4TSxFQUFXLE1BQU0sSUFBSXBQLE1BQU0seURBQ2hDb1AsRUFBWUEsRUFBVVEsUUFBUSxTQUFVLElBQUlBLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQzFHbkIsRUFBb0JvQixFQUFJVCxDLEtDZkVYLEVBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9TdGF0ZURpYWdyYW0udHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvUFFBLnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL2dhbWVVSS50cyIsIndlYnBhY2s6Ly9wcWFfZ2FtZS8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL3BxYV9nYW1lLy4vc3JjL1BRQURhdGEudHMiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvLi9zcmMvTGV2ZWxEYXRhLnRzIiwid2VicGFjazovL3BxYV9nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BxYV9nYW1lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vcHFhX2dhbWUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wcWFfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9wcWFfZ2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXRlRGlhZ3JhbSA9IHZvaWQgMDtcbmZ1bmN0aW9uIHRvSGV4Q29kZShuKSB7XG4gICAgcmV0dXJuIGAjJHtuLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCBcIjBcIil9YDtcbn1cbmNsYXNzIFN0YXRlRGlhZ3JhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDEuMDtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKTtcbiAgICAgICAgdGhpcy5oaXRSZWdpb25DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlSGl0UmVnaW9uXCIpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlKCk7XG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKG51bGwsIG51bGwpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGVTY2FsZSgpIHtcbiAgICAgICAgdGhpcy5zY2FsZSA9ICh0aGlzLnN0YXRlQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gNCkgLyA3MDA7IC8vIEl0IHdhcyBpbml0aWFsbHkgNzAwcHggc28gd2UgYXJlIG5vdyBzdHVjayB3aXRoIHRoaXMgYXMgYSBiYXNlbGluZVxuICAgICAgICAvLyB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMud2lkdGggPSA3MDAgKiB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7NTAwIC8gNzAwICogKHRoaXMuc3RhdGVDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSA0KX1weGA7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzLmhlaWdodCA9IDUwMCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoID0gNzAwICogdGhpcy5zY2FsZTtcbiAgICB9XG4gICAgdXBkYXRlKHBxYURhdGEsIGFjdGl2ZVN0YXRlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2NhbGUoKTtcbiAgICAgICAgaWYgKHBxYURhdGEgPT09IG51bGwgfHwgYWN0aXZlU3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHFhRGF0YSA9IHRoaXMubGFzdFVwZGF0ZUluZm8uZGF0YTtcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGF0ZSA9IHRoaXMubGFzdFVwZGF0ZUluZm8uYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpO1xuICAgICAgICB0aGlzLmRyYXdUcmFuc2l0aW9ucyhwcWFEYXRhKTtcbiAgICAgICAgdGhpcy5kcmF3U3RhdGVzKGFjdGl2ZVN0YXRlLCBwcWFEYXRhKTtcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlSW5mbyA9IHsgZGF0YTogcHFhRGF0YSwgYWN0aXZlU3RhdGU6IGFjdGl2ZVN0YXRlIH07XG4gICAgfVxuICAgIHhUcmFuc2Zvcm0oeCkge1xuICAgICAgICByZXR1cm4geCAqIHRoaXMuc2NhbGU7XG4gICAgfVxuICAgIHlUcmFuc2Zvcm0oeSkge1xuICAgICAgICByZXR1cm4geSAqIHRoaXMuc2NhbGU7XG4gICAgfVxuICAgIHNldFF1ZXVlSGlkZGVuKHF1ZXVlSGlkZGVuKSB7XG4gICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSBxdWV1ZUhpZGRlbjtcbiAgICB9XG4gICAgY2xlYXJDYW52YXMoKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5zdGF0ZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBoaXRDb250ZXh0ID0gdGhpcy5oaXRSZWdpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnN0YXRlQ2FudmFzLndpZHRoLCB0aGlzLnN0YXRlQ2FudmFzLmhlaWdodCk7XG4gICAgICAgIGhpdENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgaGl0Q29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5zdGF0ZUNhbnZhcy53aWR0aCwgdGhpcy5zdGF0ZUNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBoaXRDb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuaGl0UmVnaW9uQ2FudmFzLndpZHRoLCB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICAvLyBUYWtlbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzgwODgyNi9kcmF3aW5nLWFuLWFycm93LXVzaW5nLWh0bWwtY2FudmFzXG4gICAgY2FudmFzX2Fycm93KGNvbnRleHQsIGZyb214LCBmcm9teSwgdG94LCB0b3kpIHtcbiAgICAgICAgZnJvbXggPSB0aGlzLnhUcmFuc2Zvcm0oZnJvbXgpO1xuICAgICAgICBmcm9teSA9IHRoaXMueVRyYW5zZm9ybShmcm9teSk7XG4gICAgICAgIHRveCA9IHRoaXMueFRyYW5zZm9ybSh0b3gpO1xuICAgICAgICB0b3kgPSB0aGlzLnlUcmFuc2Zvcm0odG95KTtcbiAgICAgICAgbGV0IGhlYWRsZW4gPSAxMCAqIHRoaXMuc2NhbGU7IC8vIGxlbmd0aCBvZiBoZWFkIGluIHBpeGVsc1xuICAgICAgICBsZXQgZHggPSB0b3ggLSBmcm9teDtcbiAgICAgICAgbGV0IGR5ID0gdG95IC0gZnJvbXk7XG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oZnJvbXgsIGZyb215KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG94LCB0b3kpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh0b3ggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNiksIHRveSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA2KSk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRveCwgdG95KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG94IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDYpLCB0b3kgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJIC8gNikpO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgICBkaXNwbGF5VHJhbnNpdGlvbih0cmFuc2l0aW9uKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5pbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICfOtSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdHJhbnNpdGlvbi5pbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWV1ZUhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gXCIgOiBcIjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVPdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAn4oiFJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBgKCR7dHJhbnNpdGlvbi5xdWV1ZU91dC5zeW1ib2x9LCAke3RyYW5zaXRpb24ucXVldWVPdXQucHJpb3JpdHl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IFwiIOKGpiBcIjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVJbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICfiiIUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGAoJHt0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sfSwgJHt0cmFuc2l0aW9uLnF1ZXVlSW4ucHJpb3JpdHl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZHJhd1RyYW5zaXRpb25zKGRhdGEpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLnN0YXRlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IGhpdENvbnRleHQgPSB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uSW5kZXggPSAwO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICBmb3IgKGxldCB7IHRyYW5zaXRpb24sIHBhdGgsIGxhYmVsUG9zaXRpb24sIGxhYmVsQWxpZ24gfSBvZiBkYXRhLnRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDYgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgeCwgeSB9IG9mIHBhdGgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLnhUcmFuc2Zvcm0oeCksIHRoaXMueVRyYW5zZm9ybSh5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzX2Fycm93KGNvbnRleHQsIHBhdGhbcGF0aC5sZW5ndGggLSAyXS54LCBwYXRoW3BhdGgubGVuZ3RoIC0gMl0ueSwgcGF0aFtwYXRoLmxlbmd0aCAtIDFdLngsIHBhdGhbcGF0aC5sZW5ndGggLSAxXS55KTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7TWF0aC5yb3VuZCgxNiAqIHRoaXMuc2NhbGUpfXB4IEFyaWFsYDtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gbGFiZWxBbGlnbjtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5kaXNwbGF5VHJhbnNpdGlvbih0cmFuc2l0aW9uKSwgdGhpcy54VHJhbnNmb3JtKGxhYmVsUG9zaXRpb24ueCksIHRoaXMueVRyYW5zZm9ybShsYWJlbFBvc2l0aW9uLnkpKTtcbiAgICAgICAgICAgIGhpdENvbnRleHQubGluZVdpZHRoID0gMjUgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5zdHJva2VTdHlsZSA9IHRvSGV4Q29kZSh0cmFuc2l0aW9uSW5kZXgpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgeCwgeSB9IG9mIHBhdGgpIHtcbiAgICAgICAgICAgICAgICBoaXRDb250ZXh0LmxpbmVUbyh0aGlzLnhUcmFuc2Zvcm0oeCksIHRoaXMueVRyYW5zZm9ybSh5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoaXRDb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25JbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXdTdGF0ZXMoYWN0aXZlU3RhdGUsIGRhdGEpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLnN0YXRlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgZm9yIChsZXQgW3N0YXRlLCB7IHBvc2l0aW9uLCBpc0FjY2VwdGluZyB9XSBvZiBkYXRhLnN0YXRlcykge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBhY3RpdmVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ5ZWxsb3dcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDIgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHRoaXMueFRyYW5zZm9ybShwb3NpdGlvbi54KSwgdGhpcy55VHJhbnNmb3JtKHBvc2l0aW9uLnkpLCAzMCAqIHRoaXMuc2NhbGUsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgaWYgKGlzQWNjZXB0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy54VHJhbnNmb3JtKHBvc2l0aW9uLngpLCB0aGlzLnlUcmFuc2Zvcm0ocG9zaXRpb24ueSksIDI1ICogdGhpcy5zY2FsZSwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBgJHtNYXRoLnJvdW5kKDE2ICogdGhpcy5zY2FsZSl9cHggQXJpYWxgO1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgLy8gY29udGV4dC5maWxsVGV4dChzdGF0ZSwgdGhpcy54VHJhbnNmb3JtKHBvc2l0aW9uLngpLCB0aGlzLnlUcmFuc2Zvcm0ocG9zaXRpb24ueSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TdGF0ZURpYWdyYW0gPSBTdGF0ZURpYWdyYW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUFFBUnVuID0gdm9pZCAwO1xuY2xhc3MgUnVuU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGF1dG9tYXRvbiwgd29yZCkge1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1heFByaW9yaXR5ID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gYXV0b21hdG9uLmluaXRpYWxTdGF0ZTtcbiAgICAgICAgdGhpcy5hdXRvbWF0b24gPSBhdXRvbWF0b247XG4gICAgICAgIHRoaXMud29yZCA9IHdvcmQ7XG4gICAgfVxuICAgIHVwZGF0ZU1heFByaW9yaXR5KCkge1xuICAgICAgICB0aGlzLm1heFByaW9yaXR5ID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBbcHJpb3JpdHksIG1hcF0gb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgW18sIGNvdW50XSBvZiBtYXApIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwICYmIHByaW9yaXR5ID4gdGhpcy5tYXhQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heFByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnlSZW1vdmVFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgaWYgKGVsZW0ucHJpb3JpdHkgPCB0aGlzLm1heFByaW9yaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hcCA9IHRoaXMucXVldWUuZ2V0KGVsZW0ucHJpb3JpdHkpO1xuICAgICAgICBpZiAobWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBtYXAuZ2V0KGVsZW0uc3ltYm9sKTtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQgfHwgY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBtYXAuc2V0KGVsZW0uc3ltYm9sLCBjb3VudCAtIDEpO1xuICAgICAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF4UHJpb3JpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50ID0gZWxlbTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhblJlbW92ZUVsZW1lbnQoZWxlbSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlbGVtLCB0aGlzLnF1ZXVlLCB0aGlzLm1heFByaW9yaXR5KTtcbiAgICAgICAgaWYgKGVsZW0ucHJpb3JpdHkgPCB0aGlzLm1heFByaW9yaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hcCA9IHRoaXMucXVldWUuZ2V0KGVsZW0ucHJpb3JpdHkpO1xuICAgICAgICBpZiAobWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBtYXAuZ2V0KGVsZW0uc3ltYm9sKTtcbiAgICAgICAgcmV0dXJuICEoY291bnQgPT09IHVuZGVmaW5lZCB8fCBjb3VudCA9PT0gMCk7XG4gICAgfVxuICAgIGFkZEVsZW1lbnQoZWxlbSkge1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5xdWV1ZS5nZXQoZWxlbS5wcmlvcml0eSk7XG4gICAgICAgIGlmIChtYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zZXQoZWxlbS5wcmlvcml0eSwgbWFwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBtYXAuZ2V0KGVsZW0uc3ltYm9sKTtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbS5wcmlvcml0eSA+IHRoaXMubWF4UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMubWF4UHJpb3JpdHkgPSBlbGVtLnByaW9yaXR5O1xuICAgICAgICB9XG4gICAgICAgIG1hcC5zZXQoZWxlbS5zeW1ib2wsIGNvdW50ICsgMSk7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5QWRkZWRFbGVtZW50ID0gZWxlbTtcbiAgICB9XG4gICAgdHJ5UnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSB7XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uSWR4ID49IHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25Db3VudCB8fCB0cmFuc2l0aW9uSWR4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFuc2l0aW9uID0gdGhpcy5hdXRvbWF0b24udHJhbnNpdGlvbnNbdHJhbnNpdGlvbklkeF07XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnN0YXRlRnJvbSAhPT0gdGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGcm9tIHN0YXRlICR7dHJhbnNpdGlvbi5zdGF0ZUZyb219IGlzIG5vdCAke3RoaXMuc3RhdGV9YCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsICYmIHRoaXMud29yZC5sZW5ndGggPiAwICYmIHRyYW5zaXRpb24uaW5wdXQgIT0gdGhpcy53b3JkW3RoaXMud29yZC5sZW5ndGggLSAxXSkgfHwgKHRyYW5zaXRpb24uaW5wdXQgIT09IG51bGwgJiYgdGhpcy53b3JkLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW5wdXQgJHt0cmFuc2l0aW9uLmlucHV0fSBkb2VzIG5vdCBtYXRjaCBzeW1ib2wgJHt0aGlzLndvcmRbdGhpcy53b3JkLmxlbmd0aCAtIDFdfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlT3V0ICE9PSBudWxsICYmICF0aGlzLnRyeVJlbW92ZUVsZW1lbnQodHJhbnNpdGlvbi5xdWV1ZU91dCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5hYmxlIHRvIHJlbW92ZSBlbGVtZW50ICR7dHJhbnNpdGlvbi5xdWV1ZU91dH0gZnJvbSBxdWV1ZWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2l0aW9uLmlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLndvcmQucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRyYW5zaXRpb24uc3RhdGVUbztcbiAgICAgICAgaWYgKHRyYW5zaXRpb24ucXVldWVJbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KHRyYW5zaXRpb24ucXVldWVJbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSB0aGlzLmF1dG9tYXRvbi50cmFuc2l0aW9uQ291bnQgfHwgdHJhbnNpdGlvbklkeCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhbnNpdGlvbiA9IHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25zW3RyYW5zaXRpb25JZHhdO1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5zdGF0ZUZyb20gIT09IHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRyYW5zaXRpb24uaW5wdXQgIT09IG51bGwgJiYgdGhpcy53b3JkLmxlbmd0aCA+IDAgJiYgdHJhbnNpdGlvbi5pbnB1dCAhPSB0aGlzLndvcmRbdGhpcy53b3JkLmxlbmd0aCAtIDFdKSB8fCAodHJhbnNpdGlvbi5pbnB1dCAhPT0gbnVsbCAmJiB0aGlzLndvcmQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKHRyYW5zaXRpb24ucXVldWVPdXQgIT09IG51bGwgJiYgIXRoaXMuY2FuUmVtb3ZlRWxlbWVudCh0cmFuc2l0aW9uLnF1ZXVlT3V0KSk7XG4gICAgfVxuICAgIGNhbkFjY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29yZC5sZW5ndGggPT09IDAgJiYgdGhpcy5hdXRvbWF0b24uYWNjZXB0aW5nU3RhdGVzLmhhcyh0aGlzLnN0YXRlKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQ7XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudDtcbiAgICB9XG59XG4vLyBub2luc3BlY3Rpb24gTm9uQXNjaWlDaGFyYWN0ZXJzXG5jbGFzcyBQUUFSdW4ge1xuICAgIGdlbmVyYXRlVHJhbnNpdGlvbnModHJhbnNpdGlvbnMpIHtcbiAgICAgICAgbGV0IHRyYW5zaXRpb25zSWR4cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB0cmFuc2l0aW9uIG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0LCBzdGF0ZUZyb20sIHN0YXRlVG87XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5pbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmlucHV0TG9va3VwLmdldCh0cmFuc2l0aW9uLmlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke3RyYW5zaXRpb24uaW5wdXR9IG5vdCBmb3VuZCBpbiBpbnB1dCBhbHBoYWJldGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dCA9IHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlSW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZUluID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLnF1ZXVlTG9va3VwLmdldCh0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBzeW1ib2wgJHt0cmFuc2l0aW9uLnF1ZXVlSW4uc3ltYm9sfSBub3QgZm91bmQgaW4gaW5wdXQgYWxwaGFiZXRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWVJbiA9IHsgc3ltYm9sOiByZXMsIHByaW9yaXR5OiB0cmFuc2l0aW9uLnF1ZXVlSW4ucHJpb3JpdHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLnF1ZXVlT3V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcXVldWVPdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMucXVldWVMb29rdXAuZ2V0KHRyYW5zaXRpb24ucXVldWVPdXQuc3ltYm9sKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWV1ZSBzeW1ib2wgJHt0cmFuc2l0aW9uLnF1ZXVlT3V0LnN5bWJvbH0gbm90IGZvdW5kIGluIGlucHV0IGFscGhhYmV0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlT3V0ID0geyBzeW1ib2w6IHJlcywgcHJpb3JpdHk6IHRyYW5zaXRpb24ucXVldWVPdXQucHJpb3JpdHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtYXliZVN0YXRlRnJvbSA9IHRoaXMuc3RhdGVMb29rdXAuZ2V0KHRyYW5zaXRpb24uc3RhdGVGcm9tKTtcbiAgICAgICAgICAgIGlmIChtYXliZVN0YXRlRnJvbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3RyYW5zaXRpb24uc3RhdGVGcm9tfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZUZyb20gPSBtYXliZVN0YXRlRnJvbTtcbiAgICAgICAgICAgIGxldCBtYXliZVN0YXRlVG8gPSB0aGlzLnN0YXRlTG9va3VwLmdldCh0cmFuc2l0aW9uLnN0YXRlVG8pO1xuICAgICAgICAgICAgaWYgKG1heWJlU3RhdGVUbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3RyYW5zaXRpb24uc3RhdGVUb30gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGVUbyA9IG1heWJlU3RhdGVUbztcbiAgICAgICAgICAgIHRyYW5zaXRpb25zSWR4cy5wdXNoKHsgc3RhdGVGcm9tLCBzdGF0ZVRvLCBpbnB1dCwgcXVldWVJbiwgcXVldWVPdXQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25zSWR4cztcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc3RhdGVzLCBpbnB1dFN5bWJvbHMsIHF1ZXVlU3ltYm9scywgaW5pdGlhbFN0YXRlLCBhY2NlcHRpbmdTdGF0ZXMsIHRyYW5zaXRpb25zLCB3b3JkLCBvcmlnaW5EYXRhID0gbnVsbCkge1xuICAgICAgICB0aGlzLm9yaWdpbkRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgdGhpcy5pbnB1dFN5bWJvbHMgPSBpbnB1dFN5bWJvbHM7XG4gICAgICAgIHRoaXMucXVldWVTeW1ib2xzID0gcXVldWVTeW1ib2xzO1xuICAgICAgICB0aGlzLm9yaWdpbkRhdGEgPSBvcmlnaW5EYXRhO1xuICAgICAgICB0aGlzLnN0YXRlTG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUxvb2t1cC5zZXQoc3RhdGVzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0TG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pbnB1dExvb2t1cC5zZXQoaW5wdXRTeW1ib2xzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlTG9va3VwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlU3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZUxvb2t1cC5zZXQocXVldWVTeW1ib2xzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3RhdGVMb29rdXAuaGFzKGluaXRpYWxTdGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5pdGlhbCBzdGF0ZSAke2luaXRpYWxTdGF0ZX0gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhY2NlcHRpbmdTdGF0ZUlkeCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgc3RhdGUgb2YgYWNjZXB0aW5nU3RhdGVzKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gdGhpcy5zdGF0ZUxvb2t1cC5nZXQoc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVJZHguYWRkKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjY2VwdGluZyBzdGF0ZSAke3N0YXRlfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyYW5zaXRpb25zSWR4cyA9IHRoaXMuZ2VuZXJhdGVUcmFuc2l0aW9ucyh0cmFuc2l0aW9ucyk7XG4gICAgICAgIGxldCBhdXRvbWF0b24gPSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50OiBzdGF0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgaW5wdXRBbHBoYWJldENvdW50OiBpbnB1dFN5bWJvbHMubGVuZ3RoLFxuICAgICAgICAgICAgcXVldWVBbHBoYWJldENvdW50OiBxdWV1ZVN5bWJvbHMubGVuZ3RoLFxuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0aGlzLnN0YXRlTG9va3VwLmdldChpbml0aWFsU3RhdGUpLFxuICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVzOiBhY2NlcHRpbmdTdGF0ZUlkeCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25Db3VudDogdHJhbnNpdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zSWR4cyxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHdvcmRJZHggPSBbXTtcbiAgICAgICAgZm9yIChsZXQgc3ltYm9sIG9mIHdvcmQpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmlucHV0TG9va3VwLmdldChzeW1ib2wpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke3N5bWJvbH0gbm90IGZvdW5kIGluIGlucHV0IGFscGhhYmV0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JkSWR4LnB1c2gocmVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1blN0YXRlID0gbmV3IFJ1blN0YXRlKGF1dG9tYXRvbiwgd29yZElkeC5yZXZlcnNlKCkpO1xuICAgIH1cbiAgICAqdHJhbnNpdGlvbnMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydW5TdGF0ZS5hdXRvbWF0b24udHJhbnNpdGlvbkNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uSWR4ID0gdGhpcy5ydW5TdGF0ZS5hdXRvbWF0b24udHJhbnNpdGlvbnNbaV07XG4gICAgICAgICAgICBsZXQgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0O1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHguaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHRoaXMuaW5wdXRTeW1ib2xzW3RyYW5zaXRpb25JZHguaW5wdXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHgucXVldWVJbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHF1ZXVlSW4gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVJbiA9IHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1t0cmFuc2l0aW9uSWR4LnF1ZXVlSW4uc3ltYm9sXSwgcHJpb3JpdHk6IHRyYW5zaXRpb25JZHgucXVldWVJbi5wcmlvcml0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25JZHgucXVldWVPdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZU91dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWV1ZU91dCA9IHsgc3ltYm9sOiB0aGlzLnF1ZXVlU3ltYm9sc1t0cmFuc2l0aW9uSWR4LnF1ZXVlT3V0LnN5bWJvbF0sIHByaW9yaXR5OiB0cmFuc2l0aW9uSWR4LnF1ZXVlT3V0LnByaW9yaXR5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhdGVGcm9tID0gdGhpcy5zdGF0ZXNbdHJhbnNpdGlvbklkeC5zdGF0ZUZyb21dO1xuICAgICAgICAgICAgbGV0IHN0YXRlVG8gPSB0aGlzLnN0YXRlc1t0cmFuc2l0aW9uSWR4LnN0YXRlVG9dO1xuICAgICAgICAgICAgeWllbGQgeyBpbmRleDogaSwgdmFsdWU6IHsgc3RhdGVGcm9tLCBzdGF0ZVRvLCBpbnB1dCwgcXVldWVJbiwgcXVldWVPdXQgfSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzW3RoaXMucnVuU3RhdGUuc3RhdGVdO1xuICAgIH1cbiAgICBnZXQgd29yZCgpIHtcbiAgICAgICAgbGV0IHdvcmQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLnJ1blN0YXRlLndvcmQpIHtcbiAgICAgICAgICAgIHdvcmQucHVzaCh0aGlzLmlucHV0U3ltYm9sc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdvcmQucmV2ZXJzZSgpO1xuICAgIH1cbiAgICAqcXVldWUoKSB7XG4gICAgICAgIGZvciAobGV0IFtwcmlvcml0eSwgbWFwXSBvZiB0aGlzLnJ1blN0YXRlLnF1ZXVlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBbc3ltYm9sLCBjb3VudF0gb2YgbWFwKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgeyBzeW1ib2w6IHRoaXMucXVldWVTeW1ib2xzW3N5bWJvbF0sIHByaW9yaXR5LCBjb3VudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyeVRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5TdGF0ZS50cnlSdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpO1xuICAgIH1cbiAgICBjYW5SdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuU3RhdGUuY2FuUnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KTtcbiAgICB9XG4gICAgdHJ5VHJhbnNpdGlvblJ1bih0cmFuc2l0aW9ucykge1xuICAgICAgICBmb3IgKGxldCB0cmFuc2l0aW9uSWR4IG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJ5VHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2FuQWNjZXB0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5TdGF0ZS5jYW5BY2NlcHQoKTtcbiAgICB9XG4gICAgZ2V0TW9zdFJlY2VudGx5QWRkZWRFbGVtZW50KCkge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5ydW5TdGF0ZS5nZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgc3ltYm9sLCBwcmlvcml0eSB9ID0gcmVzO1xuICAgICAgICByZXR1cm4geyBzeW1ib2w6IHRoaXMucXVldWVTeW1ib2xzW3N5bWJvbF0sIHByaW9yaXR5IH07XG4gICAgfVxuICAgIGdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50KCkge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5ydW5TdGF0ZS5nZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpO1xuICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBzeW1ib2wsIHByaW9yaXR5IH0gPSByZXM7XG4gICAgICAgIHJldHVybiB7IHN5bWJvbDogdGhpcy5xdWV1ZVN5bWJvbHNbc3ltYm9sXSwgcHJpb3JpdHkgfTtcbiAgICB9XG59XG5leHBvcnRzLlBRQVJ1biA9IFBRQVJ1bjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2FtZV8xID0gcmVxdWlyZShcIi4vZ2FtZVwiKTtcbnJlcXVpcmUoXCIuL2Fzc2V0cy9zdHlsZS5jc3NcIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBnaXRodWJfbWFya19zdmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hc3NldHMvZ2l0aHViLW1hcmsuc3ZnXCIpKTtcbmZ1bmN0aW9uIG1haW4oKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG4gICAgbGV0IGdhbWUgPSBuZXcgZ2FtZV8xLkdhbWUoKTtcbiAgICAoX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGdhbWVfMS5HYW1lLmluc3RhbmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25TdGF0ZUNsaWNrZWQoZSk7XG4gICAgfSk7XG4gICAgKF9iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0ZXNcIikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gZ2FtZV8xLkdhbWUuaW5zdGFuY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblN0YXRlSG92ZXIoZSk7XG4gICAgfSk7XG4gICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uuc3JjID0gZ2l0aHViX21hcmtfc3ZnXzEuZGVmYXVsdDtcbiAgICAoX2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdpdGh1Yi1pY29uXCIpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xufVxubWFpbigpO1xuLy8gRXhwb3NlIHRoZSBHYW1lIGNsYXNzIGZvciB1c2UgaW4gSFRNTFxuLy8gQHRzLWlnbm9yZVxud2luZG93W1wiR2FtZVwiXSA9IGdhbWVfMS5HYW1lO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdhbWVVSSA9IHZvaWQgMDtcbmNvbnN0IGdhbWVfMSA9IHJlcXVpcmUoXCIuL2dhbWVcIik7XG5jb25zdCBTdGF0ZURpYWdyYW1fMSA9IHJlcXVpcmUoXCIuL1N0YXRlRGlhZ3JhbVwiKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IF8yMTkwNjlfX2FubmFibG9vbV9fY2xpY2sxX3dhdl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Fzc2V0cy9zb3VuZHMvMjE5MDY5X19hbm5hYmxvb21fX2NsaWNrMS53YXZcIikpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgXzU0NDA1X19rb3JnbXMyMDAwYl9fYnV0dG9uX2NsaWNrX3dhdl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Fzc2V0cy9zb3VuZHMvNTQ0MDVfX2tvcmdtczIwMDBiX19idXR0b24tY2xpY2sud2F2XCIpKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IF82NjEzNl9fYWppX19kaW5nMzA2MDNfc3BlZHVwX3dhdl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Fzc2V0cy9zb3VuZHMvNjYxMzZfX2FqaV9fZGluZzMwNjAzLXNwZWR1cC53YXZcIikpO1xuY2xhc3MgR2FtZVVJIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1dHRvbkNsaWNrU291bmQgPSBuZXcgQXVkaW8oXzIxOTA2OV9fYW5uYWJsb29tX19jbGljazFfd2F2XzEuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMucmVzZXRTb3VuZCA9IG5ldyBBdWRpbyhfNTQ0MDVfX2tvcmdtczIwMDBiX19idXR0b25fY2xpY2tfd2F2XzEuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMuYWNjZXB0U291bmQgPSBuZXcgQXVkaW8oXzY2MTM2X19hamlfX2RpbmczMDYwM19zcGVkdXBfd2F2XzEuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMuc3RhdGVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlc1wiKTtcbiAgICAgICAgdGhpcy5xdWV1ZVRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWV1ZVwiKTtcbiAgICAgICAgdGhpcy5oaXRSZWdpb25DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRlSGl0UmVnaW9uXCIpO1xuICAgICAgICB0aGlzLndvcmRQYXJhZ3JhcGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndvcmRcIik7XG4gICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByZXZcIik7XG4gICAgICAgIHRoaXMubmV4dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dFwiKTtcbiAgICAgICAgdGhpcy5sZXZlbFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbF9uYW1lXCIpO1xuICAgICAgICB0aGlzLmxldmVsR3JvdXBMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbHNcIik7XG4gICAgICAgIHRoaXMubGV2ZWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIHRoaXMud2VsY29tZUJlZ2luQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWxjb21lX2JlZ2luX2J1dHRvblwiKTtcbiAgICAgICAgdGhpcy5sZXZlbEdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5xdWV1ZVRhYmxlRmllbGRzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmxldmVscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy5zdGF0ZURpYWdyYW0gPSBuZXcgU3RhdGVEaWFncmFtXzEuU3RhdGVEaWFncmFtKCk7XG4gICAgICAgIHRoaXMuc3RhdGVEaWFncmFtLmNsZWFyQ2FudmFzKCk7XG4gICAgICAgIChfYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9zdGFydFwiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNob3dNb2RhbCgpO1xuICAgIH1cbiAgICBzZXRQUUEocHFhLCBzaG93RGlhbG9nID0gdHJ1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcWEub3JpZ2luRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUFFBIGhhcyBubyBvcmlnaW4gZGF0YSwgdW5hYmxlIHRvIGNvbnN0cnVjdCBVSVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHBxYS5vcmlnaW5EYXRhO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnNldFF1ZXVlVGFibGUoZGF0YSk7XG4gICAgICAgIHRoaXMudXBkYXRlUHJpb3JpdHlRdWV1ZShwcWEucXVldWUoKSk7XG4gICAgICAgIHRoaXMudXBkYXRlV29yZChwcWEud29yZCk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlU3RhdGUocHFhLnN0YXRlKTtcbiAgICAgICAgaWYgKCEoKF9hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lX3N0YXJ0XCIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3BlbikgJiYgc2hvd0RpYWxvZykge1xuICAgICAgICAgICAgdGhpcy5zaG93RGVzY3JpcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93TW9kYWwoKTtcbiAgICAgICAgKF9iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNjcm9sbFRvKDAsIDApO1xuICAgIH1cbiAgICBnZXRUcmFuc2l0aW9uSWR4KGV2ZW50KSB7XG4gICAgICAgIGxldCB4ID0gZXZlbnQub2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5vZmZzZXRZO1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuaGl0UmVnaW9uQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IGhpdFJlZ2lvbiA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpLmRhdGE7XG4gICAgICAgIHJldHVybiBoaXRSZWdpb25bMF0gKiAyNTYgKiAyNTYgKyBoaXRSZWdpb25bMV0gKiAyNTYgKyBoaXRSZWdpb25bMl07XG4gICAgfVxuICAgIG9uU3RhdGVIb3ZlcihldmVudCwgZ2FtZSkge1xuICAgICAgICBsZXQgeCA9IGV2ZW50Lm9mZnNldFg7XG4gICAgICAgIGxldCB5ID0gZXZlbnQub2Zmc2V0WTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmhpdFJlZ2lvbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBoaXRSZWdpb24gPSBjb250ZXh0LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKS5kYXRhO1xuICAgICAgICBpZiAoaGl0UmVnaW9uWzBdIDwgMHg2MCkge1xuICAgICAgICAgICAgaWYgKGdhbWUuY2FuUnVuVHJhbnNpdGlvbih0aGlzLmdldFRyYW5zaXRpb25JZHgoZXZlbnQpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDYW52YXMuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2FudmFzLnN0eWxlLmN1cnNvciA9IFwibm90LWFsbG93ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVDYW52YXMuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UXVldWVUYWJsZShkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnF1ZXVlSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlVGFibGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucXVldWVIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZURpYWdyYW0uc2V0UXVldWVIaWRkZW4odHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZVRhYmxlLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1ZXVlSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGVEaWFncmFtLnNldFF1ZXVlSGlkZGVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5xdWV1ZVRhYmxlLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuc2V0UXVldWVUYWJsZUhlYWQoZGF0YSk7XG4gICAgICAgIHRoaXMuc2V0UXVldWVUYWJsZUJvZHkoZGF0YSk7XG4gICAgfVxuICAgIHNldFF1ZXVlVGFibGVIZWFkKGRhdGEpIHtcbiAgICAgICAgbGV0IGhlYWQgPSB0aGlzLnF1ZXVlVGFibGUuY3JlYXRlVEhlYWQoKTtcbiAgICAgICAgbGV0IGNvbHVtbkhlYWRlcnMgPSBoZWFkLmluc2VydFJvdygpO1xuICAgICAgICBsZXQgY2VsbCA9IGNvbHVtbkhlYWRlcnMuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICBjZWxsLm91dGVySFRNTCA9IGA8dGg+UHJpb3JpdGllczwvdGg+YDtcbiAgICAgICAgZm9yIChsZXQgcXVldWVTeW1ib2wgb2YgZGF0YS5xdWV1ZUFscGhhYmV0KSB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IGNvbHVtbkhlYWRlcnMuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgY2VsbC5vdXRlckhUTUwgPSBgPHRoPiR7cXVldWVTeW1ib2x9PC90aD5gO1xuICAgICAgICAgICAgY2VsbC5zY29wZSA9IFwiY29sXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UXVldWVUYWJsZUJvZHkoZGF0YSkge1xuICAgICAgICBsZXQgYm9keSA9IHRoaXMucXVldWVUYWJsZS5jcmVhdGVUQm9keSgpO1xuICAgICAgICBmb3IgKGxldCBwcmlvcml0eSBvZiBkYXRhLnByaW9yaXRpZXMpIHtcbiAgICAgICAgICAgIGxldCByb3cgPSBib2R5Lmluc2VydFJvdygpO1xuICAgICAgICAgICAgbGV0IGhlYWRlciA9IHJvdy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICBoZWFkZXIub3V0ZXJIVE1MID0gYDx0aD4ke3ByaW9yaXR5fTwvdGg+YDtcbiAgICAgICAgICAgIGhlYWRlci5zY29wZSA9IFwicm93XCI7XG4gICAgICAgICAgICBmb3IgKGxldCBxdWV1ZVN5bWJvbCBvZiBkYXRhLnF1ZXVlQWxwaGFiZXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZVRhYmxlRmllbGRzLnNldChbcXVldWVTeW1ib2wsIHByaW9yaXR5XS50b1N0cmluZygpLCBjZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVQcmlvcml0eVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlVGFibGUuaGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgeyBzeW1ib2wsIHByaW9yaXR5LCBjb3VudCB9IG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlVGFibGVGaWVsZHMuZ2V0KFtzeW1ib2wsIHByaW9yaXR5XS50b1N0cmluZygpKS5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZVRhYmxlRmllbGRzLmdldChbc3ltYm9sLCBwcmlvcml0eV0udG9TdHJpbmcoKSkuaW5uZXJUZXh0ID0gY291bnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93RXJyb3IobWVzc2FnZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzZXRBY3RpdmVTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlRGlhZ3JhbS51cGRhdGUodGhpcy5kYXRhLCBzdGF0ZSk7XG4gICAgfVxuICAgIHVwZGF0ZVdvcmQod29yZCkge1xuICAgICAgICB0aGlzLndvcmRQYXJhZ3JhcGguaW5uZXJUZXh0ID0gd29yZC5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgY3JlYXRlSW5Qcm9qZWN0aWxlKGUpIHtcbiAgICAgICAgbGV0IHF1ZXVlSW5UeXBlID0gdGhpcy5nYW1lLmdldE1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCgpO1xuICAgICAgICBpZiAocXVldWVJblR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5Qcm9qZWN0aWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaW5Qcm9qZWN0aWxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0aWxlXCIsIFwicmVkXCIpO1xuICAgICAgICBsZXQgdGFyZ2V0RWxlbSA9IHRoaXMucXVldWVUYWJsZUZpZWxkcy5nZXQoW3F1ZXVlSW5UeXBlLnN5bWJvbCwgcXVldWVJblR5cGUucHJpb3JpdHldLnRvU3RyaW5nKCkpO1xuICAgICAgICB0YXJnZXRFbGVtLmlubmVyVGV4dCA9IChwYXJzZUludCh0YXJnZXRFbGVtLmlubmVyVGV4dCkgLSAxKS50b1N0cmluZygpO1xuICAgICAgICBpZiAodGFyZ2V0RWxlbS5pbm5lclRleHQgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhcmdldCA9IHRhcmdldEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChpblByb2plY3RpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLngsIGUueSwgdGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICAgICAgaW5Qcm9qZWN0aWxlLmFuaW1hdGUoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2UueH1weCwgJHtlLnl9cHgpYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0YXJnZXQueCArIDAuNSAqIHRhcmdldC53aWR0aH1weCwgJHt0YXJnZXQueSArIDAuNSAqIHRhcmdldC5oZWlnaHR9cHgpYFxuICAgICAgICAgICAgfVxuICAgICAgICBdLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RWxlbS5pbm5lclRleHQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRFbGVtLmlubmVyVGV4dCA9IFwiMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0RWxlbS5pbm5lclRleHQgPSAoMSArIHBhcnNlSW50KHRhcmdldEVsZW0uaW5uZXJUZXh0KSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGluUHJvamVjdGlsZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7dGFyZ2V0LnggKyAwLjUgKiB0YXJnZXQud2lkdGh9cHgsICR7dGFyZ2V0LnkgKyAwLjUgKiB0YXJnZXQuaGVpZ2h0fXB4KWA7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaW5Qcm9qZWN0aWxlLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH1cbiAgICBjcmVhdGVPdXRQcm9qZWN0aWxlKGUpIHtcbiAgICAgICAgbGV0IHF1ZXVlT3V0VHlwZSA9IHRoaXMuZ2FtZS5nZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpO1xuICAgICAgICBpZiAocXVldWVPdXRUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dFByb2plY3RpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBvdXRQcm9qZWN0aWxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0aWxlXCIsIFwicmVkXCIpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5xdWV1ZVRhYmxlRmllbGRzLmdldChbcXVldWVPdXRUeXBlLnN5bWJvbCwgcXVldWVPdXRUeXBlLnByaW9yaXR5XS50b1N0cmluZygpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKG91dFByb2plY3RpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLngsIGUueSwgdGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICAgICAgb3V0UHJvamVjdGlsZS5hbmltYXRlKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0YXJnZXQueCArIDAuNSAqIHRhcmdldC53aWR0aH1weCwgJHt0YXJnZXQueSArIDAuNSAqIHRhcmdldC5oZWlnaHR9cHgpYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtlLnh9cHgsICR7ZS55fXB4KWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSwge1xuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb3V0UHJvamVjdGlsZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZS54fXB4LCAke2UueX1weClgO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG91dFByb2plY3RpbGUucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfVxuICAgIG9uVHJhbnNpdGlvbkNsaWNrZWQoZSkge1xuICAgICAgICB0aGlzLmJ1dHRvbkNsaWNrU291bmQucGxheSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUluUHJvamVjdGlsZShlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVPdXRQcm9qZWN0aWxlKGUpO1xuICAgIH1cbiAgICBvblJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlc2V0U291bmQucGxheSgpLnRoZW4oKCkgPT4geyB9KTtcbiAgICB9XG4gICAgb25BY2NlcHQoKSB7XG4gICAgICAgIHRoaXMuYWNjZXB0U291bmQucGxheSgpLnRoZW4oKCkgPT4geyB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY2NlcHRlZFwiKS5zaG93TW9kYWwoKTtcbiAgICB9XG4gICAgYWRkTGV2ZWwobGV2ZWxOYW1lLCBncm91cCwgaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxldmVsR3JvdXBzLmhhcyhncm91cCkpIHtcbiAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICAgICAgaGVhZGVyLmlubmVyVGV4dCA9IGdyb3VwO1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgICAgICBsZXQgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvbFwiKTtcbiAgICAgICAgICAgIGdyb3VwRWxlbWVudC5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxHcm91cExpc3QuYXBwZW5kQ2hpbGQoZ3JvdXBFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxHcm91cHMuc2V0KGdyb3VwLCBsaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ3JvdXBFbGVtZW50ID0gdGhpcy5sZXZlbEdyb3Vwcy5nZXQoZ3JvdXApO1xuICAgICAgICBsZXQgbGlzdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gbGV2ZWxOYW1lO1xuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IHsgdmFyIF9hOyAoX2EgPSBnYW1lXzEuR2FtZS5pbnN0YW5jZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uTGV2ZWxTZWxlY3QoaWQpOyB9O1xuICAgICAgICBsaXN0RWxlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICB0aGlzLmxldmVscy5zZXQoaWQsIGJ1dHRvbik7XG4gICAgICAgIGdyb3VwRWxlbWVudC5hcHBlbmRDaGlsZChsaXN0RWxlbSk7XG4gICAgfVxuICAgIHNldFByZXZOZXh0KHByZXYsIG5leHQpIHtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi52YWx1ZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uLmRpc2FibGVkID0gIXRoaXMuZ2FtZS5sZXZlbERhdGEuaXNMZXZlbFVubG9ja2VkKHByZXYpO1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi52YWx1ZSA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5leHRCdXR0b24udmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gIXRoaXMuZ2FtZS5sZXZlbERhdGEuaXNMZXZlbFVubG9ja2VkKG5leHQpO1xuICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLnZhbHVlID0gbmV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRMZXZlbE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLmxldmVsVGl0bGUuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICB9XG4gICAgc2V0TGV2ZWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmxldmVsRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHNldEZpcnN0TGV2ZWwoaWQpIHtcbiAgICAgICAgdGhpcy53ZWxjb21lQmVnaW5CdXR0b24ub25jbGljayA9ICgpID0+IHsgdmFyIF9hOyAoX2EgPSBnYW1lXzEuR2FtZS5pbnN0YW5jZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uTGV2ZWxTZWxlY3QoaWQpOyB9O1xuICAgICAgICB0aGlzLmdhbWUub25MZXZlbFNlbGVjdChpZCk7XG4gICAgfVxuICAgIHNldFVubG9ja2VkTGV2ZWxzKHVubG9ja2VkTGV2ZWxzKSB7XG4gICAgICAgIGZvciAobGV0IGJ1dHRvbiBvZiB0aGlzLmxldmVscy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgbGV2ZWwgb2YgdW5sb2NrZWRMZXZlbHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzQnV0dG9uLnZhbHVlID09PSBsZXZlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRCdXR0b24udmFsdWUgPT09IGxldmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbHMuaGFzKGxldmVsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChsZXZlbCkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDdXJyZW50TGV2ZWwoaWQpIHtcbiAgICAgICAgZm9yIChsZXQgYnV0dG9uIG9mIHRoaXMubGV2ZWxzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImN1cnJlbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGV2ZWxzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxzLmdldChpZCkuY2xhc3NMaXN0LmFkZChcImN1cnJlbnRcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkdhbWVVSSA9IEdhbWVVSTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HYW1lID0gdm9pZCAwO1xuY29uc3QgZ2FtZVVJXzEgPSByZXF1aXJlKFwiLi9nYW1lVUlcIik7XG5jb25zdCBMZXZlbERhdGFfMSA9IHJlcXVpcmUoXCIuL0xldmVsRGF0YVwiKTtcbmNsYXNzIEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5leHRMZXZlbCA9IG51bGw7XG4gICAgICAgIHRoaXMudWkgPSBuZXcgZ2FtZVVJXzEuR2FtZVVJKHRoaXMpO1xuICAgICAgICB0aGlzLmxldmVsRGF0YSA9IG5ldyBMZXZlbERhdGFfMS5MZXZlbERhdGEodGhpcy51aSk7XG4gICAgICAgIHRoaXMucHFhID0gbnVsbDtcbiAgICAgICAgR2FtZS5pbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFzQWNjZXB0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9hZFBRQShwcWFEYXRhLCBzaG93RGlhbG9nID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnBxYSA9IHBxYURhdGEuY3JlYXRlUFFBKCk7XG4gICAgICAgIHRoaXMuaGFzQWNjZXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51aS5zZXRQUUEodGhpcy5wcWEsIHNob3dEaWFsb2cpO1xuICAgIH1cbiAgICBvblN0YXRlSG92ZXIoZSkge1xuICAgICAgICB0aGlzLnVpLm9uU3RhdGVIb3ZlcihlLCB0aGlzKTtcbiAgICB9XG4gICAgb25TdGF0ZUNsaWNrZWQoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uSWR4ID0gdGhpcy51aS5nZXRUcmFuc2l0aW9uSWR4KGUpO1xuICAgICAgICBpZiAodHJhbnNpdGlvbklkeCA+PSAweDYwMDAwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyeVJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCkpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25UcmFuc2l0aW9uQ2xpY2tlZChlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uU3RhdGVIb3ZlcihlKTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnBxYSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbkFjY2VwdCgpKSAmJiAhdGhpcy5oYXNBY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy51aS5vbkFjY2VwdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmV4dExldmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbERhdGEudW5sb2NrTGV2ZWwodGhpcy5uZXh0TGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oYXNBY2NlcHRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJ5UnVuVHJhbnNpdGlvbih0cmFuc2l0aW9uSWR4KSB7XG4gICAgICAgIGxldCBwcWE7XG4gICAgICAgIGlmICh0aGlzLnBxYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51aS5zaG93RXJyb3IoXCJObyBQUUEgbG9hZGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHFhID0gdGhpcy5wcWE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IHBxYS50cnlUcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy51aS5zaG93RXJyb3IoXCJVbmFibGUgdG8gcnVuIHRyYW5zaXRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51aS5zZXRBY3RpdmVTdGF0ZShwcWEuc3RhdGUpO1xuICAgICAgICB0aGlzLnVpLnVwZGF0ZVByaW9yaXR5UXVldWUocHFhLnF1ZXVlKCkpO1xuICAgICAgICB0aGlzLnVpLnVwZGF0ZVdvcmQocHFhLndvcmQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYW5SdW5UcmFuc2l0aW9uKHRyYW5zaXRpb25JZHgpIHtcbiAgICAgICAgbGV0IHBxYTtcbiAgICAgICAgaWYgKHRoaXMucHFhID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcWEgPSB0aGlzLnBxYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHFhLmNhblJ1blRyYW5zaXRpb24odHJhbnNpdGlvbklkeCk7XG4gICAgfVxuICAgIHJlc2V0Q3VycmVudFBRQSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgZGF0YSA9IChfYSA9IHRoaXMucHFhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3JpZ2luRGF0YTtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRQUUEoZGF0YSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudWkub25SZXNldCgpO1xuICAgIH1cbiAgICBnZXRNb3N0UmVjZW50bHlBZGRlZEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBxYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHFhLmdldE1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCgpO1xuICAgIH1cbiAgICBnZXRNb3N0UmVjZW50bHlSZW1vdmVkRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHFhID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcWEuZ2V0TW9zdFJlY2VudGx5UmVtb3ZlZEVsZW1lbnQoKTtcbiAgICB9XG4gICAgb25MZXZlbFNlbGVjdCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMubGV2ZWxEYXRhLmdldExldmVsRGF0YSh2YWx1ZSk7XG4gICAgICAgIGxldCBwcmV2ID0gdGhpcy5sZXZlbERhdGEuZ2V0UHJldmlvdXModmFsdWUpO1xuICAgICAgICBsZXQgbmV4dCA9IHRoaXMubGV2ZWxEYXRhLmdldE5leHQodmFsdWUpO1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMubGV2ZWxEYXRhLmdldE5hbWUodmFsdWUpO1xuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSB0aGlzLmxldmVsRGF0YS5nZXRMZXZlbERlc2NyaXB0aW9uKHZhbHVlKTtcbiAgICAgICAgdGhpcy51aS5zZXRQcmV2TmV4dChwcmV2LCBuZXh0KTtcbiAgICAgICAgdGhpcy5uZXh0TGV2ZWwgPSBuZXh0O1xuICAgICAgICB0aGlzLnVpLnNldExldmVsTmFtZShuYW1lKTtcbiAgICAgICAgdGhpcy51aS5zZXRMZXZlbERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy51aS5zZXRDdXJyZW50TGV2ZWwodmFsdWUpO1xuICAgICAgICB0aGlzLmxvYWRQUUEoZGF0YSk7XG4gICAgfVxuICAgIHJlc2V0UHJvZ3Jlc3MoKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidW5sb2NrZWRMZXZlbHNcIik7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG59XG5leHBvcnRzLkdhbWUgPSBHYW1lO1xuR2FtZS5pbnN0YW5jZSA9IG51bGw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUFFBRGF0YSA9IHZvaWQgMDtcbmNvbnN0IFBRQV8xID0gcmVxdWlyZShcIi4vUFFBXCIpO1xuY29uc3QgU1RBVEVfUkFESVVTID0gMzA7XG5jbGFzcyBQUUFEYXRhIHtcbiAgICAvKlxuXG4gICAge1xuICAgICAgICBzdGF0ZXM6IHtuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0FjY2VwdGluZzogYm9vbGVhbn1bXSxcbiAgICAgICAgaW5wdXRBbHBoYWJldDogc3RyaW5nW10sXG4gICAgICAgIHF1ZXVlQWxwaGFiZXQ6IHN0cmluZ1tdLFxuICAgICAgICB0cmFuc2l0aW9uczpcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdGVGcm9tOiBzdHJpbmcsXG4gICAgICAgICAgICBzdGF0ZVRvOiBzdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogc3RyaW5nIHwgbnVsbCxcbiAgICAgICAgICAgIHF1ZXVlSW46IHsgc3ltYm9sOiBzdHJpbmcsIHByaW9yaXR5OiBudW1iZXIgfSB8IG51bGwsXG4gICAgICAgICAgICBxdWV1ZU91dDogeyBzeW1ib2w6IHN0cmluZywgcHJpb3JpdHk6IG51bWJlciB9IHwgbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdGllczogbnVtYmVyW10sXG4gICAgICAgIGluaXRpYWxTdGF0ZTogc3RyaW5nLFxuICAgICAgICB3b3JkOiBzdHJpbmdbXVxuXG4gICAgfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgc3RhdGUgb2YgdmFsdWUuc3RhdGVzKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlcy5zZXQoc3RhdGUubmFtZSwgeyBwb3NpdGlvbjogeyB4OiBzdGF0ZS5wb3NpdGlvbi54LCB5OiBzdGF0ZS5wb3NpdGlvbi55IH0sIGlzQWNjZXB0aW5nOiBzdGF0ZS5pc0FjY2VwdGluZyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0QWxwaGFiZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAobGV0IHN5bWJvbCBvZiB2YWx1ZS5pbnB1dEFscGhhYmV0KSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0QWxwaGFiZXQuYWRkKHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZUFscGhhYmV0ID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBzeW1ib2wgb2YgdmFsdWUucXVldWVBbHBoYWJldCkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZUFscGhhYmV0LmFkZChzeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdHJhbnNpdGlvbiBvZiB2YWx1ZS50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgbGV0IHN0YXRlRnJvbSA9IHRyYW5zaXRpb24uc3RhdGVGcm9tO1xuICAgICAgICAgICAgbGV0IHN0YXRlVG8gPSB0cmFuc2l0aW9uLnN0YXRlVG87XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhzdGF0ZUZyb20pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3N0YXRlRnJvbX0gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXMoc3RhdGVUbykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0YXRlICR7c3RhdGVUb30gbm90IGZvdW5kIGluIHN0YXRlc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGlucHV0ID0gdHJhbnNpdGlvbi5pbnB1dDtcbiAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gbnVsbCAmJiAhdGhpcy5pbnB1dEFscGhhYmV0LmhhcyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElucHV0IFN5bWJvbCAke2lucHV0fSBpcyBub3QgdmFsaWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBxdWV1ZUluID0gdHJhbnNpdGlvbi5xdWV1ZUluO1xuICAgICAgICAgICAgbGV0IHF1ZXVlT3V0ID0gdHJhbnNpdGlvbi5xdWV1ZU91dDtcbiAgICAgICAgICAgIGlmIChxdWV1ZUluICE9PSBudWxsICYmICF0aGlzLnF1ZXVlQWxwaGFiZXQuaGFzKHF1ZXVlSW4uc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVldWUgU3ltYm9sICR7cXVldWVJbi5zeW1ib2x9IGlzIG5vdCB2YWxpZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlT3V0ICE9PSBudWxsICYmICF0aGlzLnF1ZXVlQWxwaGFiZXQuaGFzKHF1ZXVlT3V0LnN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXVlIFN5bWJvbCAke3F1ZXVlT3V0LnN5bWJvbH0gaXMgbm90IHZhbGlkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmF3UGF0aDtcbiAgICAgICAgICAgIGlmICgoKF9hID0gdHJhbnNpdGlvbi5wYXRoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2Zmc2V0KSAhPT0gdW5kZWZpbmVkIHx8IHRyYW5zaXRpb24ucGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmF3UGF0aCA9IFt7IFwic3RhdGVcIjogc3RhdGVGcm9tLCBcIm9mZnNldFwiOiAoX2IgPSB0cmFuc2l0aW9uLnBhdGgpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vZmZzZXQgfSwgeyBcInN0YXRlXCI6IHN0YXRlVG8sIFwib2Zmc2V0XCI6IChfYyA9IHRyYW5zaXRpb24ucGF0aCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9mZnNldCB9XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhd1BhdGggPSB0cmFuc2l0aW9uLnBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGF0aCA9IHRoaXMuY3JlYXRlUGF0aChyYXdQYXRoKTtcbiAgICAgICAgICAgIGxldCBsYWJlbFBvc2l0aW9uID0gdGhpcy5jcmVhdGVMYWJlbFBvc2l0aW9uKHRyYW5zaXRpb24ubGFiZWxQb3NpdGlvbiwgcGF0aCk7XG4gICAgICAgICAgICBsZXQgbGFiZWxBbGlnbiA9IChfZCA9IHRyYW5zaXRpb24ubGFiZWxBbGlnbikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogXCJsZWZ0XCI7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zLnB1c2goeyB0cmFuc2l0aW9uOiB7IHN0YXRlRnJvbSwgc3RhdGVUbywgaW5wdXQsIHF1ZXVlSW4sIHF1ZXVlT3V0IH0sIHBhdGgsIGxhYmVsUG9zaXRpb24sIGxhYmVsQWxpZ24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXModmFsdWUuaW5pdGlhbFN0YXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbml0aWFsIHN0YXRlICR7dmFsdWUuaW5pdGlhbFN0YXRlfSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSB2YWx1ZS5pbml0aWFsU3RhdGU7XG4gICAgICAgIHRoaXMud29yZCA9IHZhbHVlLndvcmQ7XG4gICAgICAgIHRoaXMucHJpb3JpdGllcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcmlvcml0eSBvZiB2YWx1ZS5wcmlvcml0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXRpZXMucHVzaChwcmlvcml0eSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZUhpZGRlbiA9IChfZSA9IHZhbHVlLmhpZGVRdWV1ZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZUxhYmVsUG9zaXRpb24ocG9zaXRpb24sIHBhdGgpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmFuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWlkcG9pbnQgPSB7IHg6IChwYXRoWzBdLnggKyBwYXRoW3BhdGgubGVuZ3RoIC0gMV0ueCkgLyAyLCB5OiAocGF0aFswXS55ICsgcGF0aFtwYXRoLmxlbmd0aCAtIDFdLnkpIC8gMiB9O1xuICAgICAgICBsZXQgYW5nbGU7XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24uYW5nbGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGFuZ2xlID0gcG9zaXRpb24uYW5nbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uLmFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5cIjpcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSA5MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5FXCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gNDU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNFXCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gLTQ1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IC05MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNXXCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gLTEzNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSAxODA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOV1wiOlxuICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IDEzNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFuZ2xlICR7cG9zaXRpb24uYW5nbGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYW5nbGUgPSAtYW5nbGUgLyAzNjAgKiAyICogTWF0aC5QSTtcbiAgICAgICAgbGV0IHggPSBtaWRwb2ludC54ICsgMjAgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGxldCB5ID0gbWlkcG9pbnQueSArIDIwICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIGNyZWF0ZVBhdGgocGF0aCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgcGF0aCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LnN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhwb2ludC5zdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0ZSAke3BvaW50fSBub3QgZm91bmQgaW4gc3RhdGVzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKChfYiA9IChfYSA9IHRoaXMuc3RhdGVzLmdldChwb2ludC5zdGF0ZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wb3NpdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogeyB4OiAwLCB5OiAwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxldCBoZWFkID0gcGF0aFswXTtcbiAgICAgICAgICAgIGxldCBuZXdIZWFkO1xuICAgICAgICAgICAgaWYgKGhlYWQuc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSAoX2MgPSBoZWFkLm9mZnNldCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMDtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSByZXN1bHRbMF07XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IHJlc3VsdFsxXTtcbiAgICAgICAgICAgICAgICBsZXQgZGlzdCA9IE1hdGguc3FydCgoc3RhcnQueCAtIGVuZC54KSAqIChzdGFydC54IC0gZW5kLngpICsgKHN0YXJ0LnkgLSBlbmQueSkgKiAoc3RhcnQueSAtIGVuZC55KSk7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSAoTWF0aC5zcXJ0KFNUQVRFX1JBRElVUyAqIFNUQVRFX1JBRElVUyAtIG9mZnNldCAqIG9mZnNldCkgLSAyKSAvIGRpc3Q7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBzdGFydC54ICsgKHN0YXJ0LnkgLSBlbmQueSkgKiBvZmZzZXQgLyBkaXN0ICsgdCAqIChlbmQueCAtIHN0YXJ0LngpO1xuICAgICAgICAgICAgICAgIGxldCB5ID0gc3RhcnQueSArIChlbmQueCAtIHN0YXJ0LngpICogb2Zmc2V0IC8gZGlzdCArIHQgKiAoZW5kLnkgLSBzdGFydC55KTtcbiAgICAgICAgICAgICAgICBuZXdIZWFkID0geyB4LCB5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdIZWFkID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRhaWwgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgbmV3VGFpbDtcbiAgICAgICAgICAgIGlmICh0YWlsLnN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gKF9kID0gdGFpbC5vZmZzZXQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IDA7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcmVzdWx0W3BhdGgubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IHJlc3VsdFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGxldCBkaXN0ID0gTWF0aC5zcXJ0KChzdGFydC54IC0gZW5kLngpICogKHN0YXJ0LnggLSBlbmQueCkgKyAoc3RhcnQueSAtIGVuZC55KSAqIChzdGFydC55IC0gZW5kLnkpKTtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IDEgLSAoTWF0aC5zcXJ0KFNUQVRFX1JBRElVUyAqIFNUQVRFX1JBRElVUyAtIG9mZnNldCAqIG9mZnNldCkgKyAyKSAvIGRpc3Q7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBzdGFydC54ICsgKHN0YXJ0LnkgLSBlbmQueSkgKiBvZmZzZXQgLyBkaXN0ICsgdCAqIChlbmQueCAtIHN0YXJ0LngpO1xuICAgICAgICAgICAgICAgIGxldCB5ID0gc3RhcnQueSArIChlbmQueCAtIHN0YXJ0LngpICogb2Zmc2V0IC8gZGlzdCArIHQgKiAoZW5kLnkgLSBzdGFydC55KTtcbiAgICAgICAgICAgICAgICBuZXdUYWlsID0geyB4LCB5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdUYWlsID0gcmVzdWx0W3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbMF0gPSBuZXdIZWFkO1xuICAgICAgICAgICAgcmVzdWx0W3BhdGgubGVuZ3RoIC0gMV0gPSBuZXdUYWlsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNyZWF0ZVBRQSgpIHtcbiAgICAgICAgbGV0IHN0YXRlcyA9IFtdO1xuICAgICAgICBsZXQgYWNjZXB0aW5nU3RhdGVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGxldCBbbmFtZSwgeyBpc0FjY2VwdGluZyB9XSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgICAgICAgaWYgKGlzQWNjZXB0aW5nKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0aW5nU3RhdGVzLmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnB1dEFscGhhYmV0ID0gQXJyYXkuZnJvbSh0aGlzLmlucHV0QWxwaGFiZXQpO1xuICAgICAgICBsZXQgcXVldWVBbHBoYWJldCA9IEFycmF5LmZyb20odGhpcy5xdWV1ZUFscGhhYmV0KTtcbiAgICAgICAgbGV0IGluaXRpYWxTdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeyB0cmFuc2l0aW9uIH0gb2YgdGhpcy50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgdHJhbnNpdGlvbnMucHVzaCh0cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBRQV8xLlBRQVJ1bihzdGF0ZXMsIGlucHV0QWxwaGFiZXQsIHF1ZXVlQWxwaGFiZXQsIGluaXRpYWxTdGF0ZSwgYWNjZXB0aW5nU3RhdGVzLCB0cmFuc2l0aW9ucywgdGhpcy53b3JkLCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlBRQURhdGEgPSBQUUFEYXRhO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGV2ZWxEYXRhID0gdm9pZCAwO1xuY29uc3QgUFFBRGF0YV8xID0gcmVxdWlyZShcIi4vUFFBRGF0YVwiKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGxldmVsc19qc29uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYXNzZXRzL2xldmVscy5qc29uXCIpKTtcbmNsYXNzIExldmVsRGF0YSB7XG4gICAgY29uc3RydWN0b3IodWkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sZXZlbHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IG51bGw7XG4gICAgICAgIHRoaXMudWkgPSB1aTtcbiAgICAgICAgdGhpcy51bmxvY2tlZExldmVscyA9IG5ldyBTZXQoSlNPTi5wYXJzZSgoX2EgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVubG9ja2VkTGV2ZWxzXCIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIltdXCIpKTtcbiAgICAgICAgdGhpcy5sb2FkTGV2ZWxzKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5maXJzdExldmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmxvY2tMZXZlbCh0aGlzLmZpcnN0TGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51aS5zZXRVbmxvY2tlZExldmVscyh0aGlzLnVubG9ja2VkTGV2ZWxzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRMZXZlbHMoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGxldCB7IGdyb3VwcywgbGV2ZWxzIH0gPSB5aWVsZCB3aW5kb3cuZmV0Y2gobGV2ZWxzX2pzb25fMS5kZWZhdWx0KS50aGVuKHIgPT4gci50ZXh0KCkpLnRoZW4ociA9PiBKU09OLnBhcnNlKHIpKTtcbiAgICAgICAgICAgIGZvciAobGV0IGxldmVsIG9mIGxldmVscykge1xuICAgICAgICAgICAgICAgIGxldCBwYXJzZWREYXRhID0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgbGV0IHBxYURhdGEgPSBuZXcgUFFBRGF0YV8xLlBRQURhdGEocGFyc2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBwYXJzZWREYXRhLm1ldGFkYXRhLm5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JvdXAgPSBwYXJzZWREYXRhLm1ldGFkYXRhLmdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gcGFyc2VkRGF0YS5tZXRhZGF0YS5pZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IChfYSA9IHBhcnNlZERhdGEubWV0YWRhdGEuZGVzY3JpcHRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyb3Vwcy5oYXMoZ3JvdXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzLnNldChncm91cCwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBwYXJzZWREYXRhLm1ldGFkYXRhLmdyb3VwSW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cHMuZ2V0KGdyb3VwKVtpbmRleF0gPSBpZDtcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5zZXQoaWQsIHsgZGF0YTogcHFhRGF0YSwgZ3JvdXAsIG5hbWUsIHByZXY6IG51bGwsIG5leHQ6IG51bGwsIGRlc2NyaXB0aW9uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgW2dyb3VwTmFtZSwgaWRzXSBvZiB0aGlzLmdyb3Vwcykge1xuICAgICAgICAgICAgICAgIGxldCBjb21wcmVzc2VkSWRzID0gaWRzLmZpbHRlcihpZCA9PiBpZCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwcy5zZXQoZ3JvdXBOYW1lLCBjb21wcmVzc2VkSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IChfYyA9IChfYiA9IHRoaXMuZ3JvdXBzLmdldChncm91cHNbMF0pKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5maXJzdExldmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5zZXRGaXJzdExldmVsKHRoaXMuZmlyc3RMZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJldklkID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjdXJySWQgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JvdXBOYW1lIG9mIGdyb3Vwcykge1xuICAgICAgICAgICAgICAgIGxldCBncm91cCA9IHRoaXMuZ3JvdXBzLmdldChncm91cE5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZCBvZiBncm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHMuZ2V0KGN1cnJJZCkubmV4dCA9IGlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHMuZ2V0KGN1cnJJZCkucHJldiA9IHByZXZJZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcmV2SWQgPSBjdXJySWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJJZCA9IGlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJySWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVscy5nZXQoY3VycklkKS5wcmV2ID0gcHJldklkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZ3JvdXBOYW1lIG9mIGdyb3Vwcykge1xuICAgICAgICAgICAgICAgIGxldCBncm91cCA9IHRoaXMuZ3JvdXBzLmdldChncm91cE5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZCBvZiBncm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHsgZ3JvdXAsIG5hbWUgfSA9IHRoaXMubGV2ZWxzLmdldChpZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkuYWRkTGV2ZWwobmFtZSwgZ3JvdXAsIGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRMZXZlbERhdGEoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxzLmdldChpZCkuZGF0YTtcbiAgICB9XG4gICAgZ2V0UHJldmlvdXMoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxzLmdldChpZCkucHJldjtcbiAgICB9XG4gICAgZ2V0TmV4dChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbHMuZ2V0KGlkKS5uZXh0O1xuICAgIH1cbiAgICBnZXROYW1lKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxldmVscy5nZXQoaWQpLm5hbWU7XG4gICAgfVxuICAgIGdldExldmVsRGVzY3JpcHRpb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxzLmdldChpZCkuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHVubG9ja0xldmVsKGlkKSB7XG4gICAgICAgIHRoaXMudW5sb2NrZWRMZXZlbHMuYWRkKGlkKTtcbiAgICAgICAgbGV0IHVubG9ja2VkTGV2ZWxzID0gQXJyYXkuZnJvbSh0aGlzLnVubG9ja2VkTGV2ZWxzKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1bmxvY2tlZExldmVsc1wiLCBKU09OLnN0cmluZ2lmeSh1bmxvY2tlZExldmVscykpO1xuICAgICAgICB0aGlzLnVpLnNldFVubG9ja2VkTGV2ZWxzKHRoaXMudW5sb2NrZWRMZXZlbHMpO1xuICAgIH1cbiAgICBpc0xldmVsVW5sb2NrZWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5sb2NrZWRMZXZlbHMuaGFzKGlkKTtcbiAgICB9XG59XG5leHBvcnRzLkxldmVsRGF0YSA9IExldmVsRGF0YTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuIl0sIm5hbWVzIjpbInRvSGV4Q29kZSIsIm4iLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJTdGF0ZURpYWdyYW0iLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJxdWV1ZUhpZGRlbiIsInNjYWxlIiwibGFzdFVwZGF0ZUluZm8iLCJzdGF0ZUNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJoaXRSZWdpb25DYW52YXMiLCJ1cGRhdGVTY2FsZSIsIndpbmRvdyIsIm9ucmVzaXplIiwidXBkYXRlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsInBxYURhdGEiLCJhY3RpdmVTdGF0ZSIsImRhdGEiLCJjbGVhckNhbnZhcyIsImRyYXdUcmFuc2l0aW9ucyIsImRyYXdTdGF0ZXMiLCJ4VHJhbnNmb3JtIiwieCIsInlUcmFuc2Zvcm0iLCJ5Iiwic2V0UXVldWVIaWRkZW4iLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImhpdENvbnRleHQiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNhbnZhc19hcnJvdyIsImZyb214IiwiZnJvbXkiLCJ0b3giLCJ0b3kiLCJoZWFkbGVuIiwiZHgiLCJkeSIsImFuZ2xlIiwiTWF0aCIsImF0YW4yIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY29zIiwiUEkiLCJzaW4iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJkaXNwbGF5VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJyZXN1bHQiLCJpbnB1dCIsInF1ZXVlT3V0Iiwic3ltYm9sIiwicHJpb3JpdHkiLCJxdWV1ZUluIiwidHJhbnNpdGlvbkluZGV4Iiwic3Ryb2tlU3R5bGUiLCJwYXRoIiwibGFiZWxQb3NpdGlvbiIsImxhYmVsQWxpZ24iLCJ0cmFuc2l0aW9ucyIsImxpbmVXaWR0aCIsImxlbmd0aCIsImZvbnQiLCJyb3VuZCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0Iiwic3RhdGUiLCJwb3NpdGlvbiIsImlzQWNjZXB0aW5nIiwic3RhdGVzIiwiYXJjIiwiZmlsbCIsIlBRQVJ1biIsIlJ1blN0YXRlIiwiYXV0b21hdG9uIiwid29yZCIsIm1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCIsIm1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50IiwibWF4UHJpb3JpdHkiLCJxdWV1ZSIsIk1hcCIsImluaXRpYWxTdGF0ZSIsInVwZGF0ZU1heFByaW9yaXR5IiwibWFwIiwiXyIsImNvdW50IiwidHJ5UmVtb3ZlRWxlbWVudCIsImVsZW0iLCJnZXQiLCJ1bmRlZmluZWQiLCJzZXQiLCJjYW5SZW1vdmVFbGVtZW50IiwiY29uc29sZSIsImxvZyIsImFkZEVsZW1lbnQiLCJ0cnlSdW5UcmFuc2l0aW9uIiwidHJhbnNpdGlvbklkeCIsInRyYW5zaXRpb25Db3VudCIsInN0YXRlRnJvbSIsIndhcm4iLCJwb3AiLCJzdGF0ZVRvIiwiY2FuUnVuVHJhbnNpdGlvbiIsImNhbkFjY2VwdCIsImFjY2VwdGluZ1N0YXRlcyIsImhhcyIsImdldE1vc3RSZWNlbnRseUFkZGVkRWxlbWVudCIsImdldE1vc3RSZWNlbnRseVJlbW92ZWRFbGVtZW50IiwiZ2VuZXJhdGVUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25zSWR4cyIsInJlcyIsImlucHV0TG9va3VwIiwiRXJyb3IiLCJxdWV1ZUxvb2t1cCIsIm1heWJlU3RhdGVGcm9tIiwic3RhdGVMb29rdXAiLCJtYXliZVN0YXRlVG8iLCJwdXNoIiwiaW5wdXRTeW1ib2xzIiwicXVldWVTeW1ib2xzIiwib3JpZ2luRGF0YSIsImkiLCJhY2NlcHRpbmdTdGF0ZUlkeCIsIlNldCIsImFkZCIsInN0YXRlQ291bnQiLCJpbnB1dEFscGhhYmV0Q291bnQiLCJxdWV1ZUFscGhhYmV0Q291bnQiLCJ3b3JkSWR4IiwicnVuU3RhdGUiLCJyZXZlcnNlIiwiaW5kZXgiLCJ0cnlUcmFuc2l0aW9uIiwidHJ5VHJhbnNpdGlvblJ1biIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJnYW1lXzEiLCJnaXRodWJfbWFya19zdmdfMSIsIl9hIiwiX2IiLCJfYyIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImluc3RhbmNlIiwib25TdGF0ZUNsaWNrZWQiLCJvblN0YXRlSG92ZXIiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiZGVmYXVsdCIsImFwcGVuZENoaWxkIiwibWFpbiIsIkdhbWVVSSIsIlN0YXRlRGlhZ3JhbV8xIiwiXzIxOTA2OV9fYW5uYWJsb29tX19jbGljazFfd2F2XzEiLCJfNTQ0MDVfX2tvcmdtczIwMDBiX19idXR0b25fY2xpY2tfd2F2XzEiLCJfNjYxMzZfX2FqaV9fZGluZzMwNjAzX3NwZWR1cF93YXZfMSIsImdhbWUiLCJidXR0b25DbGlja1NvdW5kIiwiQXVkaW8iLCJyZXNldFNvdW5kIiwiYWNjZXB0U291bmQiLCJxdWV1ZVRhYmxlIiwid29yZFBhcmFncmFwaCIsInByZXZpb3VzQnV0dG9uIiwibmV4dEJ1dHRvbiIsImxldmVsVGl0bGUiLCJsZXZlbEdyb3VwTGlzdCIsImxldmVsRGVzY3JpcHRpb24iLCJ3ZWxjb21lQmVnaW5CdXR0b24iLCJsZXZlbEdyb3VwcyIsInF1ZXVlVGFibGVGaWVsZHMiLCJsZXZlbHMiLCJzdGF0ZURpYWdyYW0iLCJzaG93TW9kYWwiLCJzZXRQUUEiLCJwcWEiLCJzaG93RGlhbG9nIiwic2V0UXVldWVUYWJsZSIsInVwZGF0ZVByaW9yaXR5UXVldWUiLCJ1cGRhdGVXb3JkIiwic2V0QWN0aXZlU3RhdGUiLCJvcGVuIiwic2hvd0Rlc2NyaXB0aW9uIiwic2Nyb2xsVG8iLCJnZXRUcmFuc2l0aW9uSWR4IiwiZXZlbnQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImhpdFJlZ2lvbiIsImdldEltYWdlRGF0YSIsImN1cnNvciIsImhpZGRlbiIsImlubmVySFRNTCIsInNldFF1ZXVlVGFibGVIZWFkIiwic2V0UXVldWVUYWJsZUJvZHkiLCJjb2x1bW5IZWFkZXJzIiwiY3JlYXRlVEhlYWQiLCJpbnNlcnRSb3ciLCJpbnNlcnRDZWxsIiwib3V0ZXJIVE1MIiwicXVldWVTeW1ib2wiLCJxdWV1ZUFscGhhYmV0IiwiY2VsbCIsInNjb3BlIiwiYm9keSIsImNyZWF0ZVRCb2R5IiwicHJpb3JpdGllcyIsInJvdyIsImhlYWRlciIsImlubmVyVGV4dCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJlcnJvciIsImpvaW4iLCJjcmVhdGVJblByb2plY3RpbGUiLCJxdWV1ZUluVHlwZSIsImluUHJvamVjdGlsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0YXJnZXRFbGVtIiwicGFyc2VJbnQiLCJ0YXJnZXQiLCJwcmVwZW5kIiwiYW5pbWF0ZSIsInRyYW5zZm9ybSIsImR1cmF0aW9uIiwic2V0VGltZW91dCIsInJlbW92ZSIsImNyZWF0ZU91dFByb2plY3RpbGUiLCJxdWV1ZU91dFR5cGUiLCJvdXRQcm9qZWN0aWxlIiwib25UcmFuc2l0aW9uQ2xpY2tlZCIsInBsYXkiLCJvblJlc2V0IiwidGhlbiIsIm9uQWNjZXB0IiwiYWRkTGV2ZWwiLCJsZXZlbE5hbWUiLCJncm91cCIsImlkIiwiZ3JvdXBFbGVtZW50IiwibGlzdCIsImxpc3RFbGVtIiwiYnV0dG9uIiwib25jbGljayIsIm9uTGV2ZWxTZWxlY3QiLCJzZXRQcmV2TmV4dCIsInByZXYiLCJuZXh0IiwiZGlzYWJsZWQiLCJsZXZlbERhdGEiLCJpc0xldmVsVW5sb2NrZWQiLCJzZXRMZXZlbE5hbWUiLCJuYW1lIiwic2V0TGV2ZWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwic2V0Rmlyc3RMZXZlbCIsInNldFVubG9ja2VkTGV2ZWxzIiwidW5sb2NrZWRMZXZlbHMiLCJ2YWx1ZXMiLCJsZXZlbCIsInNldEN1cnJlbnRMZXZlbCIsImdhbWVVSV8xIiwiTGV2ZWxEYXRhXzEiLCJuZXh0TGV2ZWwiLCJ1aSIsIkxldmVsRGF0YSIsImhhc0FjY2VwdGVkIiwibG9hZFBRQSIsImNyZWF0ZVBRQSIsInVubG9ja0xldmVsIiwicmVzZXRDdXJyZW50UFFBIiwiZ2V0TGV2ZWxEYXRhIiwiZ2V0UHJldmlvdXMiLCJnZXROZXh0IiwiZ2V0TmFtZSIsImdldExldmVsRGVzY3JpcHRpb24iLCJyZXNldFByb2dyZXNzIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsImxvY2F0aW9uIiwicmVsb2FkIiwiUFFBRGF0YSIsIlBRQV8xIiwiX2QiLCJfZSIsIkpTT04iLCJwYXJzZSIsImlucHV0QWxwaGFiZXQiLCJyYXdQYXRoIiwib2Zmc2V0IiwiY3JlYXRlUGF0aCIsImNyZWF0ZUxhYmVsUG9zaXRpb24iLCJoaWRlUXVldWUiLCJtaWRwb2ludCIsInBvaW50IiwibmV3SGVhZCIsImhlYWQiLCJzdGFydCIsImVuZCIsImRpc3QiLCJzcXJ0IiwidCIsIlNUQVRFX1JBRElVUyIsIm5ld1RhaWwiLCJ0YWlsIiwiQXJyYXkiLCJmcm9tIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJkb25lIiwiYXBwbHkiLCJQUUFEYXRhXzEiLCJsZXZlbHNfanNvbl8xIiwiZ3JvdXBzIiwiZmlyc3RMZXZlbCIsImdldEl0ZW0iLCJsb2FkTGV2ZWxzIiwiZmV0Y2giLCJyIiwidGV4dCIsInBhcnNlZERhdGEiLCJtZXRhZGF0YSIsImdyb3VwSW5kZXgiLCJncm91cE5hbWUiLCJpZHMiLCJjb21wcmVzc2VkSWRzIiwiZmlsdGVyIiwicHJldklkIiwiY3VycklkIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXN0IiwicmVwbGFjZSIsInAiXSwic291cmNlUm9vdCI6IiJ9